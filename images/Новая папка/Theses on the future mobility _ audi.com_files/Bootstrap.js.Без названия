(function ensightenInit(){var ensightenOptions = {client: "audi", clientId: 2328, publishPath: "globalbrandportal", isPublic:0, serverComponentLocation: "tms.audi.com/audi/globalbrandportal/serverComponent.php", staticJavascriptPath: "tms.audi.com/audi/globalbrandportal/code/", ns: 'Bootstrapper', nexus:"tms.audi.com", scUseCacheBuster: "true", enableTagAuditBeacon : "false", enablePagePerfBeacon : "false", registryNs : "ensBootstraps", generatedOn : "Tue Feb 23 11:57:16 GMT 2021", beaconSamplingSeedValue: 11};
if ( !window[ensightenOptions.ns] ) {
window[ensightenOptions.registryNs]||(window[ensightenOptions.registryNs]={});
window[ensightenOptions.registryNs][ensightenOptions.ns]=window[ensightenOptions.ns]=function(f){function l(a){this.name="DependencyNotAvailableException";this.message="Dependency with id "+a+"is missing"}function m(a){this.name="BeaconException";this.message="There was an error durring beacon initialization";a=a||{};this.lineNumber=a.lineNumber||a.line;this.fileName=a.fileName}function n(){for(var a=b.dataDefinitionIds.length,c=!0,d=0;d<a;d++){var e=b.dataDefinitions[b.dataDefinitionIds[d]];if(!e||
null==e.endRegistration){c=!1;break}}c&&b.callOnDataDefintionComplete()}var e={},b={};b.ensightenOptions=ensightenOptions;b.scDataObj={};e.version="1.26.0";e.nexus=f.nexus||"nexus.ensighten.com";e.rand=-1;e.currSec=(new Date).getSeconds();e.options={interval:f.interval||100,erLoc:f.errorLocation||e.nexus+"/error/e.gif",scLoc:f.serverComponentLocation||e.nexus+"/"+f.client+"/serverComponent.php",sjPath:f.staticJavascriptPath||e.nexus+"/"+f.client+"/code/",alLoc:f.alertLocation||e.nexus+"/alerts/a.gif",
publishPath:f.publishPath,isPublic:f.isPublic,client:f.client,clientId:f.clientId,enableTagAuditBeacon:f.enableTagAuditBeacon,scUseCacheBuster:f.scUseCacheBuster,beaconSamplingSeedValue:f.beaconSamplingSeedValue||-1};e.ruleList=[];e.allDeploymentIds=[];e.runDeploymentIds=[];e.runRuleIds=[];e.exceptionList=[];e.ensightenVariables={};e.test=function(a){if(!(a.executionData.hasRun||a.executionData.runTime&&0<a.executionData.runTime.length)){for(var c=0;c<a.dependencies.length;c++)if(!1===a.dependencies[c]())return;
a.execute()}};l.prototype=Error();l.prototype||(l.prototype={});l.prototype.constructor=l;e.DependencyNotAvailableException=l;m.prototype=Error();m.prototype||(m.prototype={});m.prototype.constructor=m;e.BeaconException=m;e.checkForInvalidDependencies=function(a,c,d,h){for(a=0;a<d.length;a++)if("DEPENDENCYNEVERAVAILABLE"===d[a])return b.currentRuleId=this.id,b.currentDeploymentId=this.deploymentId,b.reportException(new e.DependencyNotAvailableException(h[a])),c&&-1!==c&&e.allDeploymentIds.push(c),
!0;return!1};b.currentRuleId=-1;b.currentDeploymentId=-1;b.reportedErrors=[];b.reportedAlerts=[];b.AF=[];b._serverTime="";b._clientIP="";b.sampleBeacon=function(){var a=!1;try{var c=(e.currSec||0)%20,b=e.options.beaconSamplingSeedValue;-1===b?a=!0:0!==c&&0===b%c&&(a=!0)}catch(h){}return a};b.getServerComponent=function(a){b.callOnGetServerComponent();b.insertScript(window.location.protocol+"//"+e.options.scLoc,!1,a||!0,e.options.scUseCacheBuster)};b.setVariable=function(a,c){e.ensightenVariables[a]=
c};b.getVariable=function(a){return a in e.ensightenVariables?e.ensightenVariables[a]:null};b.testAll=function(){for(var a=0;a<e.ruleList.length;a++)e.test(e.ruleList[a])};b.executionState={DOMParsed:!1,DOMLoaded:!1,dataDefinitionComplete:!1,conditionalRules:!1,readyForServerComponent:!1};b.reportException=function(a){a.timestamp=(new Date).getTime();e.exceptionList.push(a);a=window.location.protocol+"//"+e.options.erLoc+"?msg="+encodeURIComponent(a.message||"")+"&lnn="+encodeURIComponent(a.lineNumber||
a.line||-1)+"&fn="+encodeURIComponent(a.fileName||"")+"&cid="+encodeURIComponent(e.options.clientId||-1)+"&client="+encodeURIComponent(e.options.client||"")+"&publishPath="+encodeURIComponent(e.options.publishPath||"")+"&rid="+encodeURIComponent(b.currentRuleId||-1)+"&did="+encodeURIComponent(b.currentDeploymentId||-1)+"&errorName="+encodeURIComponent(a.name||"");a=b.imageRequest(a);a.timestamp=(new Date).getTime();this.reportedErrors.push(a)};b.Rule=function(a){this.execute=function(){this.executionData.runTime.push(new Date);
b.currentRuleId=this.id;b.currentDeploymentId=this.deploymentId;try{this.code()}catch(c){window[ensightenOptions.ns].reportException(c)}finally{this.executionData.hasRun=!0,-1!==this.deploymentId&&(e.runDeploymentIds.push(this.deploymentId),e.runRuleIds.push(this.id)),b.testAll()}};this.id=a.id;this.deploymentId=a.deploymentId;this.dependencies=a.dependencies||[];this.code=a.code;this.executionData={hasRun:!1,runTime:[]}};b.registerRule=function(a){if(b.getRule(a.id)&&-1!==a.id)return!1;e.ruleList.push(a);
-1!==a.deploymentId&&e.allDeploymentIds.push(a.deploymentId);b.testAll();return!0};b.getRule=function(a){for(var c=0;c<e.ruleList.length;c++)if(e.ruleList[c].id===a)return e.ruleList[c];return!1};b.getRuleList=function(){return e.ruleList};b.clearRuleList=function(){e.ruleList=[]};b.getAllDeploymentIds=function(){return e.allDeploymentIds};b.getRunRuleIds=function(){return e.runRuleIds};b.getRunDeploymentIds=function(){return e.runDeploymentIds};b.hasRuleRun=function(a){return(a=b.getRule(a))?a.executionData.hasRun:
!1};e.toTwoChar=function(a){return(2===a.toString().length?"":"0")+a};b.Alert=function(a){var c=new Date;c=c.getFullYear()+"-"+e.toTwoChar(c.getMonth())+"-"+e.toTwoChar(c.getDate())+" "+e.toTwoChar(c.getHours())+":"+e.toTwoChar(c.getMinutes())+":"+e.toTwoChar(c.getSeconds());this.severity=a.severity||1;this.subject=a.subject||"";this.type=a.type||1;this.ruleId=a.ruleId||-1;this.severity=encodeURIComponent(this.severity);this.date=encodeURIComponent(c);this.subject=encodeURIComponent(this.subject);
this.type=encodeURIComponent(this.type)};b.generateAlert=function(a){a=b.imageRequest(window.location.protocol+"//"+e.options.alLoc+"?d="+a.date+"&su="+a.subject+"&se="+a.severity+"&t="+a.type+"&cid="+e.options.clientId+"&client="+e.options.client+"&publishPath="+e.options.publishPath+"&rid="+b.currentRuleId+"&did="+b.currentDeploymentId);a.timestamp=(new Date).getTime();this.reportedAlerts.push(a)};b.imageRequest=function(a){var c=new Image(0,0);c.src=a;return c};b.insertScript=function(a,c,d,h){var p=
document.getElementsByTagName("script"),g;h=void 0!==h?h:!0;if(void 0!==c?c:1)for(g=0;g<p.length;g++)if(p[g].src===a&&p[g].readyState&&/loaded|complete/.test(p[g].readyState))return;if(d){d=1==d&&"object"==typeof b.scDataObj?b.scDataObj:d;e.rand=Math.random()*("1E"+(10*Math.random()).toFixed(0));c=window.location.href;"object"===typeof d&&d.PageID&&(c=d.PageID,delete d.PageID);if("object"===typeof d)for(g in d){g=~c.indexOf("#")?c.slice(c.indexOf("#"),c.length):"";c=c.slice(0,g.length?c.length-g.length:
c.length);c+=~c.indexOf("?")?"&":"?";for(k in d)c+=k+"="+d[k]+"&";c=c.slice(0,-1)+g;break}a+="?";h&&(a+="r="+e.rand+"&");a+="namespace="+ensightenOptions.ns+"&";a+="staticJsPath="+ensightenOptions.staticJavascriptPath+"&";a+="publishedOn="+ensightenOptions.generatedOn+"&";a+="ClientID="+encodeURIComponent(e.options.clientId)+"&PageID="+encodeURIComponent(c)}(function(a,c,b){var d=c.head||c.getElementsByTagName("head");setTimeout(function(){if("item"in d){if(!d[0]){setTimeout(arguments.callee,25);
return}d=d[0]}var a=c.createElement("script");a.src=b;a.onload=a.onerror=function(){this.addEventListener&&(this.readyState="loaded")};d.insertBefore(a,d.firstChild)},0)})(window,document,a)};b.loadScriptCallback=function(a,c,b){var d=document.getElementsByTagName("script"),e;b=d[0];for(e=0;e<d.length;e++)if(d[e].src===a&&d[e].readyState&&/loaded|complete/.test(d[e].readyState))try{c()}catch(g){window[ensightenOptions.ns].reportException(g)}finally{return}d=document.createElement("script");d.type=
"text/javascript";d.async=!0;d.src=a;d.onerror=function(){this.addEventListener&&(this.readyState="loaded")};d.onload=d.onreadystatechange=function(){if(!this.readyState||"complete"===this.readyState||"loaded"===this.readyState){this.onload=this.onreadystatechange=null;this.addEventListener&&(this.readyState="loaded");try{c.call(this)}catch(g){window[ensightenOptions.ns].reportException(g)}}};b.parentNode.insertBefore(d,b)};b.insertPageFiles=function(a){var b=0,d=0,e=function(){d==a.length-1&&window[ensightenOptions.ns].callOnPageSpecificCompletion();
d++};for(b=0;b<a.length;++b)window[ensightenOptions.ns].loadScriptCallback(a[b],e)};b.unobtrusiveAddEvent=function(a,b,d){try{var c=a[b]?a[b]:function(){};a[b]=function(){d.apply(this,arguments);return c.apply(this,arguments)}}catch(p){window[ensightenOptions.ns].reportException(p)}};b.anonymous=function(a,c){return function(){try{b.currentRuleId=c?c:"anonymous",a()}catch(d){window[ensightenOptions.ns].reportException(d)}}};b.setCurrentRuleId=function(a){b.currentRuleId=a};b.setCurrentDeploymentId=
function(a){b.currentDeploymentId=a};b.bindImmediate=function(a,c,d){if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:d||-1,dependencies:[],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDOMParsed=function(a,c,d){if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMParsed}],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDOMLoaded=function(a,c,d){if("function"===
typeof a)a=new b.Rule({id:c||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMLoaded}],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindPageSpecificCompletion=function(a,c,d){if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.conditionalRules}],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindOnGetServerComponent=
function(a,c,d){if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.readyForServerComponent}],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDataDefinitionComplete=function(a,c,d){if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:d||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete}],code:a});else if("object"!==typeof a)return!1;
b.registerRule(a)};b.checkHasRun=function(a){if(0===a.length)return!0;for(var c,d=0;d<a.length;++d)if(c=b.getRule(parseInt(a[d],10)),!c||!c.executionData.hasRun)return!1;return!0};b.bindDependencyImmediate=function(a,c,d,h,f){var g=[];if(!e.checkForInvalidDependencies(c,h,d,f)){g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyDOMLoaded=
function(a,c,d,h,f){var g=[];if(!e.checkForInvalidDependencies(c,h,d,f)){g.push(function(){return window[ensightenOptions.ns].executionState.DOMLoaded});g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyDOMParsed=function(a,c,d,h,f){var g=[];if(!e.checkForInvalidDependencies(c,h,d,f)){g.push(function(){return window[ensightenOptions.ns].executionState.DOMParsed});
g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyPageSpecificCompletion=function(a,c,d,h,f){var g=[];if(!e.checkForInvalidDependencies(c,h,d,f)){g.push(function(){return window[ensightenOptions.ns].executionState.conditionalRules});g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===
typeof a)a=new b.Rule({id:c||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyOnGetServerComponent=function(a,c,d,h,f){var g=[];if(!e.checkForInvalidDependencies(c,h,d,f)){g.push(function(){return window[ensightenOptions.ns].executionState.readyForServerComponent});g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==
typeof a)return!1;b.registerRule(a)}};b.bindDependencyPageSpecificCompletion=function(a,c,d,f,p){var g=[];if(!e.checkForInvalidDependencies(c,f,d,p)){g.push(function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete});g.push(function(){return window[ensightenOptions.ns].checkHasRun(d)});if("function"===typeof a)a=new b.Rule({id:c||-1,deploymentId:f||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.dataDefintionIds=[];b.dataDefinitions=
[];b.pageSpecificDataDefinitionsSet=!1;b.setPageSpecificDataDefinitionIds=function(a){for(var c=a?a.length:0,d=0;d<c;d++){var e=a[d];if(Array.prototype.indexOf)-1==b.dataDefinitionIds.indexOf(e)&&b.dataDefinitionIds.push(e);else{for(var f=!1,g=b.dataDefinitionIds.length,l=0;l<g;l++)if(b.dataDefinitionIds[l]===e){f=!0;break}f||b.dataDefinitionIds.push(e)}}b.pageSpecificDataDefinitionsSet=!0;n()};b.DataDefinition=function(a,b){this.id=a;this.registrationFn=b;this.endRegistrationTime=this.startRegistrationTime=
null;this.startRegistration=function(){this.startRegistrationTime=new Date};this.endRegistration=function(){this.endRegistrationTime=new Date}};b.registerDataDefinition=function(a,c){var d=b.dataDefinitions[c];d||(d=new b.DataDefinition(c,a),b.dataDefinitions[c]=d);d.startRegistrationTime||(d.startRegistration(),d.registrationFn(),d.endRegistration());b.pageSpecificDataDefinitionsSet&&n()};b.callOnDataDefintionComplete=function(){b.executionState.dataDefinitionComplete=!0;b.testAll()};b.callOnDOMParsed=
function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].testAll()};b.callOnDOMLoaded=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].executionState.DOMLoaded=!0;window[ensightenOptions.ns].testAll()};b.callOnPageSpecificCompletion=function(){for(var a=document.getElementsByTagName("script"),b=0,d=a.length;b<d;b++)if(a[b].src&&a[b].src.match(/\.ensighten\.com\/(.+?)\/code\/.*/i)&&"loaded"!=a[b].readyState&&"complete"!=
a[b].readyState){setTimeout(window[ensightenOptions.ns].callOnPageSpecificCompletion,50);return}setTimeout(function(){window[ensightenOptions.ns].executionState.conditionalRules=!0;window[ensightenOptions.ns].testAll()},1)};b.callOnGetServerComponent=function(){window[ensightenOptions.ns].executionState.readyForServerComponent=!0;window[ensightenOptions.ns].testAll()};b.hasDOMParsed=function(){return window[ensightenOptions.ns].executionState.DOMParsed};b.hasDOMLoaded=function(){return window[ensightenOptions.ns].executionState.DOMLoaded};
b.hasPageSpecificCompletion=function(){return window[ensightenOptions.ns].executionState.conditionalRules};var r=function(){var a=[],b=!1,d=!1;return{add:function(c){b&&!d?c():"function"==typeof c&&(a[a.length]=c)},exec:function(){d=!0;do{var c=a;a=[];b=!0;for(var e=0;e<c.length;e++)try{c[e].call(window)}catch(g){window[ensightenOptions.ns].reportException(g)}}while(0<a.length);d=!1},haveRun:function(){return b}}};b.new_fArray=function(){return r()};e.timer=null;(function(){function a(a,b){return function(){a.apply(b,
arguments)}}window.console||(window.console={});var b=window.console;if(!b.log)if(window.log4javascript){var d=log4javascript.getDefaultLogger();b.log=a(d.info,d);b.debug=a(d.debug,d);b.info=a(d.info,d);b.warn=a(d.warn,d);b.error=a(d.error,d)}else b.log=function(){};b.debug||(b.debug=b.log);b.info||(b.info=b.log);b.warn||(b.warn=b.log);b.error||(b.error=b.log)})();document.addEventListener?(-1<navigator.userAgent.indexOf("AppleWebKit/")?e.timer=window.setInterval(function(){/loaded|interactive|complete/.test(document.readyState)&&
(clearInterval(e.timer),b.callOnDOMParsed())},50):document.addEventListener("DOMContentLoaded",b.callOnDOMParsed,!1),window.addEventListener("load",b.callOnDOMLoaded,!1)):(setTimeout(function(){var a=window.document;(function(){try{if(!document.body)throw"continue";a.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,15);return}window[ensightenOptions.ns].callOnDOMParsed()})()},1),window.attachEvent("onload",function(){window[ensightenOptions.ns].callOnDOMLoaded()}));document.readyState&&
"complete"===document.readyState&&(b.executionState.DOMParsed=!0,b.executionState.DOMLoaded=!0);"true"===e.options.enableTagAuditBeacon&&b.sampleBeacon()&&window.setTimeout(function(){if(window[ensightenOptions.ns]&&!window[ensightenOptions.ns].mobilePlatform)try{for(var a=[],c,d,h,l,g=0;g<e.ruleList.length;++g)d=e.ruleList[g],h=d.executionData.hasRun?"1":"0",l=d.deploymentId.toString()+"|"+d.id.toString()+"|"+h,a.push(l);c="["+a.join(";")+"]";var m=window.location.protocol+"//"+e.nexus+"/"+encodeURIComponent(f.client)+
"/"+encodeURIComponent(f.publishPath)+"/TagAuditBeacon.rnc?cid="+encodeURIComponent(f.clientId)+"&data="+c+"&idx=0&r="+e.rand;b.imageRequest(m)}catch(q){b.currentRuleId=-1,b.currentDeploymentId=-1,a=new e.BeaconException(q),window[ensightenOptions.ns].reportException(a)}},3E3);window.setInterval(b.testAll,e.options.interval);return b}(ensightenOptions);
"true"===ensightenOptions.enablePagePerfBeacon&&window[ensightenOptions.ns]&&window[ensightenOptions.ns].sampleBeacon()&&window[ensightenOptions.ns].bindDOMParsed(function(){if(!window[ensightenOptions.ns].mobilePlatform){var f=window.performance;if(f){f=f.timing||{};var l=f.navigationStart||0,m={connectEnd:"ce",connectStart:"cs",domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",domLoading:"dl",domainLookupEnd:"dle",domainLookupStart:"dls",fetchStart:"fs",
loadEventEnd:"lee",loadEventStart:"les",redirectEnd:"rede",redirectStart:"reds",requestStart:"reqs",responseStart:"resps",responseEnd:"respe",secureConnectionStart:"scs",unloadEventStart:"ues",unloadEventEnd:"uee"};var n="&ns="+encodeURIComponent(f.navigationStart);for(var e in m)if(void 0!==f[e]){var b=f[e]-l;n+="&"+m[e]+"="+(0<b?encodeURIComponent(b):0)}else n+="&"+m[e]+"=-1";window[ensightenOptions.ns].timing=n;e=ensightenOptions.nexus||"nexus.ensighten.com";f=ensightenOptions.staticJavascriptPath||
"";n=f.indexOf("/",0);l=f.indexOf("/code/");f=f.substring(n,l)+"/perf.rnc";f+="?cid="+encodeURIComponent(ensightenOptions.clientId)+window[ensightenOptions.ns].timing;window[ensightenOptions.ns].imageRequest("//"+e+f)}}});
	
    /*
     MIT License (c) copyright 2013 original author or authors */
    window[ensightenOptions.ns].data||(window[ensightenOptions.ns].when=function(){function f(a,b,d,c){return l(a).then(b,d,c)}function p(a){this.then=a}function l(a){return c(function(b){b(a)})}function c(b){function g(a){k&&(r=e(a),d(k,r),k=u)}function f(a){g(h(a))}function q(b){k&&d(k,a(b))}var r,k=[];try{b(g,f,q)}catch(E){f(E)}return new p(function(a,b,d){return c(function(c,g,e){k?k.push(function(f){f.then(a,b,d).then(c,g,e)}):n(function(){r.then(a,b,d).then(c,g,e)})})})}function e(a){return a instanceof
    p?a:a!==Object(a)?m(a):c(function(b,d,c){n(function(){try{var g=a.then;"function"===typeof g?z(g,a,b,d,c):b(m(a))}catch(y){d(y)}})})}function m(a){var b=new p(function(d){try{return"function"==typeof d?e(d(a)):b}catch(D){return h(D)}});return b}function h(a){var b=new p(function(d,c){try{return"function"==typeof c?e(c(a)):b}catch(F){return h(F)}});return b}function a(b){var d=new p(function(c,g,e){try{return"function"==typeof e?a(e(b)):d}catch(y){return a(y)}});return d}function d(a,b){n(function(){for(var d,
    c=0;d=a[c++];)d(b)})}function b(a,b,d,g,e){q(2,arguments);return f(a,function(a){return c(function(d,c,g){function e(a){h(a)}function q(a){u(a)}var k;var n=a.length>>>0;var t=Math.max(0,Math.min(b,n));var w=[];var x=n-t+1;var m=[];if(t){var h=function(a){m.push(a);--x||(u=h=r,c(m))};var u=function(a){w.push(a);--t||(u=h=r,d(w))};for(k=0;k<n;++k)k in a&&f(a[k],q,e,g)}else d(w)}).then(d,g,e)})}function t(a,b,d,c){q(1,arguments);return k(a,w).then(b,d,c)}function k(a,b){return f(a,function(a){return c(function(d,
    c,g){var e,q;var k=e=a.length>>>0;var r=[];if(k){var n=function(a,e){f(a,b).then(function(a){r[e]=a;--k||d(r)},c,g)};for(q=0;q<e;q++)q in a?n(a[q],q):--k}else d(r)})})}function n(a){1===x.push(a)&&A(g)}function g(){for(var a,b=0;a=x[b++];)a();x=[]}function q(a,b){for(var d,c=b.length;c>a;)if(d=b[--c],null!=d&&"function"!=typeof d)throw Error("arg "+c+" must be a function");}function r(){}function w(a){return a}f.defer=function(){var a,b;var d={promise:u,resolve:u,reject:u,notify:u,resolver:{resolve:u,
    reject:u,notify:u}};d.promise=a=c(function(c,g,e){d.resolve=d.resolver.resolve=function(d){if(b)return l(d);b=!0;c(d);return a};d.reject=d.resolver.reject=function(d){if(b)return l(h(d));b=!0;g(d);return a};d.notify=d.resolver.notify=function(a){e(a);return a}});return d};f.resolve=l;f.reject=function(a){return f(a,h)};f.join=function(){return k(arguments,w)};f.all=t;f.map=k;f.reduce=function(a,b){var d=z(B,arguments,1);return f(a,function(a){var c=a.length;d[0]=function(a,d,g){return f(a,function(a){return f(d,
    function(d){return b(a,d,g,c)})})};return G.apply(a,d)})};f.any=function(a,d,c,g){return b(a,1,function(a){return d?d(a[0]):a[0]},c,g)};f.some=b;f.isPromise=function(a){return a&&"function"===typeof a.then};p.prototype={otherwise:function(a){return this.then(u,a)},ensure:function(a){function b(){return l(a())}return this.then(b,b).yield(this)},yield:function(a){return this.then(function(){return a})},spread:function(a){return this.then(function(b){return t(b,function(b){return a.apply(u,b)})})},always:function(a,
    b){return this.then(a,a,b)}};var u;var x=[];var H=setTimeout;var A="function"===typeof setImmediate?"undefined"===typeof window?setImmediate:setImmediate.bind(window):"object"===typeof process&&process.nextTick?process.nextTick:function(a){H(a,0)};var v=Function.prototype;var C=v.call;var z=v.bind?C.bind(C):function(a,b){return a.apply(b,B.call(arguments,2))};v=[];var B=v.slice;var G=v.reduce||function(a){var b=0;var d=Object(this);var c=d.length>>>0;var g=arguments;if(1>=g.length)for(;;){if(b in
    d){g=d[b++];break}if(++b>=c)throw new TypeError;}else g=g[1];for(;b<c;++b)b in d&&(g=a(g,d[b],b,d));return g};return f}(),function(){function f(c,f){return l.all(f||[],function(e){return c.apply(null,e)})}function p(e){var m=c.call(arguments,1);return function(){return f(e,m.concat(c.call(arguments)))}}var l=window[ensightenOptions.ns].when;var c=[].slice;l.apply=f;l.call=function(e){return f(e,c.call(arguments,1))};l.lift=p;l.bind=p;l.compose=function(e){var m=c.call(arguments,1);return function(){var h=
    c.call(arguments);h=f(e,h);return l.reduce(m,function(a,d){return d(a)},h)}}}(),window[ensightenOptions.ns].data=function(f,p){function l(a,d){this.name="DataDefinitionException";this.message=d||"Data definitions cannot be resolved as there are invalid id(s): "+a}var c={engines:{memory:{get:function(a){if(e.utils.isArray(a)){for(var d=[],b=0;b<a.length;b++)d.push(c.data[a[b]]);return f[ensightenOptions.ns].when.resolve(d)}d=c.dataDefinitions[a]||{storage:{get:function(){}}};d=d.storage.get(d);c.data[a]=
    d;return f[ensightenOptions.ns].when.resolve(c.data[a])},set:function(a,d){if(e.utils.isArray(a))for(var b in a)c.data[a[b]]=d[b];else c.data[a]=d;return f[ensightenOptions.ns].when.resolve(!0)},remove:function(a){if(e.utils.isArray(a))for(var d in a)delete c.data[a[d]];else delete c.data[a];return f[ensightenOptions.ns].when.resolve(!0)},clear:function(a){c.data={};c.definitions={};return f[ensightenOptions.ns].when.resolve(!0)},all:function(){return f[ensightenOptions.ns].when.resolve(c.data)}}},
    normalizeInputArgs:function(a,d){var b={key:[],val:p},c;if(e.utils.isPlainObject(a))for(c in b.val=[],a)b.key.push(c),b.val.push(a[c]);else e.utils.isArray(a),b.key=a,b.val=d;return b},definitions:{},data:{}},e={utils:{isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},escapeRegEx:function(a){try{return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}catch(d){return a}}}},m=function(){return f[ensightenOptions.ns].when.reject("Not Implemented.")};
    l.prototype=Error();l.prototype||(l.prototype={});l.prototype.constructor=l;c.DataDefinitionException=l;c.checkForInvalidDataDefinitions=function(a){e.utils.isArray(a)||(a=[a]);return a&&0<a.length&&(a=a.join(","),-1<a.indexOf("invalid_id"))?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a)),!0):!1};c.collectAvailableDataDefinitions=function(a){for(var d=[],b=0;b<a.length;b++){var t=parseInt(a[b],10),k=f[ensightenOptions.ns].dataDefinitions[t];if(null===k||k===p)if(k=e.storage.session.get({id:t}),
    null!==k&&k!==p)e.set(t,k),c.dataDefinitions[t]={id:t,load:"visitor",storage:e.storage.visitor,missingDDFromCache:!0},d.push(f[ensightenOptions.ns].data.get(""+t));else return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Invalid data definition used: "+t)),{promises:[],isInvalid:!0};else d.push(f[ensightenOptions.ns].data.get(""+a[b]))}return{promises:d,isInvalid:!1}};c.getSync=function(a){function d(a){var d=a.extract||t,c=a.transform||k,g=!1,e=null,f=null;try{e=d()}catch(v){e=
    null,g=!0}try{f=c(e)}catch(v){f=null,g=!0}g&&b.push(a.id);return f}var b=[],t=function(){return document},k=function(a){return null!==a&&a!==p?a.toString():null},n=parseInt(a);a="string"===typeof a?a.split("."):[];var g={},q="";if(!isNaN(n)&&"undefined"===typeof c.dataDefinitions[n])return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(n,"Error resolving data definition: "+n+".  Does not exist on the page.")),"Data definition specified does not exist on the page";if(isNaN(n)&&
    "undefined"===typeof c.dataDefinitionsBySourceCollName[""+a[0]+"."+a[1]+"."+a[2]])return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definition: "+a[0]+"."+a[1]+"."+a[2]+".  Does not exist on the page.")),"Data definition specified does not exist on the page";isNaN(n)?3==a.length&&(g=e.getDataDefinitionBySourceCollectionName(a[0],a[1],a[2])):g=e.getDataDefinitionById(n);q=g.load&&g.load.match(/(session|visitor)/i)&&g.storage&&g.storage.get?g.storage.get(g):
    d(g);0<b.length&&f[ensightenOptions.ns].reportException(new c.DataDefinitionException(b,"Error resolving data definitions synchronously: "+b));return q};c.dataDefinitions={};c.dataDefinitionsBySourceCollName={};e.defineEngine=function(a,d){var b,e=["get","set","remove","clear","all"];c.engines[a]=d;if(!d.returnsPromise)for(b=0;b<e.length;b++){var k=e[b];d[k]=f[ensightenOptions.ns].when.lift(d[k])}};e.storage={instance:{set:function(a,d){},get:function(a){return c.getSync(a.id)}},page:{set:function(a,
    d){},get:function(a){return c.data[a.id]}},session:{set:function(a,d){var b=e.storage.session.get({id:a}),c=new Date,k=c.getTime();c.setTime(k+18E5);null!=b&&(d=b);f[ensightenOptions.ns].data.cookie.utils.set(a,d,{expires:c.toGMTString()});b={expires:c.getTime(),value:d};f[ensightenOptions.ns].data.local.utils.set(a,b)},get:function(a){var d=f[ensightenOptions.ns].data.cookie.utils.get(a.id),b=f.JSON&&f.JSON.stringify?f.JSON:f[ensightenOptions.ns].JSON;b=b||{};var c=new Date;c=c.getTime();if(null===
    d){try{var e=b.parse(f[ensightenOptions.ns].data.local.utils.get(a.id))}catch(n){e=null}null!=e&&(e.expires=+e.expires,c<=e.expires?d=e.value:""==e.expires&&e.value!=p?d=e.value:f[ensightenOptions.ns].data.local.utils.remove(a.id))}return d}},visitor:{set:function(a,d){var b=e.storage.session.get({id:a});null!=b&&(d=b);f[ensightenOptions.ns].data.cookie.utils.set(a,d);f[ensightenOptions.ns].data.local.utils.set(a,{expires:"",value:d})},get:function(a){return e.storage.session.get(a)}}};e.getEngine=
    e.engine=function(a){return a?c.engines[a]||{get:m,set:m,remove:m,clear:m,all:m}:c.engines};e.all=function(a){return f[ensightenOptions.ns].data.engine(a||"memory").all()};e.get=function(a,d,b){d=d||"memory";b=b||{};-1<a.indexOf(",")?(a=a.split(","),a=c.normalizeInputArgs(a)):a=c.normalizeInputArgs(a);return b.wait?c.getWait(a.key,f[ensightenOptions.ns].data.engine(d),b):c.data&&c.data.hasOwnProperty(a.key)?f[ensightenOptions.ns].data.engine(d).get(a.key):c.getWaitForKey(a.key,f[ensightenOptions.ns].data.engine(d),
    b)};c.getWait=function(a,d,b){var c=+new Date,k=f[ensightenOptions.ns].when.defer(),n=function(){var c=d.get(a);if(-1===b.wait)return c;c.then(function(a){b.setCheck(a)?k.resolve(a):setTimeout(g,b.interval)},function(a){setTimeout(g,b.interval)})},g=function(){var a=+new Date-c;-1!==b.wait&&a<b.wait?n():k.reject("Timeout")};b.interval=b.interval||500;b.wait=b.wait||5E3;e.utils.isArray(a)?b.setCheck=b.setCheck||function(a){for(var b=!0,d=0;d<a.length;d++)b=b&&!!a[d];return b}:b.setCheck=b.setCheck||
    function(a){return!!a};n();return k.promise};c.getWaitForKey=function(a,d,b){var e=f[ensightenOptions.ns].when.defer(),k=function(){if(c.data&&c.data.hasOwnProperty(a)){var g=d.get(a);if(-1===b.wait)return g;g.then(function(a){e.resolve(a)},function(a){e.reject(a)})}else setTimeout(n,b.interval)},n=function(){k()};b.interval=b.interval||100;b.wait=b.wait||1;k();return e.promise};e.set=function(a,d,b){var e=c.normalizeInputArgs(a,d);Array.prototype.slice.call(arguments);return f[ensightenOptions.ns].data.engine(b||
    "memory").set(e.key,e.val)};e.remove=function(a,d){return f[ensightenOptions.ns].data.engine(d||"memory").remove(a)};e.clear=function(a){return f[ensightenOptions.ns].data.engine(a||"memory").clear()};e.define=function(a,d){d&&(a.name=d.id||d.name);if(!a.name)return f[ensightenOptions.ns].when.reject(Error("Invalid parameters: missing 'name'"));a.id=a.name;var b=a.load||"page";a.load=a.load||"javascript";a.load=-1<a.load.indexOf("javascript")?a.load:a.load+",javascript";a.trigger=a.trigger||function(){return f[ensightenOptions.ns].when.resolve()};
    a.priv=a.priv||!1;a.collection=a.collection||"Data Layer";a.persist=f[ensightenOptions.ns].data.engine("memory");a.storage=e.storage[b.toLowerCase()]||e.storage.page;var h=a.extract||function(){return document},k=a.transform||function(a){return a},n=function(b,d){var c=[];c.push(a.persist.set(b,d));a.storage.set(a.id,d);"object"==typeof f[ensightenOptions.ns].data.dataExport&&f[ensightenOptions.ns].data.dataExport(b,d,a.collection);f[ensightenOptions.ns].when.all(c).then(function(a){g.resolve(a)},
    function(a){g.reject(a)})},g=f[ensightenOptions.ns].when.defer();try{var q=a.trigger()}catch(r){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,'"'+r+'" error caught in Data Definition trigger: '+a.dataDefName+", ID:"+a.id+". Using bottom of body trigger.")),q=f[ensightenOptions.ns].data.bottomOfBodyTrigger()}q.then(function(){g.resolve(f[ensightenOptions.ns].when.reduce([function(){try{return h()}catch(r){return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,
    '"'+r+'" error caught in Data Definition extractor: '+a.dataDefName+", ID:"+a.id+".")),null}}(),function(){try{return k.apply(this,arguments)}catch(r){return f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,'"'+r+'" error caught in Data Definition transformer: '+a.dataDefName+", ID "+a.id+".")),null}},n],function(b,d,c,e){if(1==c)return d(b);2==c&&d(a.name,b)}))},function(a){g.reject(a)});c.dataDefinitions[a.id]=a;c.dataDefinitionsBySourceCollName[""+a.source+"."+a.collection+
    "."+a.dataDefName]=a;return g.promise};e.checkConditions=function(a){var d,b={lt:function(a,b){var d=+a,e=+b;return isNaN(d)||isNaN(e)?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+a+", compareTo: "+b)),!1):d<e},gt:function(a,b){var d=+a,e=+b;return isNaN(d)||isNaN(e)?(f[ensightenOptions.ns].reportException(new c.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+a+", compareTo: "+
    b)),!1):d>e},eql:function(a,b){return a==b},exists:function(a,b){return null==a||a==p||""==a?!1:!0},re:function(a,b,d){b=new RegExp(b,d?"i":"");try{return a.match(b)}catch(q){return!1}},starts:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,"^"+d,c)},ends:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,d+"$",c)},contains:function(a,d,c){d=e.utils.escapeRegEx(d);return b.re(a,".*"+d+".*",c)}};b.is=b.eql;b["starts with"]=b.starts;b["ends with"]=b.ends;b["is greater than"]=b.gt;b["is less than"]=
    b.lt;b.matches=b.re;for(d=0;d<a.values.length;d++){var h=(a.customComparator?a.customComparator[d]?a.customComparator[d]:b[a.comparators[d]]:b[a.comparators[d]])(a.values[d],a.compareTo[d],a.caseInsensitive?a.caseInsensitive[d]||!1:!1);a.not[d]&&(h=!h);if(!h)return!1}return!0};e.triggerPromise=function(a,d,b){b=b||5E3;var c=+new Date,e=f[ensightenOptions.ns].when.defer();(function(){var f=a();f!=d?e.resolve(f):+new Date-c<b?setTimeout(arguments.callee,200):e.reject("timed out")})();return e.promise};
    e.timeoutPromise=function(a,d){var b=f[ensightenOptions.ns].when.defer();d=d||800;a.then(b.resolve,b.reject);setTimeout(function(){b.reject(Error("timed out"))},d);return b.promise};e.delayTrigger=function(a){a=a||10;var d=f[ensightenOptions.ns].when.defer();setTimeout(function(){d.resolve()},a);return d.promise};e.delayUntilTrigger=function(a,d,b,c){b=b||null;c=c||200;var e=+new Date,h=f[ensightenOptions.ns].when.defer();(function(){var g=a();g!=d?h.resolve(g):b?+new Date-e<b?setTimeout(arguments.callee,
    c):h.reject("timed out"):setTimeout(arguments.callee,c)})();return h.promise};c.applyTrigger=function(a){var d=f[ensightenOptions.ns].when.defer();a(function(){d.resolve(!0)});return d.promise};e.immediateTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindImmediate)};e.bottomOfBodyTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindDOMParsed)};e.whenValueExistsTrigger=function(){return f[ensightenOptions.ns].when.resolve(this.extract())};e.afterEnsightenCompleteTrigger=
    function(){return c.applyTrigger(f[ensightenOptions.ns].bindPageSpecificCompletion)};e.afterElementsDownloadedTrigger=function(){return c.applyTrigger(f[ensightenOptions.ns].bindDOMLoaded)};e.getAllDataDefinitionsOnCurrentPage=function(){return c.dataDefinitions};e.getAllDataDefinitionsOnCurrentPage_S_C_N=function(){return c.dataDefinitionsBySourceCollName};e.getDataDefinitionById=function(a){return c.dataDefinitions[a||-1]||{}};e.getDataDefinitionBySourceCollectionName=function(a,d,b){return c.dataDefinitionsBySourceCollName[""+
    a+"."+d+"."+b]||{}};e.getDataDefinitionByPercentSyntax=function(a){a=(""+a).split("_");return 1>a.length?{}:c.dataDefinitions[a[1]]||{}};e.resolve=function(a,d){var b=this,h=null;if(!c.checkForInvalidDataDefinitions(a))if(d)f[ensightenOptions.ns].bindDataDefinitionComplete(function(){var e=c.collectAvailableDataDefinitions(a);e.isInvalid||f[ensightenOptions.ns].when.all(e.promises).then(function(e){try{d.apply(b,e)}catch(r){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definitions: "+
    a+". Details: "+r))}},function(b){f[ensightenOptions.ns].reportException(new c.DataDefinitionException(a,"Error resolving data definitions: "+a+". Details: "+b))})});else{h=[];var k=a;e.utils.isArray(a)||(k=[a]);for(var m=0;m<k.length;m++)h.push(c.getSync(k[m]));return h=e.utils.isArray(a)?h:h[0]}};e.extract=function(a,d){var b="",c=function(a,b){var d=~b.indexOf("#")?b.split("#")[1]:"",c=d?0:~b.indexOf("[")?parseInt(b.match(/\[(\d+)\]/)[1]):0,e=(d?b.split("#")[0]:c?b.split("[")[0]:b).toLowerCase();
    if(a==document&&"html"==e&&0==c)return document.getElementsByTagName("html")[0];if(~b.indexOf("#"))return document.getElementById(b.split("#")[1]);var g=a.firstChild;if(!g)return null;var f=0;for(c=0!=c?c-1:c;g;){if(1==g.nodeType){if(g.tagName.toLowerCase()==e&&""!=d&&g.id==d||g.tagName.toLowerCase()==e&&f==c&&""==d)return g;g.tagName.toLowerCase()==e&&f++}g=g.nextSibling}},e=function(a,b){a=a.split("/");for(var d=c(b||document,a[1]),e=2;e<a.length;e++){if(null==d)return null;d=c(d,a[e])}return d},
    h=function(){for(var a={},b=f.document.getElementsByTagName("META")||[],d=0,c=b.length;d<c;d++){var e=b[d].name||b[d].getAttribute("property")||"";0!==e.length&&(a[e]=b[d].content)}return a}(),g=function(a){var b=h[a];if(b)return b;b=f.document.getElementsByTagName("META")||[];for(var d=0,c=b.length;d<c;d++){var e=b[d].name||b[d].getAttribute("property")||"";if(a==e)return b[d].content}},q=function(a){return(val=(new RegExp("&"+a+"=([^&]*)")).exec(f.location.search.replace(/^\?/,"&")))?val[0].split("=")[1]:
    ""},r=function(a){return(val=(new RegExp("^"+a+"=.*|;\\s*"+a+"=.*")).exec(f.document.cookie))?val[0].split("=")[1].split(";")[0]:""},m=function(a){(a=l(a))&&a.nodeType&&1==a.nodeType&&(a=a.value||a.innerHTML||"");return a.toString().replace(/\n|\r|\s\s+/g,"")||""},l=function(a){var b="";if(0==a.indexOf("/HTML/BODY"))b=e(a);else try{b=eval(a)}catch(A){b=""}return b};try{return d?"meta"==d?b=g(a):"cookie"==d?b=r(a):"param"==d?b=q(a):"content"==d?b=m(a):"event"==d?b=l(a):"var"==d&&(b=f[a]):b=g(a)||r(a)||
    q(a)||m(a)||l(a)||f[a]||"",b||""}catch(x){return""}};if("undefined"==typeof h)var h={exports:{}};return e}(window),window[ensightenOptions.ns].data.defineEngine("store",function(){function f(a){return function(){var d=Array.prototype.slice.call(arguments,0);d.unshift(b);k.appendChild(b);b.addBehavior("#default#userData");b.load(h);d=a.apply(store,d);k.removeChild(b);return d}}function p(a){return a.replace(l,"___")}var l=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),c={},e=window,m=e.document,
    h="localStorage",a,d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};c.set=function(a,b){};c.get=function(a){};c.remove=function(a){};c.clear=function(){};try{if(h in e&&e[h]){var b=e[h];c.set=function(a,c){var e,g=window.JSON&&window.JSON.stringify?window.JSON:window[ensightenOptions.ns].JSON;if(d(a)){var f=0;for(e=a.length;f<e;f++)b.setItem(a[f],"string"===typeof c[f]?c[f]:g.stringify(c[f]))}else b.setItem(a,"string"===typeof c?c:g.stringify(c))};c.get=function(a){if(d(a)){var c=
    {},e;var f=0;for(e=a.length;f<e;f++)c[a[f]]=b.getItem(a[f]);return c}return b.getItem(a)};c.remove=function(a){if(d(a)){var c;var e=0;for(c=a.length;e<c;e++)b.removeItem(a[e])}else b.removeItem(a)};c.clear=function(){b.clear()};c.all=function(){return b}}else if("globalStorage"in e&&e.globalStorage)b=e.globalStorage[e.location.hostname],c.set=function(a,c){if(d(a)){var e;var f=0;for(e=a.length;f<e;f++)b[a[f]]=c[f]}else b[a]=c},c.get=function(a){if(d(a)){var c={},e;var f=0;for(e=a.length;f<e;f++)c[a[f]]=
    b[a[f]]&&b[a[f]].value;return c}return b[a]&&b[a].value},c.remove=function(a){if(d(a)){var c;var e=0;for(c=a.length;e<c;e++)delete b[a[e]]}else delete b[a]},c.clear=function(){for(var a in b)delete b[a]},c.all=function(){return b};else if(m.documentElement.addBehavior){try{var t=new ActiveXObject("htmlfile");t.open();t.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></frame>');t.close();var k=t.w.frames[0].document;b=k.createElement("div")}catch(g){b=m.createElement("div"),
    k=m.body}c.set=f(function(a,b,e){if(d(b)){var f;var g=0;for(f=b.length;g<f;g++){fixedKey=p(b[g]);if(void 0===e[g])return c.remove(fixedKey);a.setAttribute(fixedKey,e[g]);a.save(h)}}else{fixedKey=p(b);if(void 0===e)return c.remove(fixedKey);a.setAttribute(fixedKey,e);a.save(h)}});c.get=f(function(a,b){if(d(b)){var c={},e;var f=0;for(e=b.length;f<e;f++){var g=p(b[f]);c[b[f]]=a.getAttribute(g)}return c}b=p(b);return a.getAttribute(b)});c.remove=f(function(a,b){if(d(b)){var c;var e=0;for(c=b.length;e<
    c;e++)a.removeAttribute(p(b[e])),a.save(h)}else b=p(b),a.removeAttribute(b),a.save(h)});c.clear=f(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(h);for(var d=0,c;c=b[d];d++)a.removeAttribute(c.name);a.save(h)});c.all=f(function(a){for(var b=a.XMLDocument.documentElement.attributes,d={},c=0,e;e=b[c];++c){var f=p(e.name);d[e.name]=a.getAttribute(f)}return d})}}catch(g){}var n={};for(a in c)n[a]=c[a];n.testStorage=function(){try{var a="tk_"+Math.ceil(5E7*Math.random());n.set(a,"test");
    if("test"===n.get(a))return n.remove(a),!0}catch(q){}return!1};c.utils=n;return window[ensightenOptions.ns].data.local=c}()),window[ensightenOptions.ns].data.defineEngine("cookie",function(f,p){var l=function(){return l.get.apply(l,arguments)},c=l.utils={isArray:Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},isPlainObject:window[ensightenOptions.ns].data.utils.isPlainObject,toArray:function(c){return Array.prototype.slice.call(c)},getKeys:Object.keys||function(c){var e=
    [],f="";for(f in c)c.hasOwnProperty(f)&&e.push(f);return e},escape:function(c){return String(c).replace(/[,;"\\=\s%]/g,function(c){return encodeURIComponent(c)})},retrieve:function(c,f){return null==c?f:c},getAllCookies:function(){if(""===f.cookie)return{};for(var c=f.cookie.split("; "),m={},h=0,a=c.length;h<a;h++){var d=c[h].split("=");m[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return m},set:function(e,m,h){h=h||-1;if(c.isPlainObject(e))for(var a in e)e.hasOwnProperty(a)&&l.set(a,e[a],
    m);else if(c.isArray(e)){var d;a=0;for(d=e.length;a<d;a++)l.set(e[a],m[a],h)}else{a=h.expires!==p?h.expires:l.defaults.expires||"";"number"===typeof a&&(a=new Date(a));a=c.isPlainObject(a)&&"toGMTString"in a?";expires="+a.toGMTString():c.isPlainObject(a)&&a instanceof Date?";expires="+a.toUTCString():";expires="+a;d=(d=h.path||l.defaults.path)?";path="+d:"";var b=h.domain||l.defaults.domain;b=b?";domain="+b:"";h=h.secure||l.defaults.secure?";secure":"";f.cookie=c.escape(e)+"="+c.escape(m)+a+d+b+h}},
    get:function(e,f){f=f||p;var h=c.getAllCookies();if(c.isArray(e)){for(var a={},d=0,b=e.length;d<b;d++)a[e[d]]=c.retrieve(h[e[d]],f),a[e[d]]===p&&(a[e[d]]=null);return a}a=c.retrieve(h[e],f);return a===p?null:a},getGMTString:function(c){var e=new Date;e.setTime(e.getTime()+864E5*c);return e.toGMTString()}};l.defaults={path:"/",expires:c.getGMTString(90)};l.set=function(e,f){c.set(e,f)};l.remove=function(e){e=c.isArray(e)?e:c.toArray(arguments);for(var f=0,h=e.length;f<h;f++)c.set(e[f],"",{expires:-1})};
    l.clear=function(){return l.remove(c.getKeys(c.getAllCookies()))};l.get=function(e,f){return c.get(e,f)};l.all=function(){return c.getAllCookies()};l.utils=c;return window[ensightenOptions.ns].data.cookie=l}(document)));
		
window[ensightenOptions.ns].ensEvent||(window[ensightenOptions.ns].ensEvent=function(p,u){var k={queue:{},pollQueue:{},pushTrigger:function(b,c){if("[object Array]"===Object.prototype.toString.call(b)){for(var g=0;g<b.length;g++)k.pushTrigger(b[g],c);return!0}if("string"!=typeof b)return!1;this.queue[b]=this.queue[b]||{fn:[]};"function"==typeof c&&this.queue[b].fn.push(c);return!0},callTrigger:function(b,c,g){if("string"!=typeof b)return!1;b=k.queue[b];if("object"==typeof b&&b.fn&&b.fn.length&&(0!=
b.fireOnFirstSet&&c==u||c!=u&&0!=b.fireOnUpdate))for(c=0;c<b.fn.length;c++)try{b.fn[c].call(this)}catch(n){p[ensightenOptions.ns].reportException(n)}},setPollOptions:function(b,c,g){this.queue[b]=this.queue[b]||{fn:[]};this.queue[b].fireOnFirstSet=c;this.queue[b].fireOnUpdate=g},callPoll:function(b,c,g,p,r){if("string"==typeof b&&c&&c.length&&!(1>c.length)){for(var n=0;n<c.length;n++)k.setPollOptions(c[n],p,r);k.pushWatch(b,c,g)}},pushWatch:function(b,c,g){this.pollQueue[b]||(this.pollQueue[b]={previousVal:u,
eventArr:[],valueFn:g});this.pollQueue[b].eventArr=this.pollQueue[b].eventArr.concat(c);this.pollQueue[b].valueFn=g},globalWatch:function(){setInterval(function(){for(var b in k.pollQueue){var c=k.pollQueue[b],g=c.valueFn(b);if(c.previousVal!==g&&null!==g&&""!==g){for(var n=0;n<c.eventArr.length;n++)k.callTrigger.call(p,c.eventArr[n],c.previousVal,g);k.pollQueue[b].previousVal=g}}},500)}};k.globalWatch();return{add:function(b,c){return k.pushTrigger(b,c)},get:function(b){return k.queue[b]},trigger:function(b,
c){return k.callTrigger.call(c||p,b)},poll:function(b,c,g,n,r){r=r||p[ensightenOptions.ns].data.resolve;return k.callPoll(b,c,r,g,n)}}}(window),function(p,u,k){u[p]=k()}("qwery",window[ensightenOptions.ns],function(){function p(){this.c={}}function u(a){return H.g(a)||H.s(a,"(^|\\s+)"+a+"(\\s+|$)",1)}function k(a,d){for(var e=0,f=a.length;e<f;e++)d(a[e])}function b(a){for(var d=[],e=0,f=a.length;e<f;++e)l(a[e])?d=d.concat(a[e]):d[d.length]=a[e];return d}function c(a){for(var d=0,e=a.length,f=[];d<
e;d++)f[d]=a[d];return f}function g(a){for(;(a=a.previousSibling)&&1!=a.nodeType;);return a}function n(a,d,e,f,b,h,l,c,g,k,y){var I,B,m;if(1!==this.nodeType||d&&"*"!==d&&this.tagName&&this.tagName.toLowerCase()!==d||e&&(I=e.match(Q))&&I[1]!==this.id)return!1;if(e&&(m=e.match(R)))for(a=m.length;a--;)if(!u(m[a].slice(1)).test(this.className))return!1;if(g&&v.pseudos[g]&&!v.pseudos[g](this,y))return!1;if(f&&!l)for(B in g=this.attributes,g)if(Object.prototype.hasOwnProperty.call(g,B)&&(g[B].name||B)==
b)return this;return f&&!x(h,S(this,b)||"",l)?!1:this}function r(a){return J.g(a)||J.s(a,a.replace(T,"\\$1"))}function x(a,d,e){switch(a){case "=":return d==e;case "^=":return d.match(w.g("^="+e)||w.s("^="+e,"^"+r(e),1));case "$=":return d.match(w.g("$="+e)||w.s("$="+e,r(e)+"$",1));case "*=":return d.match(w.g(e)||w.s(e,r(e),1));case "~=":return d.match(w.g("~="+e)||w.s("~="+e,"(?:^|\\s+)"+r(e)+"(?:\\s+|$)",1));case "|=":return d.match(w.g("|="+e)||w.s("|="+e,"^"+r(e)+"(-|$)",1))}return 0}function q(a,
d){var e=[],f=[],b,h,l=d,c=C.g(a)||C.s(a,a.split(K)),g=a.match(L);if(!c.length)return e;var m=(c=c.slice(0)).pop();c.length&&(b=c[c.length-1].match(M))&&(l=N(d,b[1]));if(!l)return e;var y=m.match(E);var v=l!==d&&9!==l.nodeType&&g&&/^[+~]$/.test(g[g.length-1])?function(a){for(;l=l.nextSibling;)1==l.nodeType&&(y[1]?y[1]==l.tagName.toLowerCase():1)&&(a[a.length]=l);return a}([]):l.getElementsByTagName(y[1]||"*");b=0;for(m=v.length;b<m;b++)if(h=n.apply(v[b],y))e[e.length]=h;if(!c.length)return e;k(e,
function(a){t(a,c,g)&&(f[f.length]=a)});return f}function t(a,d,e,b){function l(a,b,c){for(;c=U[e[b]](c,a);)if(f(c)&&n.apply(c,d[b].match(E)))if(b){if(h=l(c,b-1,c))return h}else return c}var h;return(h=l(a,d.length-1,a))&&(!b||z(h,b))}function f(a,d){return a&&"object"===typeof a&&(d=a.nodeType)&&(1==d||9==d)}function h(a){var d=[],e;var f=0;a:for(;f<a.length;++f){for(e=0;e<d.length;++e)if(d[e]==a[f])continue a;d[d.length]=a[f]}return d}function l(a){return"object"===typeof a&&isFinite(a.length)}
function N(a,d,e){return 9===a.nodeType?a.getElementById(d):a.ownerDocument&&((e=a.ownerDocument.getElementById(d))&&z(e,a)&&e||!z(a,a.ownerDocument)&&F('[id="'+d+'"]',a)[0])}function v(a,d){var e,h;var g=d?"string"==typeof d?v(d)[0]:!d.nodeType&&l(d)?d[0]:d:m;if(!g||!a)return[];if(a===window||f(a))return!d||a!==window&&f(g)&&z(a,g)?[a]:[];if(a&&l(a))return b(a);if(e=a.match(V)){if(e[1])return(h=N(g,e[1]))?[h]:[];if(e[2])return c(g.getElementsByTagName(e[2]));if(W&&e[3])return c(g.getElementsByClassName(e[3]))}return F(a,
g)}function y(a,d){return function(e){var f,b;O.test(e)?9!==a.nodeType&&((b=f=a.getAttribute("id"))||a.setAttribute("id",b="__qwerymeupscotty"),d(a.parentNode||a,'[id="'+b+'"]'+e,!0),f||a.removeAttribute("id")):e.length&&d(a,e,!1)}}var m=document,D=m.documentElement,F,Q=/#([\w\-]+)/,R=/\.[\w\-]+/g,M=/^#([\w\-]+)$/,X=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,Y=/^\s+|\s*([,\s\+~>]|$)\s*/g,A=/[\s>\+~]/,P=/(?![\s\w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,T=/([.*+?\^=!:${}()|\[\]\/\\])/g,
V=new RegExp(M.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),L=new RegExp("("+A.source+")"+P.source,"g"),K=new RegExp(A.source+P.source),E=new RegExp(/^(\*|[a-z0-9]+)?(?:([\.#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*~]?=)['"]?([ \w\-\/\?&=:\.\(\)!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),U={" ":function(a){return a&&a!==D&&a.parentNode},">":function(a,d){return a&&a.parentNode==d.parentNode&&a.parentNode},"~":function(a){return a&&
a.previousSibling},"+":function(a,d,e,f){return a?(e=g(a))&&(f=g(d))&&e==f&&e:!1}};p.prototype={g:function(a){return this.c[a]||void 0},s:function(a,d,e){d=e?new RegExp(d):d;return this.c[a]=d}};var H=new p,J=new p,w=new p,C=new p,z="compareDocumentPosition"in D?function(a,d){return 16==(d.compareDocumentPosition(a)&16)}:"contains"in D?function(a,d){d=9===d.nodeType||d==window?D:d;return d!==a&&d.contains(a)}:function(a,d){for(;a=a.parentNode;)if(a===d)return 1;return 0},S=function(){var a=m.createElement("p");
return(a.innerHTML='<a href="#x">x</a>',"#x"!=a.firstChild.getAttribute("href"))?function(a,e){return"class"===e?a.className:"href"===e||"src"===e?a.getAttribute(e,2):a.getAttribute(e)}:function(a,e){return a.getAttribute(e)}}(),W=!!m.getElementsByClassName,Z=m.querySelector&&m.querySelectorAll,aa=function(a,d){var e=[],f,b;try{if(9===d.nodeType||!O.test(a))return c(d.querySelectorAll(a));k(f=a.split(","),y(d,function(a,d){b=a.querySelectorAll(d);1==b.length?e[e.length]=b.item(0):b.length&&(e=e.concat(c(b)))}));
return 1<f.length&&1<e.length?h(e):e}catch(ba){}return G(a,d)},G=function(a,d){var e=[],f,b;a=a.replace(Y,"$1");if(f=a.match(X)){var l=u(f[2]);f=d.getElementsByTagName(f[1]||"*");var c=0;for(b=f.length;c<b;c++)l.test(f[c].className)&&(e[e.length]=f[c]);return e}k(f=a.split(","),y(d,function(a,f,h){l=q(f,a);c=0;for(b=l.length;c<b;c++)if(9===a.nodeType||h||z(l[c],d))e[e.length]=l[c]}));return 1<f.length&&1<e.length?h(e):e};A=function(a){"undefined"!==typeof a.useNativeQSA&&(F=a.useNativeQSA?Z?aa:G:
G)};A({useNativeQSA:!0});v.configure=A;v.uniq=h;v.is=function(a,d,e){if(f(d))return a==d;if(l(d))return!!~b(d).indexOf(a);for(var c=d.split(","),h;d=c.pop();)if(h=C.g(d)||C.s(d,d.split(K)),d=d.match(L),h=h.slice(0),n.apply(a,h.pop().match(E))&&(!h.length||t(a,h,d,e)))return!0;return!1};v.pseudos={};return v}),function(){function p(f,b,c){n||(n=window[ensightenOptions.ns].qwery);var h=n;if((h=h.call(c,b,c))&&0<h.length){if("_root"==b)f=c;else if(f===c)f=void 0;else{b:{for(var l=h.length,g=0;g<l;g++)if(f===
h[g]){h=!0;break b}h=!1}h||(f.parentNode?(r++,f=p(f.parentNode,b,c)):f=void 0)}return f}return!1}function u(f,b,c,g){q[f.id]||(q[f.id]={});q[f.id][b]||(q[f.id][b]={});q[f.id][b][c]||(q[f.id][b][c]=[]);q[f.id][b][c].push(g)}function k(f,b,c,g){if(g||c)if(g)for(var h=0;h<q[f.id][b][c].length;h++){if(q[f.id][b][c][h]===g){q[f.id][b][c].pop(h,1);break}}else delete q[f.id][b][c];else q[f.id][b]={}}function b(b,c,l){if(q[b][l]){var f=c.target||c.srcElement,h,k,m={},n=k=0;r=0;for(h in q[b][l])q[b][l].hasOwnProperty(h)&&
(k=p(f,h,t[b].element))&&g.matchesEvent(l,t[b].element,k,"_root"==h,c)&&(r++,q[b][l][h].match=k,m[r]=q[b][l][h]);c.stopPropagation=function(){c.cancelBubble=!0};for(k=0;k<=r;k++)if(m[k])for(n=0;n<m[k].length;n++){if(!1===m[k][n].call(m[k].match,c)){g.cancel(c);return}if(c.cancelBubble)return}}}function c(c,h,l,n){function f(c){return function(f){b(p,f,c)}}c instanceof Array||(c=[c]);l||"function"!=typeof h||(l=h,h="_root");var p=this.id,m;for(m=0;m<c.length;m++)q[p]&&q[p][c[m]]||g.addEvent(this,c[m],
f(c[m])),n?k(this,c[m],h,l):u(this,c[m],h,l);return this}function g(b,c,l,k){if("string"==typeof b&&"function"==typeof c||"string"==typeof c)g(document).on(b,c,l,k||!1);if(!(this instanceof g)){for(var f in t)if(t[f].element===b)return t[f];x++;t[x]=new g(b,x);t[x]._on=t[x].on;t[x].on=function(b,c,f,g){var h="function"==typeof c?c:f;if("function"==typeof c?f:g)b=[b],"string"==typeof c&&b.push(c),b.push(function(b){return function(c){c.defaultPrevented||window[ensightenOptions.ns].Delegate.load(this);
if(this.nodeName&&"a"!=this.nodeName.toLowerCase())return b.call(this);"undefined"!=typeof c.preventDefault?c.preventDefault():c.returnValue=!1;b.call(this)}}(h)),this._on.apply(this,b);else return this._on.call(this,b,c,f)};return t[x]}this.element=b;this.id=c}var n,r=0,x=0,q={},t={};g.prototype.on=function(b,g,l){return c.call(this,b,g,l)};g.prototype.off=function(b,g,l){return c.call(this,b,g,l,!0)};g.cancel=function(b){b.preventDefault();b.stopPropagation()};g.addEvent=function(b,c,g){b.element.addEventListener(c,
g,"blur"==c||"focus"==c)};g.matchesEvent=function(){return!0};g.load=function(b){setTimeout(function(b,c){return function(){if(b.nodeName&&"a"==b.nodeName.toLowerCase()){if(c&&/^javascript\s*:/.test(c))return(new Function(unescape(c))).call(window);c&&(window.location.href=c)}}}(b,b.href||""),750)};window[ensightenOptions.ns].Delegate=g}(),function(p){var u=p.addEvent;p.addEvent=function(k,b,c){if(k.element.addEventListener)return u(k,b,c);"focus"==b&&(b="focusin");"blur"==b&&(b="focusout");k.element.attachEvent("on"+
b,c)};p.cancel=function(k){k.preventDefault&&k.preventDefault();k.stopPropagation&&k.stopPropagation();k.returnValue=!1;k.cancelBubble=!0}}(window[ensightenOptions.ns].Delegate),window[ensightenOptions.ns].on=window[ensightenOptions.ns].Delegate);
Bootstrapper.dataDefinitionIds = [57811,64535,64041,56313];/*

 Adobe Visitor API for JavaScript version: 5.0.1
 Copyright 2020 Adobe, Inc. All Rights Reserved
 More info available at https://marketing.adobe.com/resources/help/en_US/mcvid/
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <http://feross.org>
 @license  MIT
*/
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return function(consents){try{var result=false;var readyEntities={"www.audi.de":{"category":"Marketing"},"www.audi.se":{"category":"Functional"},"my.audi.com":{"category":"Marketing","check":document.documentElement.lang,"values":["de-DE"]}};var readyDomains=Object.keys(readyEntities);
for(var i=0;i<readyDomains.length;i++){var readyDomain=readyDomains[i];var currentDomain=document.location.hostname;if(readyDomain===currentDomain){var category=readyEntities[readyDomain]["category"];var values=readyEntities[readyDomain]["values"];var check=readyEntities[readyDomain]["check"];if(values&&check)for(var j=0;j<values.length;j++){if(values[j]===check)result=consents[category]}else result=consents[category]}}return result}catch(err){return""}}},transform:function(val){return val?val:""},
load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"consent",collection:"Personalization",source:"Manage",priv:"false"},{id:"64535"})},64535)},-1,-1);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.notify("016 - Analytics Framework Adjustment");function handleVariables(sObj){var s=window[sObj],newVariables=this.pre||[],trackEventList=this.trackEventList||[],debugTagList=this.debugTagList||[],debugVar="eVar100",anonymizeVars=["pageName","pageURL","referrer","eVar5","eVar6","eVar7","eVar13","eVar32","eVar33","eVar34","eVar37","eVar38","eVar50",
"eVar51","eVar52","eVar83","eVar84","eVar85","prop6","prop7","prop8","prop9","prop36","prop37"],anonymizeTextVars=["eVar86"];if(s){s.linkTrackVars="";s.linkTrackEvents=""}for(var j=0;j<newVariables.length;j++){var key=newVariables[j][0],value=newVariables[j][1];if(typeof value==="function")value=value();if(typeof value==="string"){for(var k=0;k<anonymizeVars.length;k++)if(key==anonymizeVars[k])value=Bootstrapper.analyticsHelper.anonymizeURL(value);for(var k=0;k<anonymizeTextVars.length;k++)if(key==
anonymizeTextVars[k])value=Bootstrapper.analyticsHelper.anonymizeString(value)}if(key=="events"&&value!==""&&typeof value!=="undefined")trackEventList.push(value);if(key==debugVar&&value!==""&&typeof value!=="undefined")debugTagList.push(value);if(key[0]=="contextData")s[key[0]][key[1]]=value;else s[key]=value}if(Bootstrapper.getVariable("generatedNewSid")===true)trackEventList.push("event982");var li=Bootstrapper.analyticsHelper.featureAppTracking.getList();if(Object.keys(li).length>0){Bootstrapper.notify("List of FeatureAppValues are used to enhance S-Object: "+
Object.keys(li).join(","));for(var ke in li)if(li.hasOwnProperty(ke)){var currentElement=Bootstrapper.analyticsHelper.featureAppTracking.getVariable(ke);switch(ke){case "events":trackEventList.push(currentElement.value);break;case "eVar100":debugTagList.push(currentElement.value);break;default:if(!currentElement.overwrite)s[ke]=s[ke]?s[ke]+currentElement.separator+currentElement.value:currentElement.value;else s[ke]=currentElement.value}}}if(s){s.events=trackEventList.join();s[debugVar]=debugTagList.join()}}
function extendSession(){var sid=Bootstrapper.getVariable("sid")||Bootstrapper.analyticsStorage.getPrefixedCookie("sid");if(sid){Bootstrapper.analyticsStorage.setPrefixedCookie("sid",sid,30*60*1E3);Bootstrapper.setVariable("sid",null);Bootstrapper.setVariable("generatedNewSid",null);Bootstrapper.notify("Extended Session ID",sid)}}function fireBounceEvent(){var bounceInfo=Bootstrapper.getVariable("bounceInfo");if(bounceInfo.isFirstPage!==true)return;bounceInfo.isFirstPage=false;var bounceDelay=3E4;
if(bounceInfo.preConsent===true){var t=bounceInfo.timeAtLoad;if(typeof t==="number"&&t!==null&&!isNaN(t)){var tnow=(new Date).getTime();bounceDelay+=t-tnow;bounceDelay=Math.max(0,bounceDelay)}}Bootstrapper.setVariable("bounceInfo",bounceInfo);Bootstrapper.notify("Firing Bounce event in",bounceDelay/1E3,"s");var BounceDataLayerEvent={eventInfo:{eventAction:"non_interaction",eventName:"30 seconds on page after entry"},attributes:{componentName:"",label:"",currentURL:Bootstrapper.data.resolve("Manage.URL.URL without parameter"),
targetURL:"",clickID:"",elementName:"",value:"",pos:""}};setTimeout(function(){if(digitalData&&digitalData.event)digitalData.event.push(BounceDataLayerEvent);else if(webAnalytics)webAnalytics.push({event:[BounceDataLayerEvent]})},bounceDelay)}function createSessionHelperObject(){try{var application=Bootstrapper.data.resolve("Manage.Page.applicationName"),site=Bootstrapper.data.resolve("Manage.Page.site"),_ens_vn=site.indexOf("myAudi")>-1?Bootstrapper.analyticsStorage.getPrefixedCookie("vn"):Bootstrapper.analyticsStorage.getVisitorItem("vn"),
currentURL=Bootstrapper.data.resolve("Manage.Page.pageID"),sessionID=Bootstrapper.data.resolve("Manage.localStorage.sessionID"),date=(new Date).getTime();Bootstrapper.sessionHelperObject=_ens_vn?Bootstrapper.sessionTrackingHelper.createFromExisting(_ens_vn,application,site,currentURL,sessionID,date):Bootstrapper.sessionTrackingHelper.createNew(application,site,currentURL,sessionID,date);Bootstrapper.notify("016 - Set up Session-specific Helper object: ",Bootstrapper.sessionHelperObject)}catch(error){Bootstrapper.analyticsError.report(error,
"016 - createSessionHelperObject")}}Bootstrapper.AF.push(["set","SiteCatalyst","execPageView",function(){if(this.ns)for(var i=0;i<this.ns.length;i++){var sObj=this.ns[i];Bootstrapper.AF.push(["set",sObj,"execPageView",function(){window[sObj].clearVars();createSessionHelperObject();handleVariables.call(this,sObj);window[sObj].t();extendSession();Bootstrapper.setVariable("pageHasPageViewRequest",true);Bootstrapper.logSObject(window[sObj]);fireBounceEvent()}])}}]);Bootstrapper.AF.push(["set","SiteCatalyst",
"execLinkTracking",function(){if(this.ns)for(var i=0;i<this.ns.length;i++){var sObj=this.ns[i];Bootstrapper.AF.push(["set",sObj,"execLinkTracking",function(linkName){createSessionHelperObject();handleVariables.call(this,sObj);window[sObj].tl(true,"o",linkName);extendSession();Bootstrapper.logSObject(window[sObj])}])}}]);Bootstrapper.AF.push(["set","SiteCatalyst","storeVariables",function(){if(this.ns)for(var i=0;i<this.ns.length;i++){var sObj=this.ns[i];Bootstrapper.AF.push(["set",sObj,"storeVariables",
function(storeVariables){var storeKeyValue={};for(var k=0;k<storeVariables.length;k++){var curVar=storeVariables[k],curValue=window[sObj][curVar];storeKeyValue[curVar]=curValue}Bootstrapper.analyticsStorage.setSessionItem("prev",JSON.stringify(storeKeyValue));Bootstrapper.analyticsStorage.setPrefixedCookie("prev",JSON.stringify(storeKeyValue))}])}}]);Bootstrapper.AF.push(["set","SiteCatalyst","clearVariables",function(){if(this.ns)for(var i=0;i<this.ns.length;i++){var sObj=this.ns[i];Bootstrapper.AF.push(["set",
sObj,"clearVariables",function(){window[sObj].clearVars();this.pre=[];this.trackEventList=[];this.debugTagList=[];if(!Bootstrapper.analyticsStorage.getPrefixedCookie("sid"))delete Bootstrapper.sessionHelperObject}])}}]);Bootstrapper.AF.push(["call","SiteCatalyst","execPageView"]);Bootstrapper.AF.push(["call","SiteCatalyst","execLinkTracking"]);Bootstrapper.AF.push(["call","SiteCatalyst","clearVariables"]);Bootstrapper.AF.push(["call","SiteCatalyst","storeVariables"])},3448499,[3300153,3324283],538659,
[589384,637898]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var tf=Bootstrapper.SC.testFunctions,testArray=Bootstrapper.SC.builder.compareArrayElements,compare=Bootstrapper.SC.builder.compare,createTestFunc=Bootstrapper.SC.builder.createTestFunction;function audiDefinitions(){var schemaTemplates={};var customTestFunctions=[{f:function(v){return typeof v==="string"&&v!==""&&/^(\/(\S)+)+[^/]$/.test(v)},name:"testPageId",
eMsg:"does not follow the correct pageID pattern"},{f:function(v){return typeof v==="string"&&v!==""&&/^[a-z]{2}$/.test(v)},name:"testlanguage",eMsg:"does not follow the correct language pattern"},{f:function(v){return typeof v==="string"&&v!==""&&/^([A-Z]{2}|AOLA|COM)(-[A-Z]{2})?$/.test(v)},name:"testMarket",eMsg:"does not follow the market pattern"},{f:function(v){var arr=["page_load","step"];return arr.indexOf(v)!==-1},name:"isPageloadOrStep",eMsg:'is neither "page_load" nor "step"'},{f:function(v){return document.referrer===
v},name:"testReferrer",eMsg:"does not equal document.referrer"},{f:function(v){return document.location.href===v},name:"testDestination",eMsg:"does not equal document.location.href"},{f:function(v){return document.title===v},name:"testPageName",eMsg:"does not equal document.title"},{f:function(v){var sysEnv=["staging","production","development"];return sysEnv.indexOf(v)!==-1},name:"testSysEnv",eMsg:'is not of value "staging", "production" or "development"'},{f:function(v){var url=document.location.href.split("/");
return url.indexOf(v)!==-1},name:"isBreadCrumpInUrl",eMsg:"is not part of URL path."},{f:function(v){if(v.length===0)return false;var eva="";if(v[0].eventInfo&&v[0].eventInfo.eventAction)eva=v[0].eventInfo&&v[0].eventInfo.eventAction;if(eva!=="page_load")return false;return true},name:"eventPrecheck",eMsg:"event precheck failed \x3e Pageload must be first."}];customTestFunctions.forEach(function(func){createTestFunc(func.f,func.name,func.eMsg)});schemaTemplates.event={eventInfo:{eventAction:tf.isNumber,
eventName:tf.isNonEmptyString},attributes:{componentName:tf.isString,label:tf.isString,currentURL:tf.isNonEmptyString,targetURL:tf.isString,clickID:tf.isString,elementName:tf.isString,value:tf.isString,pos:tf.isString}};schemaTemplates.page={pageInfo:{pageID:tf.testPageId,pageName:tf.testPageName,sysEnv:tf.testSysEnv,language:tf.testlanguage,market:tf.testMarket,breadCrumbs:testArray(tf.isBreadCrumpInUrl),destinationURL:tf.testDestination,referringURL:tf.testReferrer},category:{pageType:tf.isNonEmptyString,
displayType:tf.isNonEmptyString},attributes:{applicationName:tf.isNonEmptyString,applicationVersion:tf.isNonEmptyString,implementer:tf.isNumber,site:tf.isNonEmptyString}};schemaTemplates.user={segment:{isLoggedIn:tf.isBoolean}};schemaTemplates.component={componentInfo:{componentID:tf.isNonEmptyString,componentName:tf.isNonEmptyString},category:{primaryCategory:tf.isString},attributes:{implementer:tf.isNumber,version:tf.isString,moduleNumber:tf.isNumber,subNumber:tf.isNumber}};schemaTemplates.product=
{productInfo:{productID:tf.isNonEmptyString,productMbvId:tf.isNonEmptyString,productName:tf.isNonEmptyString},category:{primaryCategory:tf.isString,productType:tf.isString,subCategory1:tf.isString},price:{price:tf.isString}};schemaTemplates.cart={cartID:tf.isNonEmptyString,price:{basePrice:tf.isNumber,carlineBasePrice:tf.isNumber,cartTotal:tf.isNumber,currency:"EUR",engineBasePrice:tf.isNumber,priceWithTax:tf.isNumber},item:testArray(function(v){return compare(schemaTemplates.product,v)})};return schemaTemplates}
var templates=audiDefinitions();function audiSchema(){var schema={};schema.event=testArray(function(v,i){return compare(templates.event,v)},tf.eventPrecheck);schema.page=templates.page;schema.user=testArray(function(v){return compare(templates.user,v)});schema.component=testArray(function(v){return compare(templates.component,v)});schema.cart=templates.cart;schema.product=testArray(function(v){return compare(templates.product,v)});return schema}Bootstrapper.audiSchema=audiSchema()}catch(error){Bootstrapper.analyticsError.report(error,
"099 - Failed to initialze Audi Schema")}},3092833,[3104900],624520,[624519]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{if(!Bootstrapper.nanoAPI.checkConsent("Performance"))return;function generateSessionID(){Bootstrapper.notify("DD Session ID: Generating new ID!");function randomString(length,chars){var result="";for(var i=length;i>0;--i)result+=chars[Math.round(Math.random()*(chars.length-1))];
return result}var alphanumericchars="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";var now=new Date;var y=now.getUTCFullYear()-2E3;var M=now.getMonth();var d=now.getUTCDate();var h=now.getUTCHours();var m=now.getUTCMinutes();var s=now.getUTCSeconds();var ms=now.getMilliseconds();var rString1=alphanumericchars[(h*m*s+ms)%alphanumericchars.length];var rString2=alphanumericchars[(h+m+s+ms)%alphanumericchars.length];var rString3=randomString(6,alphanumericchars);sid=alphanumericchars[y]+
alphanumericchars[M]+alphanumericchars[d]+alphanumericchars[h]+rString1+rString2+rString3;Bootstrapper.setVariable("generatedNewSid",true);Bootstrapper.analyticsStorage.setPrefixedCookie("sid",sid,30*60*1E3);return sid}var sid=Bootstrapper.analyticsStorage.getPrefixedCookie("sid")||generateSessionID();Bootstrapper.notify("DD Session ID",sid);return sid}catch(e){Bootstrapper.analyticsError.report(e,"sessionID");return""}},transform:function(val){return val?val:""},load:"instance",trigger:Bootstrapper.data.immediateTrigger,
dataDefName:"sessionID",collection:"localStorage",source:"Manage",priv:"false"},{id:"57811"})},57811)},-1,-1);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;ensClientConfig={"info":{"name":"audi","publishPath":"globalbrandportal","clientId":2328,"nexus":"nexus.ensighten.com"},"cookieTypes":["Functional","Performance","Do Not Track"],"whitelist":{"default":[{"tag":"aev-autonomous-driving-dataset.s3.eu-central-1.amazonaws.com","displayName":"AEV iFrame (Tutorial A2D2 Dataset)"},{"tag":"\\.audi\\.(com|de|fr)","displayName":"Audi.com",
"paths":["^\\/b\\/ss\\/","^\\/id$"],"filter":"blockPaths"},{"tag":"\\.audi-mediacenter\\.com","displayName":"Audi Media Center"},{"tag":"online\\.serviceocean\\.de","displayName":"Service Ocean iFrame"},{"tag":"nemo-t.audi.dasburo.com","displayName":"nemo-t"},{"tag":"\\.apps.\\emea\\.vwapps\\.io","displayName":"Services \u00fcber SPR"},{"tag":"^gtron-calculator\\.centrallaunchtraining\\.com$","displayName":"Central Launch Training"},{"tag":"infokons\\.vwbank\\.de","displayName":"FS AG prelive"},{"tag":"\\.volkswagenbank\\.de",
"displayName":"FS AG"},{"tag":"cloudfront\\.net","displayName":"Cloudfront"},{"tag":"\\.audimedia\\.tv","displayName":"Audi Media Center TV"},{"tag":"\\.yellowmap\\.de","displayName":"Yellowmap iFrame"},{"tag":"\\.ensighten\\.com","displayName":"Ensighten"},{"tag":"audimediacenter-a\\.akamaihd\\.net","displayName":"Pressemitteilung Bilder"},{"tag":"www\\.youtube-nocookie\\.com","displayName":"YouTube (GDPR Version)"},{"tag":"\\.google\\.com","displayName":"Google Maps iFrame","paths":["\\/maps\\/"],
"filter":"allowPaths"},{"tag":"translate\\.googleapis\\.com","displayName":"Google Translate"},{"tag":"ds-aksb-a\\.akamaihd\\.net","displayName":"Country Selector"},{"tag":"api\\.microsofttranslator\\.com","displayName":"Microsoft Translator"},{"tag":"zlthunder\\.net","displayName":"ZLthunder"},{"tag":"go\\.usabilla\\.com","displayName":"Usabilla"},{"tag":"maps\\.googleapis\\.com","displayName":"Google Maps"},{"tag":"vee24\\.com","displayName":"Personal Online Assist (Chat)"},{"tag":"scripts\\.psyma\\.com",
"displayName":"Psyma"},{"tag":"charts3\\.equitystory\\.com","displayName":"Aktienticker iFrame"},{"tag":"audi-pulse\\.ackermann-online\\.com","displayName":"iFrame achkermann"},{"tag":"pulse-of-autonomous-driving\\.audi","displayName":"iFrame PulseOfAutonomousDriving"},{"tag":"finanzen\\.handelsblatt\\.com","displayName":"finanzen.handelsblatt"}],"Functional":[{"tag":"(eb7-clients\\.s3\\.eu-central-1\\.amazonaws\\.com)|(prod\\.eb7\\.cloud\\.audi)","displayName":"ChatBot"},{"tag":"(\\.acquire\\.io)|(s\\.tagove\\.com)",
"displayName":"Acquire"}],"Performance":[{"tag":"\\.akstat\\.io","displayName":"Akamai mPulse"},{"tag":"(\\.demdex\\.net)|(everesttech\\.net)","displayName":"Adobe Visitor ID Service"},{"tag":"dcs\\.audi\\.com","displayName":"Adobe Analytics","paths":["^\\/b\\/ss\\/","^\\/id$"],"filter":"allowPaths"},{"tag":"www\\.googletagmanager\\.com","displayName":"Google Tag Manager"},{"tag":"(ad|doubleclick|2mdn|w55c|nr-data|esm1|adform|adspeed|linkstorm|krxd|akamaihd|everesttech)\\.net|(googletagservices|adnxs|mathtag|adsafeprotected|smartadserver|gwallet|tubemogul|serving-sys|mediaplex|googlesyndication|acuityplatform|netmng|atdmt|brand-server|googleadservices|vindicosuite|doubleverify|flashtalking|reddit|startribune|zedo|adition|adlegend|imrworldwide|turn|turner|lowermybills|adventive|mediaforge)\\.com|selectmedia\\.asia|weborama\\.fr|(intelliad|superrtl)\\.de",
"displayName":"DoubleClick"}],"Do Not Track":[]},"defaultEnv":"","featureToggles":{"enableReporting":true,"enableAllowedDomainsReporting":false,"enableFiltering":true,"enablePrivacyNotice":true,"enableConsentModal":true,"shouldNotAutoShowModal":false,"enableTCF":false,"requireSSL":true,"showTrustedDomains":true,"enableDataMonitoring":false,"usesWhitelist":true,"consentWidget":false,"enableEnvironmentMatching":true,"allowPerTagOptOut":true,"enableGdprModal":false,"enableCSSMonitoring":false,"monitorFormAction":false,
"monitorAnchorTags":false,"enableWindowOpenOverride":false,"enableDoNotSellModal":false,"autoDoNotSellAllCategories":false,"enableDeleteDataModal":false,"enableRequestDataModal":false,"showRequestDataOnConsentModal":false,"disableDefaultStyles":false,"isObservingStyle":false},"sslConfig":{"sslEnforcementMode":"Block"},"libraryPackage":"enterprise","dataMonitoring":{"mode":"block","blockURLParamsRegex":[{"name":"E-Mail","regex":"\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}"}],"domainsAllowed":[],"maskCharacter":"~",
"processRequestBody":false,"monitorBase64Data":false},"environmentConfigs":[{"name":"Audi.com DE","languageCode":"de","condition":{"type":"url","key":"","value":"www.audi.com/de","shouldBePositive":true,"operator":"contains"},"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'Indem Sie die Webseite und ihre Angebote nutzen und weiter navigieren, akzeptieren Sie die unverzichtbaren Cookies. In den {{Cookie Zustimmungsoptionen}} k\x26ouml;nnen Sie die Kategorien von Cookies verwalten und zus\x26auml;tzliche Kategorien zulassen. Indem Sie auf den Button \u201eAlle akzeptieren\u201c klicken werden alle Kategorien von Cookies aktiviert.\nIhre Einwilligung k\x26ouml;nnen Sie jederzeit mit Wirkung f\u00fcr die Zukunft \x3cspan class\x3d"ensModalLink"\x3ewiderrufen\x3c/span\x3e. Weitere Informationen finden Sie in unserer \x3ca href\x3d"https://www.audi.com/de/cookie-policy.html"\x3eCookie Policy\x3c/a\x3e  sowie unserem \x3ca href\x3d"https://www.audi.com/de/legal.html"\x3eDatenschutzhinweis\x3c/a\x3e und im \x3ca href\x3d"https://www.audi.com/de/legal-notice.html"\x3eImpressum\x3c/a\x3e.',
"consentTitle":"Cookie Einstellungen","consentDescription":"Wir setzen auf unserer Webseite folgende Kategorien von Cookies ein:","consentWidgetCopy":"Datenschutzeinstellungen","doNotSellModal":{},"deleteDataModal":{},"requestDataModal":{},"tcf2Modal":{},"tcf2PurpAndFeaturesModal":{},"tcf2VendorModal":{},"tcf2LegitimateInterestsModal":{},"tcf2Shared":{},"save":"Speichern","cancel":"Abbrechen","close":"Alle akzeptieren","cookies":{"default":{"title":"Unverzichtbare Cookies","description":"Unverzichtbare Cookies werden ben\x26ouml;tigt, um Ihnen grundlegende Funktionen w\x26auml;hrend der Nutzung der Webseite zur Verf\x26uuml;gung zu stellen. Zu diesen Funktionen geh\x26ouml;rt z.B. der Fahrzeugkonfigurator."},
"Functional":{"title":"Funktionale Cookies","description":"Funktionale Cookies erm\x26ouml;glichen das Erfassen und Speichern der Benutzereinstellungen (z.B. Benutzername, Konfigurationen), um die Benutzerfreundlichkeit zu erh\x26ouml;hen."},"Performance":{"title":"Performance Cookies","description":"Performance Cookies sammeln Informationen \x26uuml;ber die Nutzungsweise unserer Webseite (z.B. Anzahl der Besuche, Verweilzeit). Diese Cookies dienen der Webseiten-Optimierung sowie dem Ausspielen interessengerechter Werbung."},
"Do Not Track":{"title":"Do Not Track","description":"Wir ber\x26uuml;cksichtigen die von Ihnen vorgenommene Browsereinstellung \u201edo not track\u201c. Es sind nur die unverzichtbaren Cookies aktiviert. Wenn Sie zus\x26auml;tzliche Cookie Kategorien zulassen m\x26ouml;chten, deaktivieren Sie bitte die Browsereinstellung \u201edo not track\u201c."}}}},{"name":"Audi.com EN","languageCode":"en","condition":{"type":"url","key":"","value":"www.audi.com/en","shouldBePositive":true,"operator":"contains"},
"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'You accept the required cookies by using the website and its features and continuing to navigate around it. You can manage cookie categories and accept additional categories under {{Cookie Consent Options}}. By clicking on the "Accept all" button, all categories of cookies are accepted.\nYou can \x3cspan class\x3d"ensModalLink"\x3ewithdraw\x3c/span\x3e your consent at any time with future effect. You will find further information in our \x3ca href\x3d"https://www.audi.com/en/cookie-policy.html"\x3eCookie Policy\x3c/a\x3e, \x3ca href\x3d"https://www.audi.com/en/legal.html"\x3ePrivacy Notice\x3c/a\x3e and \x3ca href\x3d"https://www.audi.com/en/legal-notice.html"\x3eLegal Notice\x3c/a\x3e.',
"consentTitle":"Cookie Consent","consentDescription":"We use the following categories of cookies on our website:","consentWidgetCopy":"Privacy Settings","doNotSellModal":{"title":"Do Not Sell My Personal Information","description":"Please verify your identity so we can fulfill your request","link":"Do Not Sell My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect","close":"Close"},"deleteDataModal":{"title":"Delete My Personal Information",
"description":"Please verify your identity so we can fulfill your request","link":"Delete My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect","close":"Close"},"requestDataModal":{"title":"Request My Personal Information","description":"Please verify your identity so we can fulfill your request","link":"Request My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect",
"close":"Close"},"tcf2Modal":{"title":"Privacy Settings","description":"In order to provide the best experience possible, we might sometimes track information about you. This may involve sending personal data such as advertising identifiers, information about your interests, and your IP address to third parties for processing. This information may be stored and/or accessed by this site and third parties through the use of cookies, device identifiers or other device data. You can view a list of the third parties by clicking the View All Vendors link or Advanced Settings button. We use this information for things like experience enrichment, analytics, and targeted advertising. We recommend allowing these functions in order to get the most out of your experience. In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Advanced Settings. Your consent choices are *service-specific* to this site. You can change your preferences anytime by clicking on the Personal Settings button at the bottom of the page.",
"advancedSettings":"Advanced","viewAllVendors":"View All Vendors","withdrawConsent":"Withdraw Consent","accept":"Accept"},"tcf2PurpAndFeaturesModal":{"title":"Purposes \x26 Features","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.","save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2VendorModal":{"title":"Vendors","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.",
"save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2LegitimateInterestsModal":{"title":"Legitimate Interest","description":"In order to provide with the best experience possible third parties are processing your data based in legitimate interest. This may involve sending personal data such as advertising identifiers, information about your interests and your IP address to third parties for processing. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience. You have the right to object to such processing and can do so here. Your consent choices are *service-specific* to this site.",
"legitimateInterestPurposes":"Legitimate Interest Purposes","save":"Save","objectToAll":"Object to All","cancel":"Cancel"},"tcf2Shared":{"purposes":"Purposes","features":"Features","specialPurposes":"Special Purposes","specialFeatures":"Special Features","vendors":"Vendors","privacyPolicy":"Privacy Policy","moreInfo":"More Info","notAffiliated":"Not Affiliated with the IAB"},"save":"Save","cancel":"Cancel","close":"Accept all","cookies":{"default":{"title":"Required Cookies","description":"Required cookies are needed to provide you with basic functions during use of the website. These functions include e.g. the vehicle configurator."},
"Functional":{"title":"Functional Cookies","description":"Functional cookies enable us to track and save user settings (e.g. user ID, configurations) for increased user friendliness."},"Performance":{"title":"Performance Cookies","description":"Performance cookies collect information about how our website is used (e.g. number of visits, time spent on the site). These cookies help to optimize the website and deliver advertising that is tailored to the user."},"Do Not Track":{"title":"Do Not Track",
"description":"We have taken the \u201cdo not track\u201d browser setting you selected into account. Only absolutely essential cookies are enabled. If you would like to allow additional cookie categories, please deactivate the \u201cdo not track\u201d browser setting."}}}},{"name":"kaufen.audi.de (pre-\x26live)","languageCode":"de","condition":{"type":"host","key":"","value":"kaufen.audi.de","shouldBePositive":true,"operator":"contains"},"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},
"translation":{"notificationBannerContent":'Indem Sie die Webseite und ihre Angebote nutzen und weiter navigieren, akzeptieren Sie die unverzichtbaren Cookies. In den {{Cookie Zustimmungsoptionen}} k\x26ouml;nnen Sie die Kategorien von Cookies verwalten und zus\x26auml;tzliche Kategorien zulassen. Indem Sie auf den Button \u201eAlle akzeptieren\u201c klicken werden alle Kategorien von Cookies aktiviert. Ihre Einwilligung k\x26ouml;nnen Sie jederzeit mit Wirkung f\u00fcr die Zukunft \x3cspan class\x3d"ensModalLink"\x3ewiderrufen\x3c/span\x3e. Weitere Informationen finden Sie in unserer \x3ca href\x3d"/shop/de/cookie-policy.html"\x3eCookie Policy\x3c/a\x3e sowie unserem \x3ca href\x3d"/shop/de/datenschutzhinweise.html"\x3eDatenschutzhinweis\x3c/a\x3e und \x3ca href\x3d"/shop/de/impressum.html"\x3eImpressum\x3c/a\x3e.',
"consentTitle":"Cookie Einstellungen","consentDescription":"Wir setzen auf unserer Webseite folgende Kategorien von Cookies ein:","consentWidgetCopy":"Datenschutzeinstellungen","doNotSellModal":{},"deleteDataModal":{},"requestDataModal":{},"tcf2Modal":{},"tcf2PurpAndFeaturesModal":{},"tcf2VendorModal":{},"tcf2LegitimateInterestsModal":{},"tcf2Shared":{},"save":"Speichern","cancel":"Abbrechen","close":"Alle akzeptieren","cookies":{"default":{"title":"Unverzichtbare Cookies","description":"Unverzichtbare Cookies werden ben\x26ouml;tigt, um Ihnen grundlegende Funktionen w\x26auml;hrend der Nutzung der Webseite zur Verf\x26uuml;gung zu stellen. Zu diesen Funktionen geh\x26ouml;rt z.B. der Fahrzeugkonfigurator."},
"Functional":{"title":"Funktionale Cookies","description":"Funktionale Cookies erm\x26ouml;glichen das Erfassen und Speichern der Benutzereinstellungen (z.B. Benutzername, Konfigurationen), um die Benutzerfreundlichkeit zu erh\x26ouml;hen."},"Performance":{"title":"Performance Cookies","description":"Performance Cookies sammeln Informationen \x26uuml;ber die Nutzungsweise unserer Webseite (z.B. Anzahl der Besuche, Verweilzeit). Diese Cookies dienen der Webseiten-Optimierung sowie dem Ausspielen interessengerechter Werbung."},
"Do Not Track":{"title":"Do Not Track","description":"Wir ber\x26uuml;cksichtigen die von Ihnen vorgenommene Browsereinstellung \u201edo not track\u201c. Es sind nur die unverzichtbaren Cookies aktiviert. Wenn Sie zus\x26auml;tzliche Cookie Kategorien zulassen m\x26ouml;chten, deaktivieren Sie bitte die Browsereinstellung \u201edo not track\u201c."}}},"whitelist":{"default":[{"tag":"kaufen\\.audi\\.de","displayName":"kaufen.audi.de/oneshop/proxy/ubff","paths":["/oneshop/proxy/ubff"],"filter":"allowPaths"},
{"tag":"feature-app\\.io","displayName":"Disclaimer Service"},{"tag":"vwa-featureapp-footer-disclaimers\\.s3\\.amazonaws\\.com","displayName":"vwa-featureapp-footer-disclaimers.s3.amazonaws.com"},{"tag":"aws.commercetools.com","displayName":"AWS Commercetools","paths":["/audi-de"],"filter":"allowPaths"},{"tag":"aws.amazon.com","displayName":"AWS","paths":["/s3/buckets/"],"filter":"allowPaths"},{"tag":"aev-autonomous-driving-dataset.s3.eu-central-1.amazonaws.com","displayName":"AEV iFrame (Tutorial A2D2 Dataset)"},
{"tag":"\\.audi\\.(com|de|fr)","displayName":"Audi.com","paths":["^\\/b\\/ss\\/","^\\/id$"],"filter":"blockPaths"},{"tag":"\\.audi-mediacenter\\.com","displayName":"Audi Media Center"},{"tag":"online\\.serviceocean\\.de","displayName":"Service Ocean iFrame"},{"tag":"nemo-t.audi.dasburo.com","displayName":"nemo-t"},{"tag":"vwapps.io","displayName":"Services \u00fcber SPR"},{"tag":"^gtron-calculator\\.centrallaunchtraining\\.com$","displayName":"Central Launch Training"},{"tag":"infokons\\.vwbank\\.de",
"displayName":"FS AG prelive"},{"tag":"\\.volkswagenbank\\.de","displayName":"FS AG"},{"tag":"cloudfront\\.net","displayName":"Cloudfront"},{"tag":"\\.audimedia\\.tv","displayName":"Audi Media Center TV"},{"tag":"\\.yellowmap\\.de","displayName":"Yellowmap iFrame"},{"tag":"\\.ensighten\\.com","displayName":"Ensighten"},{"tag":"audimediacenter-a\\.akamaihd\\.net","displayName":"Pressemitteilung Bilder"},{"tag":"www\\.youtube-nocookie\\.com","displayName":"YouTube (GDPR Version)"},{"tag":"\\.google\\.com",
"displayName":"Google Maps iFrame","paths":["\\/maps\\/"],"filter":"allowPaths"},{"tag":"translate\\.googleapis\\.com","displayName":"Google Translate"},{"tag":"ds-aksb-a\\.akamaihd\\.net","displayName":"Country Selector"},{"tag":"api\\.microsofttranslator\\.com","displayName":"Microsoft Translator"},{"tag":"zlthunder\\.net","displayName":"ZLthunder"},{"tag":"go\\.usabilla\\.com","displayName":"Usabilla"},{"tag":"maps\\.googleapis\\.com","displayName":"Google Maps"},{"tag":"vee24\\.com","displayName":"Personal Online Assist (Chat)"},
{"tag":"scripts\\.psyma\\.com","displayName":"Psyma"},{"tag":"charts3\\.equitystory\\.com","displayName":"Aktienticker iFrame"},{"tag":"audi-pulse\\.ackermann-online\\.com","displayName":"iFrame achkermann"},{"tag":"pulse-of-autonomous-driving\\.audi","displayName":"iFrame PulseOfAutonomousDriving"},{"tag":"finanzen\\.handelsblatt\\.com","displayName":"finanzen.handelsblatt"}],"Functional":[{"tag":"vtpimages\\.volkswagen\\.de","displayName":"vtpimages.volkswagen.de"},{"tag":"pre-vtpimages\\.volkswagen\\.de",
"displayName":"pre-vtpimages.volkswagen.de"},{"tag":"vtpimages\\.audi\\.de","displayName":"vtpimages.audi.de"},{"tag":"pre-vtpimages\\.audi\\.de","displayName":"pre-vtpimages.audi.de"},{"tag":"eb7-clients\\.s3\\.eu-central-1\\.amazonaws\\.com","displayName":"ChatBot"},{"tag":"(\\.acquire\\.io)|(s\\.tagove\\.com)","displayName":"Acquire.io"}],"Performance":[{"tag":"\\.akstat\\.io","displayName":"Akamai mPulse"},{"tag":"(\\.demdex\\.net)|(everesttech\\.net)","displayName":"Adobe Visitor ID Service"},
{"tag":"dcs\\.audi\\.com","displayName":"Adobe Analytics","paths":["^\\/b\\/ss\\/","^\\/id$"],"filter":"allowPaths"},{"tag":"www\\.googletagmanager\\.com","displayName":"Google Tag Manager"},{"tag":"(ad|doubleclick|2mdn|w55c|nr-data|esm1|adform|adspeed|linkstorm|krxd|akamaihd|everesttech)\\.net|(googletagservices|adnxs|mathtag|adsafeprotected|smartadserver|gwallet|tubemogul|serving-sys|mediaplex|googlesyndication|acuityplatform|netmng|atdmt|brand-server|googleadservices|vindicosuite|doubleverify|flashtalking|reddit|startribune|zedo|adition|adlegend|imrworldwide|turn|turner|lowermybills|adventive|mediaforge)\\.com|selectmedia\\.asia|weborama\\.fr|(intelliad|superrtl)\\.de",
"displayName":"DoubleClick"}],"Do Not Track":[]}},{"name":"progress.audi DE","countryCode":"de","languageCode":"de-DE","condition":{"type":"url","key":"","value":"^https:\\/\\/www\\.progress\\.audi\\/progress\\/de","shouldBePositive":true,"operator":"regexp"},"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'Indem Sie die Webseite und ihre Angebote nutzen und weiter navigieren, akzeptieren Sie die unverzichtbaren Cookies. In den\u00a0{{Cookie Zustimmungsoptionen}}\u00a0k\u00f6nnen Sie die Kategorien von Cookies verwalten und zus\u00e4tzliche Kategorien zulassen. Indem Sie auf den Button \u201eAlle akzeptieren\u201c klicken werden alle Kategorien von Cookies aktiviert. Ihre Einwilligung k\u00f6nnen Sie jederzeit mit Wirkung f\u00fcr die Zukunft\u00a0widerrufen. Weitere Informationen finden Sie in unserer\u00a0\x3ca href\x3d"/progress/de/cookie-policy.html"\x3eCookie Policy\x3c/a\x3e\u00a0sowie unserem\u00a0\x3ca href\x3d"/progress/de/privacy-policy.html"\x3eDatenschutzhinweis\x3c/a\x3e\u00a0und im\u00a0\x3ca href\x3d"/progress/de/legal-notice.html"\x3eImpressum\x3c/a\x3e.',
"consentTitle":"Cookie Einstellungen","consentDescription":"Wir setzen auf unserer Webseite folgende Kategorien von Cookies ein:","consentWidgetCopy":"Datenschutzeinstellungen","doNotSellModal":{},"deleteDataModal":{},"requestDataModal":{},"tcf2Modal":{},"tcf2PurpAndFeaturesModal":{},"tcf2VendorModal":{},"tcf2LegitimateInterestsModal":{},"tcf2Shared":{},"save":"Speichern","cancel":"Abbrechen","close":"Alle akzeptieren","cookies":{"default":{"title":"Unverzichtbare Cookies","description":"Unverzichtbare Cookies werden ben\u00f6tigt, um Ihnen grundlegende Funktionen w\u00e4hrend der Nutzung der Webseite zur Verf\u00fcgung zu stellen. Zu diesen Funktionen geh\u00f6rt z.B. der Fahrzeugkonfigurator."},
"Functional":{"title":"Funktionale Cookies","description":"Funktionale Cookies erm\u00f6glichen das Erfassen und Speichern der Benutzereinstellungen (z.B. Benutzername, Konfigurationen), um die Benutzerfreundlichkeit zu erh\u00f6hen."},"Performance":{"title":"Performance Cookies","description":"Performance Cookies sammeln Informationen \u00fcber die Nutzungsweise unserer Webseite (z.B. Anzahl der Besuche, Verweilzeit). Diese Cookies dienen der Webseiten-Optimierung sowie dem Ausspielen interessengerechter Werbung."},
"Do Not Track":{"title":"Do Not Track","description":"Wir ber\x26uuml;cksichtigen die von Ihnen vorgenommene Browsereinstellung \u201edo not track\u201c. Es sind nur die unverzichtbaren Cookies aktiviert. Wenn Sie zus\x26auml;tzliche Cookie Kategorien zulassen m\x26ouml;chten, deaktivieren Sie bitte die Browsereinstellung \u201edo not track\u201c."}}}},{"name":"progress.audi EN","languageCode":"en","condition":{"type":"url","key":"","value":"^(https:\\/\\/www\\.progress\\.audi\\/progress\\/en\\.|https:\\/\\/www\\.progress\\.audi\\/progress\\/en\\/)",
"shouldBePositive":true,"operator":"regexp"},"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'You accept the required cookies by using the website and its features and continuing to navigate around it. You can manage cookie categories and accept additional categories under {{Cookie Consent Options}}. By clicking on the "Accept all" button, all categories of cookies are accepted. You can withdraw your consent at any time with future effect. You will find further information in our \x3ca href\x3d"/progress/en/cookie-policy.html"\x3eCookie Policy\x3c/a\x3e, \x3ca href\x3d"/progress/en/privacy-policy.html"\x3ePrivacy Notice\x3c/a\x3e and \x3ca href\x3d"/progress/en/legal-notice.html"\x3eLegal Notice\x3c/a\x3e.',
"consentTitle":"Cookie Consent","consentDescription":"We use the following categories of cookies on our website:","consentWidgetCopy":"Privacy Settings","doNotSellModal":{"title":"Do Not Sell My Personal Information","description":"Please verify your identity so we can fulfill your request","link":"Do Not Sell My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect","close":"Close"},"deleteDataModal":{"title":"Delete My Personal Information",
"description":"Please verify your identity so we can fulfill your request","link":"Delete My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect","close":"Close"},"requestDataModal":{"title":"Request My Personal Information","description":"Please verify your identity so we can fulfill your request","link":"Request My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect",
"close":"Close"},"tcf2Modal":{"title":"Privacy Settings","description":"In order to provide the best experience possible, we might sometimes track information about you. This may involve sending personal data such as advertising identifiers, information about your interests, and your IP address to third parties for processing. This information may be stored and/or accessed by this site and third parties through the use of cookies, device identifiers or other device data. You can view a list of the third parties by clicking the View All Vendors link or Advanced Settings button. We use this information for things like experience enrichment, analytics, and targeted advertising. We recommend allowing these functions in order to get the most out of your experience. In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Advanced Settings. Your consent choices are *service-specific* to this site. You can change your preferences anytime by clicking on the Personal Settings button at the bottom of the page.",
"advancedSettings":"Advanced","viewAllVendors":"View All Vendors","withdrawConsent":"Withdraw Consent","accept":"Accept"},"tcf2PurpAndFeaturesModal":{"title":"Purposes \x26 Features","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.","save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2VendorModal":{"title":"Vendors","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.",
"save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2LegitimateInterestsModal":{"title":"Legitimate Interest","description":"In order to provide with the best experience possible third parties are processing your data based in legitimate interest. This may involve sending personal data such as advertising identifiers, information about your interests and your IP address to third parties for processing. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience. You have the right to object to such processing and can do so here. Your consent choices are *service-specific* to this site.",
"legitimateInterestPurposes":"Legitimate Interest Purposes","save":"Save","objectToAll":"Object to All","cancel":"Cancel"},"tcf2Shared":{"purposes":"Purposes","features":"Features","specialPurposes":"Special Purposes","specialFeatures":"Special Features","vendors":"Vendors","privacyPolicy":"Privacy Policy","moreInfo":"More Info","notAffiliated":"Not Affiliated with the IAB"},"save":"Save","cancel":"Cancel","close":"Accept all","cookies":{"default":{"title":"Required cookies","description":"Required cookies are needed to provide you with basic functions during use of the website. These functions include e.g. the vehicle configurator."},
"Functional":{"title":"Functional cookies","description":"Functional cookies enable us to track and save user settings (e.g. user ID, configurations) for increased user friendliness."},"Performance":{"title":"Performance cookies","description":"Performance cookies collect information about how our website is used (e.g. number of visits, time spent on the site). These cookies help to optimize the website and deliver advertising that is tailored to the user."},"Do Not Track":{"title":"Do not track",
"description":"We have taken the \u201cdo not track\u201d browser setting you selected into account. Only absolutely essential cookies are enabled. If you would like to allow additional cookie categories, please deactivate the \u201cdo not track\u201d browser setting."}}}},{"name":"progress.audi FR","languageCode":"fr","condition":{"type":"url","key":"","value":"^(https:\\/\\/www\\.progress\\.audi\\/progress\\/fr\\.|https:\\/\\/www\\.progress\\.audi\\/progress\\/fr\\/)","shouldBePositive":true,"operator":"regexp"},
"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'En utilisant le site Internet et ses offres et en continuant \u00e0 naviguer, vous acceptez les cookies strictement n\u00e9cessaires. Dans les {{options d\'acceptation des cookies}}, vous pouvez g\u00e9rer les cat\u00e9gories de cookies et autoriser des cat\u00e9gories suppl\u00e9mentaires. Le bouton \u00abTout accepter\u00bb permet d\'activer toutes les cat\u00e9gories de cookies. Vous pouvez vous opposer \u00e0 tout moment \u00e0 l\'utilisation ult\u00e9rieure de cookies. Pour plus d\'informations, veuillez consulter notre \x3ca href\x3d"/progress/fr/cookie-policy.html"\x3ePolitique en mati\u00e8re de cookies\x3c/a\x3e, notre \x3ca href\x3d"/progress/fr/privacy-policy.html"\x3ePolitique de confidentialit\u00e9\x3c/a\x3e ainsi que nos \x3ca href\x3d"/progress/fr/legal-notice.html"\x3eMentions l\u00e9gales\x3c/a\x3e.',
"consentTitle":"Param\u00e8tres des cookies","consentDescription":"Nous utilisons les cat\u00e9gories de cookies suivantes sur notre site Internet:","consentWidgetCopy":"Param\u00e8tres de confidentialit\u00e9","doNotSellModal":{},"deleteDataModal":{},"requestDataModal":{},"tcf2Modal":{},"tcf2PurpAndFeaturesModal":{},"tcf2VendorModal":{},"tcf2LegitimateInterestsModal":{},"tcf2Shared":{},"save":"Enregistrer","cancel":"Annuler","close":"Tout accepter","cookies":{"default":{"title":"Cookies strictement n\u00e9cessaires",
"description":"Les cookies strictement n\u00e9cessaires sont requis pour vous fournir les fonctions de base lors de l'utilisation du site web. Parmi ces fonctions, on peut citer le configurateur du v\u00e9hicule."},"Functional":{"title":"Cookies fonctionnels","description":"Les cookies fonctionnels permettent de saisir et d'enregistrer les param\u00e8tres de l'utilisateur (nom d'utilisateur, configurations) afin d'am\u00e9liorer son exp\u00e9rience sur le site."},"Performance":{"title":"Cookies de performance",
"description":"Les cookies de performance collectent des informations sur le mode d'utilisation de notre site Internet (nombre de visites, dur\u00e9e de la visite, par exemple). Ces cookies servent \u00e0 l'optimisation du site web ainsi qu'\u00e0 l'affichage de publicit\u00e9s bas\u00e9es sur les int\u00e9r\u00eats."},"Do Not Track":{"title":"Do Not Track","description":"Nous tenons compte du fait que vous ayez indiqu\u00e9 ne pas vouloir \u00eatre pist\u00e9 dans votre navigateur. Seuls les cookies absolument indispensables sont activ\u00e9s. Si vous souhaitez autoriser d'autres cat\u00e9gories de cookies, veuillez d\u00e9sactiver l'interdiction de pistage."}}}},
{"name":"progress.audi ES","countryCode":"es","languageCode":"es-ES","condition":{"type":"url","key":"","value":"^https:\\/\\/www\\.progress\\.audi\\/progress\\/es","shouldBePositive":true,"operator":"regexp"},"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'Utilizar la p\u00e1gina web y sus ofertas, y continuar navegando en ella supone la aceptaci\u00f3n de las cookies imprescindibles. En las {{opciones de consentimiento de cookies}} puede administrar las categor\u00edas de cookies y permitir categor\u00edas adicionales. Al hacer clic en el bot\u00f3n "Aceptar todo" se activan todas las categor\u00edas de cookies. Puede revocar su consentimiento en cualquier momento con efecto futuro. Para obtener m\u00e1s informaci\u00f3n, consulte nuestra \x3ca href\x3d"/progress/es/cookie-policy.html"\x3epol\u00edtica de cookies\x3c/a\x3e, as\u00ed como nuestra \x3ca href\x3d"/progress/es/privacy-policy.html"\x3epol\u00edtica de protecci\u00f3n de datos\x3c/a\x3e y el \x3ca href\x3d"/progress/es/legal-notice.html"\x3eaviso legal\x3c/a\x3e.',
"consentTitle":"Configuraci\u00f3n de Cookies","consentDescription":"Utilizamos las siguientes categor\u00edas de cookies en nuestra p\u00e1gina web:","consentWidgetCopy":"Configuraci\u00f3n de privacidad","doNotSellModal":{},"deleteDataModal":{},"requestDataModal":{},"tcf2Modal":{},"tcf2PurpAndFeaturesModal":{},"tcf2VendorModal":{},"tcf2LegitimateInterestsModal":{},"tcf2Shared":{},"save":"Guardar","cancel":"Cancelar","close":"Aceptar todo","cookies":{"default":{"title":"Cookies indispensables","description":"Se necesitan cookies imprescindibles para facilitarle funciones b\u00e1sicas durante el uso de la p\u00e1gina web. Entre estas funciones se encuentra, por ejemplo, el configurador de veh\u00edculos."},
"Functional":{"title":"Cookies funcionales","description":"Las cookies funcionales permiten registrar y guardar los ajustes de usuario (p. ej., nombre de usuario, configuraciones) para aumentar la facilidad de uso."},"Performance":{"title":"Cookies de rendimiento","description":"Las cookies de rendimiento recopilan informaci\u00f3n sobre el modo en que usa de nuestra p\u00e1gina web (p. ej., n\u00famero de visitas, tiempo de espera). Estas cookies se utilizan para optimizar la p\u00e1gina web y para que se muestre publicidad relacionada con los intereses del usuario."},
"Do Not Track":{"title":"Do Not Track","description":"Hemos teniendo en cuenta la configuraci\u00f3n que seleccionaste en tu navegador de \u201cno realizar seguimiento \u201d. Solamente se habilitan las cookies estrictamente necesarias para el correcto funcionamiento de la p\u00e1gina web. Si deseas permitir categor\u00edas de cookies adicionales, por favor, desactiva la configuraci\u00f3n del navegador de \u201cno realizar seguimiento\u201d."}}}},{"name":"progress.audi IT","countryCode":"it","languageCode":"it-IT",
"condition":{"type":"url","key":"","value":"^https:\\/\\/www\\.progress\\.audi\\/progress\\/it","shouldBePositive":true,"operator":"regexp"},"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'Utilizzando il sito web e le sue offerte e continuando nella navigazione, lei accetta i cookie necessari. Tra le {{opzioni di consenso dei cookie}} \u00e8 possibile gestire le categorie di cookie e consentire categorie aggiuntive. Facendo clic sul pulsante "Accetta tutti", vengono attivate tutte le categorie di cookie. In qualsiasi momento potr\u00e0 revocare il consenso dato con effetto futuro. Ulteriori informazioni sono disponibili nella nostra \x3ca href\x3d"/progress/it/cookie-policy.html"\x3eCookie Policy\x3c/a\x3e, nella nostra \x3ca href\x3d"/progress/it/privacy-policy.html"\x3eAvvertenza sulla protezione dei dati\x3c/a\x3e e nell\' \x3ca href\x3d"/progress/it/legal-notice.html"\x3eImpressum\x3c/a\x3e.',
"consentTitle":"Impostazioni dei cookie","consentDescription":"Nel nostro sito web utilizziamo le seguenti categorie di cookie:","consentWidgetCopy":"Impostazioni della privacy","doNotSellModal":{},"deleteDataModal":{},"requestDataModal":{},"tcf2Modal":{},"tcf2PurpAndFeaturesModal":{},"tcf2VendorModal":{},"tcf2LegitimateInterestsModal":{},"tcf2Shared":{},"save":"Salva","cancel":"Annulla","close":"Accetta tutti","cookies":{"default":{"title":"Cookie necessari","description":"I cookie necessari servono a fornirle funzioni fondamentali durante l'utilizzo del sito web. Tra queste funzioni vi \u00e8, ad esempio, il configuratore del veicolo."},
"Functional":{"title":"Cookie di funzionalit\u00e0","description":"I cookie di funzionalit\u00e0 consentono l'acquisizione e la memorizzazione delle impostazioni utente (ad es. nome utente, configurazioni) per rendere l'utilizzo pi\u00f9 intuitivo."},"Performance":{"title":"Cookie di performance","description":"I cookie di performance raccolgono informazioni circa l'utilizzo del nostro sito web (ad es. il numero dei visitatori e il tempo di visita). Questi cookie servono all'ottimizzazione del sito web e a mostrare pubblicit\u00e0 di interesse del visitatore."},
"Do Not Track":{"title":"Do Not Track","description":"Teniamo conto dell'impostazione del browser \u201cdo not track\u201d da Lei eseguita. Sono attivati solo i cookie indispensabili. Se desidera abilitare altre categorie di cookie, disattivi l'impostazione del browser \u201cdo not track\u201d."}}}},{"name":"progress.audi NL","countryCode":"nl","languageCode":"nl-NL","condition":{"type":"url","key":"","value":"^https:\\/\\/www\\.progress\\.audi\\/progress\\/nl","shouldBePositive":true,"operator":"regexp"},
"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'Door de website en het aanbod daarop te gebruiken en erop te navigeren, accepteert u de onmisbare cookies. In de {{toestemmingsopties voor cookies}} kunt u de cookie-categorie\u00ebn beheren en extra categorie\u00ebn toestaan. Als u op de knop "Alles accepteren" klikt, worden alle categorie\u00ebn cookies geactiveerd. U kunt uw toestemming op elk gewenst moment intrekken voor de toekomst. Meer informatie vindt u in ons  \x3ca href\x3d"/progress/nl/cookie-policy.html"\x3ecookie-beleid\x3c/a\x3e en in onze \x3ca href\x3d"/progress/nl/privacy-policy.html"\x3eprivacyverklaring\x3c/a\x3e en in het \x3ca href\x3d"/progress/nl/legal-notice.html"\x3ecolofon\x3c/a\x3e.',
"consentTitle":"Cookie instellingen","consentDescription":"Op onze website maken wij gebruik van de volgende categorie\u00ebn cookies:","doNotSellModal":{},"deleteDataModal":{},"requestDataModal":{},"tcf2Modal":{},"tcf2PurpAndFeaturesModal":{},"tcf2VendorModal":{},"tcf2LegitimateInterestsModal":{},"tcf2Shared":{},"save":"Opslaan","cancel":"Afbreken","close":"Alles accepteren","cookies":{"default":{"title":"Onmisbare cookies","description":"Onmisbare cookies zijn nodig om u de belangrijkste functies tijdens het gebruik van de website ter beschikking te stellen. Tot deze functies behoort bijvoorbeeld de voertuigconfigurator."},
"Functional":{"title":"Functionele cookies","description":"Met functionele cookies kunnen de gebruikersinstellingen (bijvoorbeeld gebruikersnaam en configuratie) worden geregistreerd en opgeslagen, om het gebruiksgemak te verhogen."},"Performance":{"title":"Prestatie cookies","description":"Prestatie cookies verzamelen informatie over de manier waarop onze website wordt gebruikt (bijv. aantal bezoeken, verblijfstijd). Deze cookies zijn bedoeld voor optimalisatie van de website en op interesses afgestemde reclame."},
"Do Not Track":{"title":"Do Not Track","description":"Wij houden er rekening mee dat u in uw browser hebt aangegeven dat u niet gevolgd wilt worden. Enkel strikt noodzakelijke cookies zijn ingeschakeld. Als u bijkomende soorten cookies wilt toestaan, gelieve dan de gekozen functie te deactiveren."}}}},{"name":"progress.audi TR","countryCode":"tr","languageCode":"tr-TR","condition":{"type":"url","key":"","value":"^https:\\/\\/www\\.progress\\.audi\\/progress\\/tr","shouldBePositive":true,"operator":"regexp"},
"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'Web sitesini ve teklifleri kullanarak ve web sitesinde daha fazla gezinti yaparak vazge\u00e7ilmez \u00e7erezleri kabul etmi\u015f olursunuz. {{\u00c7erez onay se\u00e7eneklerinde}}, \u00e7erezlerin kategorisini y\u00f6netebilir ve ek kategorilere izin verebilirsiniz. "T\u00fcm\u00fcn\u00fc kabul et" d\u00fc\u011fmesine t\u0131klad\u0131\u011f\u0131n\u0131zda t\u00fcm \u00e7erez kategorileri etkinle\u015ftirilir. Bu onay\u0131n\u0131z\u0131 gelecekte ge\u00e7erli olmak \u00fczere her zaman geri alabilirsiniz. Ayr\u0131nt\u0131l\u0131 bilgiye \x3ca href\x3d"/progress/tr/cookie-policy.html"\x3e\u00c7erez Politikam\u0131z\x3c/a\x3e ve \x3ca href\x3d"/progress/tr/privacy-policy.html"\x3eVeri Koruma Bilgilerimiz\x3c/a\x3e ve \x3ca href\x3d"/progress/tr/legal-notice.html"\x3eK\u00fcnye\'de\x3c/a\x3e bulabilirsiniz.',
"consentTitle":"\u00c7erez Ayarlar\u0131","consentDescription":"Web sitemizde a\u015fa\u011f\u0131daki \u00e7erez kategorilerini kullan\u0131r\u0131z:","doNotSellModal":{},"deleteDataModal":{},"requestDataModal":{},"tcf2Modal":{},"tcf2PurpAndFeaturesModal":{},"tcf2VendorModal":{},"tcf2LegitimateInterestsModal":{},"tcf2Shared":{},"save":"Kaydet","cancel":"\u0130ptal et","close":"T\u00fcm\u00fcn\u00fc kabul et","cookies":{"default":{"title":"Vazge\u00e7ilmez \u00e7erezler","description":"Vazge\u00e7ilmez \u00e7erezler, web sitesini kullan\u0131m\u0131n\u0131z s\u0131ras\u0131nda temel i\u015flevlerin size sunulmas\u0131 i\u00e7in gereklidir. Bu i\u015flevlere \u00f6rne\u011fin ara\u00e7 konfig\u00fcrat\u00f6r\u00fc dahildir."},
"Functional":{"title":"\u0130\u015flevsel \u00e7erezler","description":"\u0130\u015flevsel \u00e7erezler, daha kullan\u0131c\u0131 dostu bir tasar\u0131m sunmak i\u00e7in kullan\u0131c\u0131 ayarlar\u0131n\u0131n (\u00f6r. kullan\u0131c\u0131 ad\u0131, yap\u0131land\u0131rmalar), toplanmas\u0131n\u0131 ve saklanmas\u0131n\u0131 m\u00fcmk\u00fcn k\u0131lar."},"Performance":{"title":"Performans \u00e7erezleri","description":"Performans \u00e7erezleri, web sitemizin kullan\u0131m \u015fekliyle ilgili bilgi toplar (\u00f6r. ziyaret say\u0131s\u0131, gezinti s\u00fcresi). Bu \u00e7erezler, me\u015fru menfaatle reklamlar\u0131n sunulmas\u0131na ve web sitesi iyile\u015ftirmesine olanak sa\u011flar."},
"Do Not Track":{"title":"Do Not Track","description":'Se\u00e7ti\u011finiz \u201cdo not track\u201d taray\u0131c\u0131 ayar\u0131n\u0131 dikkate ald\u0131k. Sadece zorunlu \u00e7erezler etkin durumdad\u0131r. Di\u011fer \u00e7erez kategorilerine de izin vermek istiyorsan\u0131z, l\u00fctfen "do not track" taray\u0131c\u0131 ayar\u0131n\u0131 devre d\u0131\u015f\u0131 b\u0131rak\u0131n.'}}}},{"name":"progress.audi EN_US","countryCode":"us","languageCode":"en-US","condition":{"type":"url","key":"",
"value":"^https:\\/\\/www\\.progress\\.audi\\/progress\\/en_US","shouldBePositive":true,"operator":"regexp"},"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'You accept the required cookies by using the website and its features and continuing to navigate around it. You can manage cookie categories and accept additional categories under {{Cookie Consent Options}}. By clicking on the "Accept all" button, all categories of cookies are accepted. You can withdraw your consent at any time with future effect. You will find further information in our \x3ca href\x3d"/progress/en_US/cookie-policy.html"\x3eCookie Policy\x3c/a\x3e, \x3ca href\x3d"/progress/en_US/privacy-policy.html"\x3ePrivacy Notice\x3c/a\x3e and \x3ca href\x3d"/progress/en_US/legal-notice.html"\x3eLegal Notice\x3c/a\x3e.',
"consentTitle":"Cookie Consent","consentDescription":"We use the following categories of cookies on our website:","consentWidgetCopy":"Privacy Settings","doNotSellModal":{"title":"Do Not Sell My Personal Information","description":"Please verify your identity so we can fulfill your request","link":"Do Not Sell My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect","close":"Close"},"deleteDataModal":{"title":"Delete My Personal Information",
"description":"Please verify your identity so we can fulfill your request","link":"Delete My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect","close":"Close"},"requestDataModal":{"title":"Request My Personal Information","description":"Please verify your identity so we can fulfill your request","link":"Request My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect",
"close":"Close"},"tcf2Modal":{"title":"Privacy Settings","description":"In order to provide the best experience possible, we might sometimes track information about you. This may involve sending personal data such as advertising identifiers, information about your interests, and your IP address to third parties for processing. This information may be stored and/or accessed by this site and third parties through the use of cookies, device identifiers or other device data. You can view a list of the third parties by clicking the View All Vendors link or Advanced Settings button. We use this information for things like experience enrichment, analytics, and targeted advertising. We recommend allowing these functions in order to get the most out of your experience. In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Advanced Settings. Your consent choices are *service-specific* to this site. You can change your preferences anytime by clicking on the Personal Settings button at the bottom of the page.",
"advancedSettings":"Advanced","viewAllVendors":"View All Vendors","withdrawConsent":"Withdraw Consent","accept":"Accept"},"tcf2PurpAndFeaturesModal":{"title":"Purposes \x26 Features","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.","save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2VendorModal":{"title":"Vendors","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.",
"save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2LegitimateInterestsModal":{"title":"Legitimate Interest","description":"In order to provide with the best experience possible third parties are processing your data based in legitimate interest. This may involve sending personal data such as advertising identifiers, information about your interests and your IP address to third parties for processing. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience. You have the right to object to such processing and can do so here. Your consent choices are *service-specific* to this site.",
"legitimateInterestPurposes":"Legitimate Interest Purposes","save":"Save","objectToAll":"Object to All","cancel":"Cancel"},"tcf2Shared":{"purposes":"Purposes","features":"Features","specialPurposes":"Special Purposes","specialFeatures":"Special Features","vendors":"Vendors","privacyPolicy":"Privacy Policy","moreInfo":"More Info","notAffiliated":"Not Affiliated with the IAB"},"save":"Save","cancel":"Cancel","close":"Accept all","cookies":{"default":{"title":"Required cookies","description":"Required cookies are needed to provide you with basic functions during use of the website. These functions include e.g. the vehicle configurator."},
"Functional":{"title":"Functional cookies","description":"Functional cookies enable us to track and save user settings (e.g. user ID, configurations) for increased user friendliness."},"Performance":{"title":"Performance cookies","description":"Performance cookies collect information about how our website is used (e.g. number of visits, time spent on the site). These cookies help to optimize the website and deliver advertising that is tailored to the user."},"Do Not Track":{"title":"Do not track",
"description":"We have taken the \u201cdo not track\u201d browser setting you selected into account. Only absolutely essential cookies are enabled. If you would like to allow additional cookie categories, please deactivate the \u201cdo not track\u201d browser setting."}}}},{"name":"progress.audi FR_FR","countryCode":"fr","languageCode":"fr-FR","condition":{"type":"url","key":"","value":"^https:\\/\\/www\\.progress\\.audi\\/progress\\/fr_FR","shouldBePositive":true,"operator":"regexp"},"optVals":{"Functional":0,
"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'En utilisant le site Internet et ses offres et en continuant \u00e0 naviguer, vous acceptez les cookies strictement n\u00e9cessaires. Dans les {{options d\'acceptation des cookies}}, vous pouvez g\u00e9rer les cat\u00e9gories de cookies et autoriser des cat\u00e9gories suppl\u00e9mentaires. Le bouton \u00abTout accepter\u00bb permet d\'activer toutes les cat\u00e9gories de cookies. Vous pouvez vous opposer \u00e0 tout moment \u00e0 l\'utilisation ult\u00e9rieure de cookies. Pour plus d\'informations, veuillez consulter notre \x3ca href\x3d"/progress/fr_FR/cookie-policy.html"\x3ePolitique en mati\u00e8re de cookies\x3c/a\x3e, notre \x3ca href\x3d"/progress/fr_FR/privacy-policy.html"\x3ePolitique de confidentialit\u00e9\x3c/a\x3e ainsi que nos \x3ca href\x3d"/progress/fr_FR/legal-notice.html"\x3eMentions l\u00e9gales\x3c/a\x3e.',
"consentTitle":"Param\u00e8tres des cookies","consentDescription":"Nous utilisons les cat\u00e9gories de cookies suivantes sur notre site Internet:","consentWidgetCopy":"Param\u00e8tres de confidentialit\u00e9","doNotSellModal":{},"deleteDataModal":{},"requestDataModal":{},"tcf2Modal":{},"tcf2PurpAndFeaturesModal":{},"tcf2VendorModal":{},"tcf2LegitimateInterestsModal":{},"tcf2Shared":{},"save":"Enregistrer","cancel":"Annuler","close":"Tout accepter","cookies":{"default":{"title":"Cookies strictement n\u00e9cessaires",
"description":"Les cookies strictement n\u00e9cessaires sont requis pour vous fournir les fonctions de base lors de l'utilisation du site web. Parmi ces fonctions, on peut citer le configurateur du v\u00e9hicule."},"Functional":{"title":"Cookies fonctionnels","description":"Les cookies fonctionnels permettent de saisir et d'enregistrer les param\u00e8tres de l'utilisateur (nom d'utilisateur, configurations) afin d'am\u00e9liorer son exp\u00e9rience sur le site."},"Performance":{"title":"Cookies de performance",
"description":"Les cookies de performance collectent des informations sur le mode d'utilisation de notre site Internet (nombre de visites, dur\u00e9e de la visite, par exemple). Ces cookies servent \u00e0 l'optimisation du site web ainsi qu'\u00e0 l'affichage de publicit\u00e9s bas\u00e9es sur les int\u00e9r\u00eats."},"Do Not Track":{"title":"Do Not Track","description":"Nous tenons compte du fait que vous ayez indiqu\u00e9 ne pas vouloir \u00eatre pist\u00e9 dans votre navigateur. Seuls les cookies absolument indispensables sont activ\u00e9s. Si vous souhaitez autoriser d'autres cat\u00e9gories de cookies, veuillez d\u00e9sactiver l'interdiction de pistage."}}}},
{"name":"audibusinessinnovation.com DE","countryCode":"de","languageCode":"de-DE","condition":{"type":"url","key":"","value":"^https?\\:\\/\\/www\\.audibusinessinnovation\\.(com|de)\\/abi\\/de","shouldBePositive":true,"operator":"regexp"},"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'Indem Sie die Webseite und ihre Angebote nutzen und weiter navigieren, akzeptieren Sie die unverzichtbaren Cookies. In den {{Cookie Zustimmungsoptionen}} k\x26ouml;nnen Sie die Kategorien von Cookies verwalten und zus\x26auml;tzliche Kategorien zulassen. Indem Sie auf den Button \u201eAlle akzeptieren\u201c klicken werden alle Kategorien von Cookies aktiviert. Ihre Einwilligung k\x26ouml;nnen Sie jederzeit mit Wirkung f\u00fcr die Zukunft \x3cspan class\x3d"ensModalLink"\x3ewiderrufen\x3c/span\x3e. Weitere Informationen finden Sie in unserer \x3ca href\x3d"/abi/de/cookie-policy.html"\x3eCookie Policy\x3c/a\x3e sowie unserem \x3ca href\x3d"/abi/de/privacy-policy.html"\x3eDatenschutzhinweis\x3c/a\x3e und im \x3ca href\x3d"/abi/de/legal-notice.html"\x3eImpressum\x3c/a\x3e.',
"consentTitle":"Cookie Einstellungen","consentDescription":"Wir setzen auf unserer Webseite folgende Kategorien von Cookies ein:","consentWidgetCopy":"Datenschutzeinstellungen","doNotSellModal":{},"deleteDataModal":{},"requestDataModal":{},"tcf2Modal":{},"tcf2PurpAndFeaturesModal":{},"tcf2VendorModal":{},"tcf2LegitimateInterestsModal":{},"tcf2Shared":{},"save":"Speichern","cancel":"Abbrechen","close":"Alle akzeptieren","cookies":{"default":{"title":"Unverzichtbare Cookies","description":"Unverzichtbare Cookies werden ben\x26ouml;tigt, um Ihnen grundlegende Funktionen w\x26auml;hrend der Nutzung der Webseite zur Verf\x26uuml;gung zu stellen. Zu diesen Funktionen geh\x26ouml;rt z.B. der Fahrzeugkonfigurator."},
"Functional":{"title":"Funktionale Cookies","description":"Funktionale Cookies erm\x26ouml;glichen das Erfassen und Speichern der Benutzereinstellungen (z.B. Benutzername, Konfigurationen), um die Benutzerfreundlichkeit zu erh\x26ouml;hen."},"Performance":{"title":"Performance Cookies","description":"Performance Cookies sammeln Informationen \x26uuml;ber die Nutzungsweise unserer Webseite (z.B. Anzahl der Besuche, Verweilzeit). Diese Cookies dienen der Webseiten-Optimierung sowie dem Ausspielen interessengerechter Werbung."},
"Do Not Track":{"title":"Do Not Track","description":"Wir ber\x26uuml;cksichtigen die von Ihnen vorgenommene Browsereinstellung \u201edo not track\u201c. Es sind nur die unverzichtbaren Cookies aktiviert. Wenn Sie zus\x26auml;tzliche Cookie Kategorien zulassen m\x26ouml;chten, deaktivieren Sie bitte die Browsereinstellung \u201edo not track\u201c."}}}},{"name":"audibusinessinnovation.com EN","countryCode":"de","languageCode":"en-DE","condition":{"type":"url","key":"","value":"^https?\\:\\/\\/www\\.audibusinessinnovation\\.(com|de)\\/abi\\/en",
"shouldBePositive":true,"operator":"regexp"},"optVals":{"Functional":0,"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'You accept the required cookies by using the website and its features and continuing to navigate around it. You can manage cookie categories and accept additional categories under {{Cookie Consent Options}}. By clicking on the "Accept all" button, all categories of cookies are accepted. You can \x3cspan class\x3d"ensModalLink"\x3ewithdraw\x3c/span\x3e your consent at any time with future effect. You will find further information in our \x3ca href\x3d"/abi/en/cookie-policy.html"\x3eCookie Policy\x3c/a\x3e, \x3ca href\x3d"/abi/en/privacy-policy.html"\x3ePrivacy Notice\x3c/a\x3e and \x3ca href\x3d"/abi/en/legal-notice.html"\x3eLegal Notice\x3c/a\x3e.',
"consentTitle":"Cookie Consent","consentDescription":"We use the following categories of cookies on our website:","consentWidgetCopy":"Privacy Settings","doNotSellModal":{"title":"Do Not Sell My Personal Information","description":"Please verify your identity so we can fulfill your request","link":"Do Not Sell My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect","close":"Close"},"deleteDataModal":{"title":"Delete My Personal Information",
"description":"Please verify your identity so we can fulfill your request","link":"Delete My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect","close":"Close"},"requestDataModal":{"title":"Request My Personal Information","description":"Please verify your identity so we can fulfill your request","link":"Request My Personal Information","confirmationDescription":"Your Request has been submitted. Please allow for 45 days for the requested changes to take effect",
"close":"Close"},"tcf2Modal":{"title":"Privacy Settings","description":"In order to provide the best experience possible, we might sometimes track information about you. This may involve sending personal data such as advertising identifiers, information about your interests, and your IP address to third parties for processing. This information may be stored and/or accessed by this site and third parties through the use of cookies, device identifiers or other device data. You can view a list of the third parties by clicking the View All Vendors link or Advanced Settings button. We use this information for things like experience enrichment, analytics, and targeted advertising. We recommend allowing these functions in order to get the most out of your experience. In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Advanced Settings. Your consent choices are *service-specific* to this site. You can change your preferences anytime by clicking on the Personal Settings button at the bottom of the page.",
"advancedSettings":"Advanced","viewAllVendors":"View All Vendors","withdrawConsent":"Withdraw Consent","accept":"Accept"},"tcf2PurpAndFeaturesModal":{"title":"Purposes \x26 Features","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.","save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2VendorModal":{"title":"Vendors","description":"In some cases, third parties are processing your data based in legitimate interest. You have the right to object to such processing and can do so in the Legitimate Interest tab.",
"save":"Save","allowAll":"Allow All","cancel":"Cancel"},"tcf2LegitimateInterestsModal":{"title":"Legitimate Interest","description":"In order to provide with the best experience possible third parties are processing your data based in legitimate interest. This may involve sending personal data such as advertising identifiers, information about your interests and your IP address to third parties for processing. We use this information for things like experience enrichment, analytics and targeting advertising. We recommend allowing these functions to get the most out of your experience. You have the right to object to such processing and can do so here. Your consent choices are *service-specific* to this site.",
"legitimateInterestPurposes":"Legitimate Interest Purposes","save":"Save","objectToAll":"Object to All","cancel":"Cancel"},"tcf2Shared":{"purposes":"Purposes","features":"Features","specialPurposes":"Special Purposes","specialFeatures":"Special Features","vendors":"Vendors","privacyPolicy":"Privacy Policy","moreInfo":"More Info","notAffiliated":"Not Affiliated with the IAB"},"save":"Save","cancel":"Cancel","close":"Accept all","cookies":{"default":{"title":"Required Cookies","description":"Required cookies are needed to provide you with basic functions during use of the website. These functions include e.g. the vehicle configurator."},
"Functional":{"title":"Functional Cookies","description":"Functional cookies enable us to track and save user settings (e.g. user ID, configurations) for increased user friendliness."},"Performance":{"title":"Performance Cookies","description":"Performance cookies collect information about how our website is used (e.g. number of visits, time spent on the site). These cookies help to optimize the website and deliver advertising that is tailored to the user."},"Do Not Track":{"title":"Do Not Track",
"description":"We have taken the \u201cdo not track\u201d browser setting you selected into account. Only absolutely essential cookies are enabled. If you would like to allow additional cookie categories, please deactivate the \u201cdo not track\u201d browser setting."}}}},{"name":"progress.audi CN","countryCode":"cn","languageCode":"zh-CN","condition":{"type":"url","key":"","value":"^https:\\/\\/www\\.progress\\.audi\\/progress\\/zh","shouldBePositive":true,"operator":"regexp"},"optVals":{"Functional":0,
"Performance":0,"Do Not Track":0},"translation":{"notificationBannerContent":'\u60a8\u4f7f\u7528\u7f51\u9875\u53ca\u5176\u63d0\u4f9b\u7684\u670d\u52a1\u5e76\u7ee7\u7eed\u6d4f\u89c8\u5373\u8868\u793a\u60a8\u63a5\u53d7\u4e0d\u53ef\u6216\u7f3a\u7684 Cookie\u3002{{\u60a8\u53ef\u4ee5\u5728\u540c\u610f Cookie}} \u7684\u9009\u9879\u4e2d\u7ba1\u7406 Cookie \u7684\u7c7b\u522b\u548c\u5141\u8bb8\u5176\u5b83\u7c7b\u522b\u3002\u82e5\u60a8\u70b9\u51fb\u201c\u5168\u90e8\u63a5\u53d7\u201d\u6309\u94ae\uff0c\u5219\u6240\u6709\u7c7b\u522b\u7684 Cookie \u90fd\u5c06\u88ab\u542f\u7528\u3002\u60a8\u53ef\u4ee5\u968f\u65f6\u64a4\u9500\u60a8\u6240\u63d0\u4f9b\u7684\u540c\u610f\u610f\u89c1\uff0c\u64a4\u9500\u5373\u523b\u751f\u6548\u3002\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u89c1\u6211\u4eec\u7684 \x3ca href\x3d"/progress/zh/cookie-policy.html"\x3eCookie \u653f\u7b56\x3c/a\x3e \u4ee5\u53ca\u6211\u4eec\u7684\x3ca href\x3d"/progress/zh/privacy-policy.html"\x3e\u6570\u636e\u4fdd\u62a4\u8bf4\u660e\x3c/a\x3e\u548c\x3ca href\x3d"/progress/zh/legal-notice.html"\x3e\u7248\u672c\u8bf4\u660e\x3c/a\x3e\u3002',
"consentTitle":"Cookie \u8bbe\u7f6e","consentDescription":"\u6211\u4eec\u7684\u7f51\u9875\u4f7f\u7528\u4e86\u4ee5\u4e0b\u7c7b\u522b\u7684 Cookie\uff1a","doNotSellModal":{},"deleteDataModal":{},"requestDataModal":{},"tcf2Modal":{},"tcf2PurpAndFeaturesModal":{},"tcf2VendorModal":{},"tcf2LegitimateInterestsModal":{},"tcf2Shared":{},"save":"\u4fdd\u5b58","cancel":"\u53d6\u6d88","close":"\u5168\u90e8\u63a5\u53d7","cookies":{"default":{"title":"\u4e0d\u53ef\u6216\u7f3a\u7684 Cookie","description":"\u4e0d\u53ef\u6216\u7f3a\u7684 Cookie \u7528\u4e8e\u5728\u4f7f\u7528\u7f51\u9875\u7684\u8fc7\u7a0b\u4e2d\u5411\u60a8\u63d0\u4f9b\u57fa\u7840\u529f\u80fd\u3002\u4f8b\u5982\uff0c\u8f66\u8f86\u914d\u7f6e\u5668\u5c31\u5c5e\u4e8e\u8fd9\u4e9b\u529f\u80fd\u4e4b\u4e00\u3002"},
"Functional":{"title":"\u529f\u80fd\u6027 Cookie","description":"\u529f\u80fd\u6027 Cookie \u53ef\u4ee5\u91c7\u96c6\u548c\u4fdd\u5b58\u7528\u6237\u8bbe\u7f6e\uff08\u4f8b\u5982\u7528\u6237\u540d\u3001\u914d\u7f6e\uff09\uff0c\u4ee5\u63d0\u9ad8\u7528\u6237\u53cb\u597d\u5ea6\u3002"},"Performance":{"title":"\u6027\u80fd Cookie","description":"\u6027\u80fd Cookie \u6536\u96c6\u4e0e\u7f51\u9875\u7684\u4f7f\u7528\u65b9\u5f0f\u6709\u5173\u7684\u4fe1\u606f\uff08\u4f8b\u5982\u8bbf\u95ee\u7684\u6b21\u6570\u3001\u505c\u7559\u65f6\u95f4\uff09\u3002\u8fd9\u4e9b Cookie \u7528\u4e8e\u7f51\u9875\u4f18\u5316\u4ee5\u53ca\u5c55\u793a\u7b26\u5408\u5174\u8da3\u7684\u5e7f\u544a\u3002"},
"Do Not Track":{"title":"\u4e0d\u8ddf\u8e2a","description":"\u6211\u4eec\u5df2\u5c06\u60a8\u9009\u62e9\u7684\u201c\u4e0d\u8ddf\u8e2a\u201d\u6d4f\u89c8\u5668\u8bbe\u7f6e\u8003\u8651\u5728\u5185\u3002\u4ec5\u542f\u7528\u7edd\u5bf9\u5fc5\u8981\u7684 cookie\u3002\u5982\u679c\u60a8\u60f3\u5141\u8bb8\u5176\u4ed6 cookie \u7c7b\u522b\uff0c\u8bf7\u505c\u7528\u201c\u4e0d\u8ddf\u8e2a\u201d\u6d4f\u89c8\u5668\u8bbe\u7f6e\u3002"}}}}]};if(Bootstrapper.ensightenOptions.publishPath)ensClientConfig.info.publishPath=
Bootstrapper.ensightenOptions.publishPath;if(Bootstrapper.ensightenOptions.nexus)ensClientConfig.info.nexus=Bootstrapper.ensightenOptions.nexus},3459704,[3434527],576304,[576309]);
Bootstrapper.bindDOMLoaded(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{window.perfTime=window.perfTime||[];if(document.cookie.indexOf("AUDI_ENSIGHTEN_PRIVACY_Performance\x3d1")>-1)if(document.readyState==="complete")performanceTiming();else window.onload=performanceTiming()}catch(e){Bootstrapper.notify("015 - Performance Timing on page load rule error: "+e)}function performanceTiming(){Bootstrapper.notify("015 - Performance Timing on page load");
var perfVal=Bootstrapper.analyticsStorage.getPrefixedCookie("perf");var url="URL not available";if(digitalData&&digitalData.page&&digitalData.page.pageInfo&&digitalData.page.pageInfo.destinationURL)url=digitalData.page.pageInfo.destinationURL.split(/(#|\?)/)[0];if(!perfVal)perfVal=[];else perfVal=JSON.parse(perfVal);if(perfVal.length<3){var performance=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance,p=performance.timing||"unavailable",p2,network,server,browser,
evarval,evarstr;if(p!="unavailable"){network=p.responseStart-p.navigationStart;server=p.responseEnd-p.navigationStart;browser=p.loadEventStart-p.navigationStart;evarval={u:url,n:network,s:server,b:browser};if(p.loadEventStart!=0)timingToCookie(network,server,browser,evarval,perfVal);else setTimeout(function(){performance=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;p2=performance.timing;network=p2.responseStart-p2.navigationStart;server=p2.responseEnd-
p2.navigationStart;browser=p2.loadEventStart-p2.navigationStart;evarval={u:url,n:network,s:server,b:browser};timingToCookie(network,server,browser,evarval,"readCookieAgain")},2E3)}}}function timingToCookie(net,serv,brow,val,perfVal){if(perfVal=="readCookieAgain"){perfVal=Bootstrapper.analyticsStorage.getPrefixedCookie("perf");if(!perfVal)perfVal=[];else perfVal=JSON.parse(perfVal)}if(net>0&&serv>0&&brow>0&&net<1E5&&serv<1E5&&brow<2E5){perfVal.push(val);var expire_time=30*60*1E3;Bootstrapper.analyticsStorage.setPrefixedCookie("perf",
JSON.stringify(perfVal),expire_time)}}},3405448,557152);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var ensVar0=function(){return getDomain()};var getDomain=function(){try{var hostName=document.location.hostname;var domain=hostName;if(hostName!==null){var parts=hostName.split(".").reverse();if(parts!==null&&parts.length>1){domain=parts[1]+"."+parts[0];if(hostName.toLowerCase().indexOf(".co.")>-1||hostName.toLowerCase().indexOf(".com.")>-1&&parts.length>2)domain=
parts[2]+"."+domain}}domain="."+domain;return domain}catch(e){return window.location.hostname}};var visitorObj={"trackingServer":"dc.audi.com","cookieLifetime":"","cookieDomain":ensVar0.call(this),"disableIdSyncs":false,"overwriteCrossDomainMCIDAndAID":true};if("dcs.audi.com")visitorObj.trackingServerSecure="dcs.audi.com";if("dc.audi.com")visitorObj.marketingCloudServer="dc.audi.com";if("dcs.audi.com")visitorObj.marketingCloudServerSecure="dcs.audi.com";if("")visitorObj.loadTimeout="";if("")visitorObj.idSyncContainerID=
"";if(false)visitorObj.secureCookie=false;if(typeof visitorObj!="undefined")visitorObj.disableIdSyncs=false;var e=function(){function e(t){"@babel/helpers - typeof";return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(){return{callbacks:{},
add:function(e,t){this.callbacks[e]=this.callbacks[e]||[];var n=this.callbacks[e].push(t)-1,i=this;return function(){i.callbacks[e].splice(n,1)}},execute:function(e,t){if(this.callbacks[e]){t=void 0===t?[]:t,t=t instanceof Array?t:[t];try{for(;this.callbacks[e].length;){var n=this.callbacks[e].shift();"function"==typeof n?n.apply(null,t):n instanceof Array&&n[1].apply(n[0],t)}delete this.callbacks[e]}catch(e){}}},executeAll:function(e,t){(t||e&&!V.isObjectEmpty(e))&&Object.keys(this.callbacks).forEach(function(t){var n=
void 0!==e[t]?e[t]:"";this.execute(t,n)},this)},hasCallbacks:function(){return Boolean(Object.keys(this.callbacks).length)}}}function i(e,t,n){var i=null==e?void 0:e[t];return void 0===i?n:i}function r(e){for(var t=/^\d+$/,n=0,i=e.length;n<i;n++)if(!t.test(e[n]))return!1;return!0}function a(e,t){for(;e.length<t.length;)e.push("0");for(;t.length<e.length;)t.push("0")}function o(e,t){for(var n=0;n<e.length;n++){var i=parseInt(e[n],10),r=parseInt(t[n],10);if(i>r)return 1;if(r>i)return-1}return 0}function s(e,
t){if(e===t)return 0;var n=e.toString().split("."),i=t.toString().split(".");return r(n.concat(i))?(a(n,i),o(n,i)):NaN}function c(e){return e===Object(e)&&0===Object.keys(e).length}function u(e){return"function"==typeof e||e instanceof Array&&e.length}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};this.log=Ie("log",e,t),this.warn=Ie("warn",e,t),this.error=Ie("error",e,t)}function d(){var e=
arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cookieName,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.cookies;if(!t||!i)return{get:we,set:we,remove:we};var r={remove:function(){i.remove(t)},get:function(){var e=i.get(t),n={};try{n=JSON.parse(e)}catch(e){n={}}return n},set:function(e,n){n=n||{};var a=r.get(),o=Object.assign(a,e);i.set(t,JSON.stringify(o),{domain:n.optInCookieDomain||"",cookieLifetime:n.optInStorageExpiry||3419E4,expires:!0})}};return r}function f(e){this.name=
this.constructor.name,this.message=e,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error(e)).stack}function p(){function e(e,t){var n=Ae(e);return n.length?n.every(function(e){return!!t[e]}):be(t)}function t(){M(b),O(le.COMPLETE),_(h.status,h.permissions),s&&m.set(h.permissions,{optInCookieDomain:c,optInStorageExpiry:u}),C.execute(He)}function n(e){return function(n,i){if(!Oe(n))throw new Error("[OptIn] Invalid category(-ies). Please use the `OptIn.Categories` enum.");
return O(le.CHANGED),Object.assign(b,Me(Ae(n),e)),i||t(),h}}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=i.doesOptInApply,a=i.previousPermissions,o=i.preOptInApprovals,s=i.isOptInStorageEnabled,c=i.optInCookieDomain,u=i.optInStorageExpiry,l=i.isIabContext,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=f.cookies,g=Fe(a);Ne(g,"Invalid `previousPermissions`!"),Ne(o,"Invalid `preOptInApprovals`!");var m=d({cookieName:"adobeujs-optin"},{cookies:p}),h=this,_=ue(h),C=
he(),I=Te(g),S=Te(o),v=s?m.get():{},D={},y=function(e,t){return Pe(e)||t&&Pe(t)?le.COMPLETE:le.PENDING}(I,v),A=function(e,t,n){var i=Me(me,!r);return r?Object.assign({},i,e,t,n):i}(S,I,v),b=ke(A),O=function(e){return y=e},M=function(e){return A=e};h.deny=n(!1),h.approve=n(!0),h.denyAll=h.deny.bind(h,me),h.approveAll=h.approve.bind(h,me),h.isApproved=function(t){return e(t,h.permissions)},h.isPreApproved=function(t){return e(t,S)},h.fetchPermissions=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&
arguments[1],n=t?h.on(le.COMPLETE,e):we;return!r||r&&h.isComplete||!!o?e(h.permissions):t||C.add(He,function(){return e(h.permissions)}),n},h.complete=function(){h.status===le.CHANGED&&t()},h.registerPlugin=function(e){if(!e||!e.name||"function"!=typeof e.onRegister)throw new Error(Ue);D[e.name]||(D[e.name]=e,e.onRegister.call(e,h))},h.execute=Ve(D),h.memoizeContent=function(e){Re(e)&&m.set(e,{optInCookieDomain:c,optInStorageExpiry:u})},h.getMemoizedContent=function(e){var t=m.get();if(t)return t[e]},
Object.defineProperties(h,{permissions:{get:function(){return A}},status:{get:function(){return y}},Categories:{get:function(){return de}},doesOptInApply:{get:function(){return!!r}},isPending:{get:function(){return h.status===le.PENDING}},isComplete:{get:function(){return h.status===le.COMPLETE}},__plugins:{get:function(){return Object.keys(D)}},isIabContext:{get:function(){return l}}})}function g(e,t){function n(){r=null,e.call(e,new f("The call took longer than you wanted!"))}function i(){r&&(clearTimeout(r),
e.apply(e,arguments))}if(void 0===t)return e;var r=setTimeout(n,t);return i}function m(){if(window.__tcfapi)return window.__tcfapi;var e=window;if(e===window.top)return void De.error("__tcfapi not found");for(var t;!t;){e=e.parent;try{e.frames.__tcfapiLocator&&(t=e)}catch(e){}if(e===window.top)break}if(!t)return void De.error("__tcfapi not found");var n={};return window.__tcfapi=function(e,i,r,a){var o=Math.random()+"",s={__tcfapiCall:{command:e,parameter:a,version:i,callId:o}};n[o]=r,t.postMessage(s,
"*")},window.addEventListener("message",function(e){var t=e.data;if("string"==typeof t)try{t=JSON.parse(e.data)}catch(e){}if(t.__tcfapiReturn){var i=t.__tcfapiReturn;"function"==typeof n[i.callId]&&(n[i.callId](i.returnValue,i.success),delete n[i.callId])}},!1),window.__tcfapi}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=!0===e.vendor.consents[t],r=n.every(function(t){return!0===e.purpose.consents[t]});return i&&r}function _(){var e=this;e.name="iabPlugin",e.version=
"0.0.2";var t,n=he(),i={transparencyAndConsentData:null},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i[e]=t};e.fetchConsentData=function(e){var t=e.callback,n=e.timeout,i=g(t,n);a({callback:i})},e.isApproved=function(e){var t=e.callback,n=e.category,r=e.timeout;if(i.transparencyAndConsentData)return t(null,h(i.transparencyAndConsentData,fe[n],pe[n]));var o=g(function(e,i){t(e,h(i,fe[n],pe[n]))},r);a({category:n,callback:o})},e.onRegister=function(n){t=n;var i=
Object.keys(fe),r=function(e,t){!e&&t&&(i.forEach(function(e){var i=h(t,fe[e],pe[e]);n[i?"approve":"deny"](e,!0)}),n.complete())};e.fetchConsentData({callback:r})};var a=function(e){var a=e.callback;if(i.transparencyAndConsentData)return a(null,i.transparencyAndConsentData);n.add("FETCH_CONSENT_DATA",a),o(function(e,a){if(a){var o=ke(e),s=t.getMemoizedContent("iabConsentHash"),c=ve(o.tcString).toString(32);o.consentString=e.tcString,o.hasConsentChangedSinceLastCmpPull=s!==c,r("transparencyAndConsentData",
o),t.memoizeContent({iabConsentHash:c})}n.execute("FETCH_CONSENT_DATA",[null,i.transparencyAndConsentData])})},o=function(e){var t=je(fe),n=m();"function"==typeof n&&n("getTCData",2,e,t)}}var C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Object.assign=Object.assign||function(e){for(var t,n,i=1;i<arguments.length;++i){n=arguments[i];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e};
var I,S,v={HANDSHAKE:"HANDSHAKE",GETSTATE:"GETSTATE",PARENTSTATE:"PARENTSTATE"},D={MCMID:"MCMID",MCAID:"MCAID",MCAAMB:"MCAAMB",MCAAMLH:"MCAAMLH",MCOPTOUT:"MCOPTOUT",CUSTOMERIDS:"CUSTOMERIDS"},y={MCMID:"getMarketingCloudVisitorID",MCAID:"getAnalyticsVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",MCOPTOUT:"isOptedOut",ALLFIELDS:"getVisitorValues"},A={CUSTOMERIDS:"getCustomerIDs"},b={MCMID:"getMarketingCloudVisitorID",MCAAMB:"getAudienceManagerBlob",MCAAMLH:"getAudienceManagerLocationHint",
MCOPTOUT:"isOptedOut",MCAID:"getAnalyticsVisitorID",CUSTOMERIDS:"getCustomerIDs",ALLFIELDS:"getVisitorValues"},O={MC:"MCMID",A:"MCAID",AAM:"MCAAMB"},M={MCMID:"MCMID",MCOPTOUT:"MCOPTOUT",MCAID:"MCAID",MCAAMLH:"MCAAMLH",MCAAMB:"MCAAMB"},k={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},E={GLOBAL:"global"},T={MESSAGES:v,STATE_KEYS_MAP:D,ASYNC_API_MAP:y,SYNC_API_MAP:A,ALL_APIS:b,FIELDGROUP_TO_FIELD:O,FIELDS:M,AUTH_STATE:k,OPT_OUT:E},P=T.STATE_KEYS_MAP,L=function(e){function t(){}function n(t,n){var i=this;return function(){var r=
e(0,t),a={};return a[t]=r,i.setStateAndPublish(a),n(r),r}}this.getMarketingCloudVisitorID=function(e){e=e||t;var i=this.findField(P.MCMID,e),r=n.call(this,P.MCMID,e);return void 0!==i?i:r()},this.getVisitorValues=function(e){this.getMarketingCloudVisitorID(function(t){e({MCMID:t})})}},R=T.MESSAGES,w=T.ASYNC_API_MAP,F=T.SYNC_API_MAP,N=function(){function e(){}function t(e,t){var n=this;return function(){return n.callbackRegistry.add(e,t),n.messageParent(R.GETSTATE),""}}function n(n){this[w[n]]=function(i){i=
i||e;var r=this.findField(n,i),a=t.call(this,n,i);return void 0!==r?r:a()}}function i(t){this[F[t]]=function(){return this.findField(t,e)||{}}}Object.keys(w).forEach(n,this),Object.keys(F).forEach(i,this)},x=T.ASYNC_API_MAP,j=function(){Object.keys(x).forEach(function(e){this[x[e]]=function(t){this.callbackRegistry.add(e,t)}},this)},V=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(t,n){n.isObjectEmpty=function(e){return e===Object(e)&&0===Object.keys(e).length},n.isValueEmpty=
function(e){return""===e||n.isObjectEmpty(e)};var i=function(){var e=navigator.appName,t=navigator.userAgent;return"Microsoft Internet Explorer"===e||t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0&&t.indexOf("Windows NT 6")>=0};n.getIeVersion=function(){return document.documentMode?document.documentMode:i()?7:null},n.encodeAndBuildRequest=function(e,t){return e.map(encodeURIComponent).join(t)},n.isObject=function(t){return null!==t&&"object"===e(t)&&!1===Array.isArray(t)},n.defineGlobalNamespace=
function(){return window.adobe=n.isObject(window.adobe)?window.adobe:{},window.adobe},n.pluck=function(e,t){return t.reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},Object.create(null))},n.parseOptOut=function(e,t,n){t||(t=n,e.d_optout&&e.d_optout instanceof Array&&(t=e.d_optout.join(",")));var i=parseInt(e.d_ottl,10);return isNaN(i)&&(i=7200),{optOut:t,d_ottl:i}},n.normalizeBoolean=function(e){var t=e;return"true"===e?t=!0:"false"===e&&(t=!1),t}}),H=(V.isObjectEmpty,V.isValueEmpty,V.getIeVersion,
V.encodeAndBuildRequest,V.isObject,V.defineGlobalNamespace,V.pluck,V.parseOptOut,V.normalizeBoolean,n),U=T.MESSAGES,B={0:"prefix",1:"orgID",2:"state"},G=function(e,t){this.parse=function(e){try{var t={};return e.data.split("|").forEach(function(e,n){if(void 0!==e)t[B[n]]=2!==n?e:JSON.parse(e)}),t}catch(e){}},this.isInvalid=function(n){var i=this.parse(n);if(!i||Object.keys(i).length<2)return!0;var r=e!==i.orgID,a=!t||n.origin!==t,o=-1===Object.keys(U).indexOf(i.prefix);return r||a||o},this.send=function(n,
i,r){var a=i+"|"+e;r&&r===Object(r)&&(a+="|"+JSON.stringify(r));try{n.postMessage(a,t)}catch(e){}}},Y=T.MESSAGES,q=function(e,t,n,i){function r(e){Object.assign(p,e)}function a(e){Object.assign(p.state,e),Object.assign(p.state.ALLFIELDS,e),p.callbackRegistry.executeAll(p.state)}function o(e){if(!h.isInvalid(e)){m=!1;var t=h.parse(e);p.setStateAndPublish(t.state)}}function s(e){!m&&g&&(m=!0,h.send(i,e))}function c(){r(new L(n._generateID)),p.getMarketingCloudVisitorID(),p.callbackRegistry.executeAll(p.state,
!0),C.removeEventListener("message",u)}function u(e){if(!h.isInvalid(e)){var t=h.parse(e);m=!1,C.clearTimeout(p._handshakeTimeout),C.removeEventListener("message",u),r(new N(p)),C.addEventListener("message",o),p.setStateAndPublish(t.state),p.callbackRegistry.hasCallbacks()&&s(Y.GETSTATE)}}function l(){g&&postMessage?(C.addEventListener("message",u),s(Y.HANDSHAKE),p._handshakeTimeout=setTimeout(c,250)):c()}function d(){C.s_c_in||(C.s_c_il=[],C.s_c_in=0),p._c="Visitor",p._il=C.s_c_il,p._in=C.s_c_in,
p._il[p._in]=p,C.s_c_in++}function f(){function e(e){0!==e.indexOf("_")&&"function"==typeof n[e]&&(p[e]=function(){})}Object.keys(n).forEach(e),p.getSupplementalDataID=n.getSupplementalDataID,p.isAllowed=function(){return!0}}var p=this,g=t.whitelistParentDomain;p.state={ALLFIELDS:{}},p.version=n.version,p.marketingCloudOrgID=e,p.cookieDomain=n.cookieDomain||"",p._instanceType="child";var m=!1,h=new G(e,g);p.callbackRegistry=H(),p.init=function(){d(),f(),r(new j(p)),l()},p.findField=function(e,t){if(void 0!==
p.state[e])return t(p.state[e]),p.state[e]},p.messageParent=s,p.setStateAndPublish=a},W=T.MESSAGES,X=T.ALL_APIS,K=T.ASYNC_API_MAP,J=T.FIELDGROUP_TO_FIELD,z=function(e,t){function n(){var t={};return Object.keys(X).forEach(function(n){var i=X[n],r=e[i]();V.isValueEmpty(r)||(t[n]=r)}),t}function i(){var t=[];return e._loading&&Object.keys(e._loading).forEach(function(n){if(e._loading[n]){var i=J[n];t.push(i)}}),t.length?t:null}function r(t){return function n(r){var a=i();if(a){var o=K[a[0]];e[o](n,
!0)}else t()}}function a(e,i){var r=n();t.send(e,i,r)}function o(e){c(e),a(e,W.HANDSHAKE)}function s(e){r(function(){a(e,W.PARENTSTATE)})()}function c(n){function i(i){r.call(e,i),t.send(n,W.PARENTSTATE,{CUSTOMERIDS:e.getCustomerIDs()})}var r=e.setCustomerIDs;e.setCustomerIDs=i}return function(e){if(!t.isInvalid(e))(t.parse(e).prefix===W.HANDSHAKE?o:s)(e.source)}},Q=function(e,t){function n(e){return function(n){i[e]=n,r++,r===a&&t(i)}}var i={},r=0,a=Object.keys(e).length;Object.keys(e).forEach(function(t){var i=
e[t];if(i.fn){var r=i.args||[];r.unshift(n(t)),i.fn.apply(i.context||null,r)}})},$={get:function(e){e=encodeURIComponent(e);var t=(";"+document.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"\x3d"),i=n<0?n:t.indexOf(";",n+1);return n<0?"":decodeURIComponent(t.substring(n+2+e.length,i<0?t.length:i))},set:function(e,t,n){var r=i(n,"cookieLifetime"),a=i(n,"expires"),o=i(n,"domain"),s=i(n,"secure"),c=s?"Secure":"";if(a&&"SESSION"!==r&&"NONE"!==r){var u=""!==t?parseInt(r||0,10):-60;if(u)a=new Date,a.setTime(a.getTime()+
1E3*u);else if(1===a){a=new Date;var l=a.getYear();a.setYear(l+2+(l<1900?1900:0))}}else a=0;return e&&"NONE"!==r?(document.cookie=encodeURIComponent(e)+"\x3d"+encodeURIComponent(t)+"; path\x3d/;"+(a?" expires\x3d"+a.toGMTString()+";":"")+(o?" domain\x3d"+o+";":"")+c,this.get(e)===t):0},remove:function(e,t){var n=i(t,"domain");n=n?" domain\x3d"+n+";":"",document.cookie=encodeURIComponent(e)+"\x3d; Path\x3d/; Expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"+n}},Z=function(e){var t;!e&&C.location&&(e=C.location.hostname),
t=e;var n,i=t.split(".");for(n=i.length-2;n>=0;n--)if(t=i.slice(n).join("."),$.set("test","cookie",{domain:t}))return $.remove("test",{domain:t}),t;return""},ee={compare:s,isLessThan:function(e,t){return s(e,t)<0},areVersionsDifferent:function(e,t){return 0!==s(e,t)},isGreaterThan:function(e,t){return s(e,t)>0},isEqual:function(e,t){return 0===s(e,t)}},te=!!C.postMessage,ne={postMessage:function(e,t,n){var i=1;t&&(te?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,
"")+"#"+ +new Date+i++ +"\x26"+e))},receiveMessage:function(e,t){var n;try{te&&(e&&(n=function(n){if("string"==typeof t&&n.origin!==t||"[object Function]"===Object.prototype.toString.call(t)&&!1===t(n.origin))return!1;e(n)}),C.addEventListener?C[e?"addEventListener":"removeEventListener"]("message",n):C[e?"attachEvent":"detachEvent"]("onmessage",n))}catch(e){}}},ie=function(e){var t,n,i="0123456789",r="",a="",o=8,s=10,c=10;if(1==e){for(i+="ABCDEF",t=0;16>t;t++)n=Math.floor(Math.random()*o),r+=i.substring(n,
n+1),n=Math.floor(Math.random()*o),a+=i.substring(n,n+1),o=16;return r+"-"+a}for(t=0;19>t;t++)n=Math.floor(Math.random()*s),r+=i.substring(n,n+1),0===t&&9==n?s=3:(1==t||2==t)&&10!=s&&2>n?s=10:2<t&&(s=10),n=Math.floor(Math.random()*c),a+=i.substring(n,n+1),0===t&&9==n?c=3:(1==t||2==t)&&10!=c&&2>n?c=10:2<t&&(c=10);return r+a},re=function(e,t){return{corsMetadata:function(){var e="none",t=!0;return"undefined"!=typeof XMLHttpRequest&&XMLHttpRequest===Object(XMLHttpRequest)&&("withCredentials"in new XMLHttpRequest?
e="XMLHttpRequest":"undefined"!=typeof XDomainRequest&&XDomainRequest===Object(XDomainRequest)&&(t=!1),Object.prototype.toString.call(C.HTMLElement).indexOf("Constructor")>0&&(t=!1)),{corsType:e,corsCookiesEnabled:t}}(),getCORSInstance:function(){return"none"===this.corsMetadata.corsType?null:new C[this.corsMetadata.corsType]},fireCORS:function(t,n,i){function r(e){var n;try{if((n=JSON.parse(e))!==Object(n))return void a.handleCORSError(t,null,"Response is not JSON")}catch(e){return void a.handleCORSError(t,
e,"Error parsing response as JSON")}try{for(var i=t.callback,r=C,o=0;o<i.length;o++)r=r[i[o]];r(n)}catch(e){a.handleCORSError(t,e,"Error forming callback function")}}var a=this;n&&(t.loadErrorHandler=n);try{var o=this.getCORSInstance();o.open("get",t.corsUrl+"\x26ts\x3d"+(new Date).getTime(),!0),"XMLHttpRequest"===this.corsMetadata.corsType&&(o.withCredentials=!0,o.timeout=e.loadTimeout,o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===this.readyState&&
200===this.status&&r(this.responseText)}),o.onerror=function(e){a.handleCORSError(t,e,"onerror")},o.ontimeout=function(e){a.handleCORSError(t,e,"ontimeout")},o.send(),e._log.requests.push(t.corsUrl)}catch(e){this.handleCORSError(t,e,"try-catch")}},handleCORSError:function(t,n,i){e.CORSErrors.push({corsData:t,error:n,description:i}),t.loadErrorHandler&&("ontimeout"===i?t.loadErrorHandler(!0):t.loadErrorHandler(!1))}}},ae={POST_MESSAGE_ENABLED:!!C.postMessage,DAYS_BETWEEN_SYNC_ID_CALLS:1,MILLIS_PER_DAY:864E5,
ADOBE_MC:"adobe_mc",ADOBE_MC_SDID:"adobe_mc_sdid",VALID_VISITOR_ID_REGEX:/^[0-9a-fA-F\-]+$/,ADOBE_MC_TTL_IN_MIN:5,VERSION_REGEX:/vVersion\|((\d+\.)?(\d+\.)?(\*|\d+))(?=$|\|)/,FIRST_PARTY_SERVER_COOKIE:"s_ecid"},oe=function(e,t){var n=C.document;return{THROTTLE_START:3E4,MAX_SYNCS_LENGTH:649,throttleTimerSet:!1,id:null,onPagePixels:[],iframeHost:null,getIframeHost:function(e){if("string"==typeof e){var t=e.split("/");return t[0]+"//"+t[2]}},subdomain:null,url:null,getUrl:function(){var t,i="http://fast.",
r="?d_nsid\x3d"+e.idSyncContainerID+"#"+encodeURIComponent(n.location.origin);return this.subdomain||(this.subdomain="nosubdomainreturned"),e.loadSSL&&(i=e.idSyncSSLUseAkamai?"https://fast.":"https://"),t=i+this.subdomain+".demdex.net/dest5.html"+r,this.iframeHost=this.getIframeHost(t),this.id="destination_publishing_iframe_"+this.subdomain+"_"+e.idSyncContainerID,t},checkDPIframeSrc:function(){var t="?d_nsid\x3d"+e.idSyncContainerID+"#"+encodeURIComponent(n.location.href);"string"==typeof e.dpIframeSrc&&
e.dpIframeSrc.length&&(this.id="destination_publishing_iframe_"+(e._subdomain||this.subdomain||(new Date).getTime())+"_"+e.idSyncContainerID,this.iframeHost=this.getIframeHost(e.dpIframeSrc),this.url=e.dpIframeSrc+t)},idCallNotProcesssed:null,doAttachIframe:!1,startedAttachingIframe:!1,iframeHasLoaded:null,iframeIdChanged:null,newIframeCreated:null,originalIframeHasLoadedAlready:null,iframeLoadedCallbacks:[],regionChanged:!1,timesRegionChanged:0,sendingMessages:!1,messages:[],messagesPosted:[],messagesReceived:[],
messageSendingInterval:ae.POST_MESSAGE_ENABLED?null:100,onPageDestinationsFired:[],jsonForComparison:[],jsonDuplicates:[],jsonWaiting:[],jsonProcessed:[],canSetThirdPartyCookies:!0,receivedThirdPartyCookiesNotification:!1,readyToAttachIframePreliminary:function(){return!(e.idSyncDisableSyncs||e.disableIdSyncs||e.idSyncDisable3rdPartySyncing||e.disableThirdPartyCookies||e.disableThirdPartyCalls)},readyToAttachIframe:function(){return this.readyToAttachIframePreliminary()&&(this.doAttachIframe||e._doAttachIframe)&&
(this.subdomain&&"nosubdomainreturned"!==this.subdomain||e._subdomain)&&this.url&&!this.startedAttachingIframe},attachIframe:function(){function e(){r=n.createElement("iframe"),r.sandbox="allow-scripts allow-same-origin",r.title="Adobe ID Syncing iFrame",r.id=i.id,r.name=i.id+"_name",r.style.cssText="display: none; width: 0; height: 0;",r.src=i.url,i.newIframeCreated=!0,t(),n.body.appendChild(r)}function t(e){r.addEventListener("load",function(){r.className="aamIframeLoaded",i.iframeHasLoaded=!0,
i.fireIframeLoadedCallbacks(e),i.requestToProcess()})}this.startedAttachingIframe=!0;var i=this,r=n.getElementById(this.id);r?"IFRAME"!==r.nodeName?(this.id+="_2",this.iframeIdChanged=!0,e()):(this.newIframeCreated=!1,"aamIframeLoaded"!==r.className?(this.originalIframeHasLoadedAlready=!1,t("The destination publishing iframe already exists from a different library, but hadn't loaded yet.")):(this.originalIframeHasLoadedAlready=!0,this.iframeHasLoaded=!0,this.iframe=r,this.fireIframeLoadedCallbacks("The destination publishing iframe already exists from a different library, and had loaded alresady."),
this.requestToProcess())):e(),this.iframe=r},fireIframeLoadedCallbacks:function(e){this.iframeLoadedCallbacks.forEach(function(t){"function"==typeof t&&t({message:e||"The destination publishing iframe was attached and loaded successfully."})}),this.iframeLoadedCallbacks=[]},requestToProcess:function(t){function n(){r.jsonForComparison.push(t),r.jsonWaiting.push(t),r.processSyncOnPage(t)}var i,r=this;if(t===Object(t)&&t.ibs)if(i=JSON.stringify(t.ibs||[]),this.jsonForComparison.length){var a,o,s,c=
!1;for(a=0,o=this.jsonForComparison.length;a<o;a++)if(s=this.jsonForComparison[a],i===JSON.stringify(s.ibs||[])){c=!0;break}c?this.jsonDuplicates.push(t):n()}else n();if((this.receivedThirdPartyCookiesNotification||!ae.POST_MESSAGE_ENABLED||this.iframeHasLoaded)&&this.jsonWaiting.length){var u=this.jsonWaiting.shift();this.process(u),this.requestToProcess()}e.idSyncDisableSyncs||e.disableIdSyncs||!this.iframeHasLoaded||!this.messages.length||this.sendingMessages||(this.throttleTimerSet||(this.throttleTimerSet=
!0,setTimeout(function(){r.messageSendingInterval=ae.POST_MESSAGE_ENABLED?null:150},this.THROTTLE_START)),this.sendingMessages=!0,this.sendMessages())},getRegionAndCheckIfChanged:function(t,n){var i=e._getField("MCAAMLH"),r=t.d_region||t.dcs_region;return i?r&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",r),parseInt(i,10)!==r&&(this.regionChanged=!0,this.timesRegionChanged++,e._setField("MCSYNCSOP",""),e._setField("MCSYNCS",""),i=r)):(i=r)&&(e._setFieldExpire("MCAAMLH",n),e._setField("MCAAMLH",
i)),i||(i=""),i},processSyncOnPage:function(e){var t,n,i,r;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(i=0;i<n;i++)r=t[i],r.syncOnPage&&this.checkFirstPartyCookie(r,"","syncOnPage")},process:function(e){var t,n,i,r,a,o=encodeURIComponent,s=!1;if((t=e.ibs)&&t instanceof Array&&(n=t.length))for(s=!0,i=0;i<n;i++)r=t[i],a=[o("ibs"),o(r.id||""),o(r.tag||""),V.encodeAndBuildRequest(r.url||[],","),o(r.ttl||""),"","",r.fireURLSync?"true":"false"],r.syncOnPage||(this.canSetThirdPartyCookies?this.addMessage(a.join("|")):
r.fireURLSync&&this.checkFirstPartyCookie(r,a.join("|")));s&&this.jsonProcessed.push(e)},checkFirstPartyCookie:function(t,n,i){var r="syncOnPage"===i,a=r?"MCSYNCSOP":"MCSYNCS";e._readVisitor();var o,s,c=e._getField(a),u=!1,l=!1,d=Math.ceil((new Date).getTime()/ae.MILLIS_PER_DAY);c?(o=c.split("*"),s=this.pruneSyncData(o,t.id,d),u=s.dataPresent,l=s.dataValid,u&&l||this.fireSync(r,t,n,o,a,d)):(o=[],this.fireSync(r,t,n,o,a,d))},pruneSyncData:function(e,t,n){var i,r,a,o=!1,s=!1;for(r=0;r<e.length;r++)i=
e[r],a=parseInt(i.split("-")[1],10),i.match("^"+t+"-")?(o=!0,n<a?s=!0:(e.splice(r,1),r--)):n>=a&&(e.splice(r,1),r--);return{dataPresent:o,dataValid:s}},manageSyncsSize:function(e){if(e.join("*").length>this.MAX_SYNCS_LENGTH)for(e.sort(function(e,t){return parseInt(e.split("-")[1],10)-parseInt(t.split("-")[1],10)});e.join("*").length>this.MAX_SYNCS_LENGTH;)e.shift()},fireSync:function(t,n,i,r,a,o){var s=this;if(t){if("img"===n.tag){var c,u,l,d,f=n.url,p=e.loadSSL?"https:":"http:";for(c=0,u=f.length;c<
u;c++){l=f[c],d=/^\/\//.test(l);var g=new Image;g.addEventListener("load",function(t,n,i,r){return function(){s.onPagePixels[t]=null,e._readVisitor();var o,c=e._getField(a),u=[];if(c){o=c.split("*");var l,d,f;for(l=0,d=o.length;l<d;l++)f=o[l],f.match("^"+n.id+"-")||u.push(f)}s.setSyncTrackingData(u,n,i,r)}}(this.onPagePixels.length,n,a,o)),g.src=(d?p:"")+l,this.onPagePixels.push(g)}}}else this.addMessage(i),this.setSyncTrackingData(r,n,a,o)},addMessage:function(t){var n=encodeURIComponent,i=n(e._enableErrorReporting?
"---destpub-debug---":"---destpub---");this.messages.push((ae.POST_MESSAGE_ENABLED?"":i)+t)},setSyncTrackingData:function(t,n,i,r){t.push(n.id+"-"+(r+Math.ceil(n.ttl/60/24))),this.manageSyncsSize(t),e._setField(i,t.join("*"))},sendMessages:function(){var e,t=this,n="",i=encodeURIComponent;this.regionChanged&&(n=i("---destpub-clear-dextp---"),this.regionChanged=!1),this.messages.length?ae.POST_MESSAGE_ENABLED?(e=n+i("---destpub-combined---")+this.messages.join("%01"),this.postMessage(e),this.messages=
[],this.sendingMessages=!1):(e=this.messages.shift(),this.postMessage(n+e),setTimeout(function(){t.sendMessages()},this.messageSendingInterval)):this.sendingMessages=!1},postMessage:function(e){ne.postMessage(e,this.url,this.iframe.contentWindow),this.messagesPosted.push(e)},receiveMessage:function(e){var t,n=/^---destpub-to-parent---/;"string"==typeof e&&n.test(e)&&(t=e.replace(n,"").split("|"),"canSetThirdPartyCookies"===t[0]&&(this.canSetThirdPartyCookies="true"===t[1],this.receivedThirdPartyCookiesNotification=
!0,this.requestToProcess()),this.messagesReceived.push(e))},processIDCallData:function(i){(null==this.url||i.subdomain&&"nosubdomainreturned"===this.subdomain)&&("string"==typeof e._subdomain&&e._subdomain.length?this.subdomain=e._subdomain:this.subdomain=i.subdomain||"",this.url=this.getUrl()),i.ibs instanceof Array&&i.ibs.length&&(this.doAttachIframe=!0),this.readyToAttachIframe()&&(e.idSyncAttachIframeOnWindowLoad?(t.windowLoaded||"complete"===n.readyState||"loaded"===n.readyState)&&this.attachIframe():
this.attachIframeASAP()),"function"==typeof e.idSyncIDCallResult?e.idSyncIDCallResult(i):this.requestToProcess(i),"function"==typeof e.idSyncAfterIDCallResult&&e.idSyncAfterIDCallResult(i)},canMakeSyncIDCall:function(t,n){return e._forceSyncIDCall||!t||n-t>ae.DAYS_BETWEEN_SYNC_ID_CALLS},attachIframeASAP:function(){function e(){t.startedAttachingIframe||(n.body?t.attachIframe():setTimeout(e,30))}var t=this;e()}}},se={audienceManagerServer:{},audienceManagerServerSecure:{},cookieDomain:{},cookieLifetime:{},
cookieName:{},doesOptInApply:{},disableThirdPartyCalls:{},discardTrackingServerECID:{},idSyncAfterIDCallResult:{},idSyncAttachIframeOnWindowLoad:{},idSyncContainerID:{},idSyncDisable3rdPartySyncing:{},disableThirdPartyCookies:{},idSyncDisableSyncs:{},disableIdSyncs:{},idSyncIDCallResult:{},idSyncSSLUseAkamai:{},isCoopSafe:{},isIabContext:{},isOptInStorageEnabled:{},loadSSL:{},loadTimeout:{},marketingCloudServer:{},marketingCloudServerSecure:{},optInCookieDomain:{},optInStorageExpiry:{},overwriteCrossDomainMCIDAndAID:{},
preOptInApprovals:{},previousPermissions:{},resetBeforeVersion:{},sdidParamExpiry:{},serverState:{},sessionCookieName:{},secureCookie:{},takeTimeoutMetrics:{},trackingServer:{},trackingServerSecure:{},whitelistIframeDomains:{},whitelistParentDomain:{}},ce={getConfigNames:function(){return Object.keys(se)},getConfigs:function(){return se},normalizeConfig:function(e){return"function"!=typeof e?e:e()}},ue=function(e){var t={};return e.on=function(e,n,i){if(!n||"function"!=typeof n)throw new Error("[ON] Callback should be a function.");
t.hasOwnProperty(e)||(t[e]=[]);var r=t[e].push({callback:n,context:i})-1;return function(){t[e].splice(r,1),t[e].length||delete t[e]}},e.off=function(e,n){t.hasOwnProperty(e)&&(t[e]=t[e].filter(function(e){if(e.callback!==n)return e}))},e.publish=function(e){if(t.hasOwnProperty(e)){var n=[].slice.call(arguments,1);t[e].slice(0).forEach(function(e){e.callback.apply(e.context,n)})}},e.publish},le={PENDING:"pending",CHANGED:"changed",COMPLETE:"complete"},de={AAM:"aam",ADCLOUD:"adcloud",ANALYTICS:"aa",
CAMPAIGN:"campaign",ECID:"ecid",LIVEFYRE:"livefyre",TARGET:"target",MEDIA_ANALYTICS:"mediaaa"},fe=(I={},t(I,de.AAM,565),t(I,de.ECID,565),I),pe=(S={},t(S,de.AAM,[1,10]),t(S,de.ECID,[1,10]),S),ge=["videoaa","iabConsentHash"],me=function(e){return Object.keys(e).map(function(t){return e[t]})}(de),he=function(){var e={};return e.callbacks=Object.create(null),e.add=function(t,n){if(!u(n))throw new Error("[callbackRegistryFactory] Make sure callback is a function or an array of functions.");e.callbacks[t]=
e.callbacks[t]||[];var i=e.callbacks[t].push(n)-1;return function(){e.callbacks[t].splice(i,1)}},e.execute=function(t,n){if(e.callbacks[t]){n=void 0===n?[]:n,n=n instanceof Array?n:[n];try{for(;e.callbacks[t].length;){var i=e.callbacks[t].shift();"function"==typeof i?i.apply(null,n):i instanceof Array&&i[1].apply(i[0],n)}delete e.callbacks[t]}catch(e){}}},e.executeAll=function(t,n){(n||t&&!c(t))&&Object.keys(e.callbacks).forEach(function(n){var i=void 0!==t[n]?t[n]:"";e.execute(n,i)},e)},e.hasCallbacks=
function(){return Boolean(Object.keys(e.callbacks).length)},e},_e=function(){},Ce=function(e){var t=window,n=t.console;return!!n&&"function"==typeof n[e]},Ie=function(e,t,n){return n()?function(){if(Ce(e)){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];console[e].apply(console,[t].concat(i))}}:_e},Se=l,ve=function(){for(var e=[],t=0;t<256;t++){for(var n=t,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;e.push(n)}return function(t,n){t=unescape(encodeURIComponent(t)),n||(n=0),n^=
-1;for(var i=0;i<t.length;i++){var r=255&(n^t.charCodeAt(i));n=n>>>8^e[r]}return(n^=-1)>>>0}}(),De=new Se("[ADOBE OPT-IN]"),ye=function(t,n){return e(t)===n},Ae=function(e,t){return e instanceof Array?e:ye(e,"string")?[e]:t||[]},be=function(e){var t=Object.keys(e);return!!t.length&&t.every(function(t){return!0===e[t]})},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||Ee(e))&&Ae(e).every(function(e){return me.indexOf(e)>-1||t&&ge.indexOf(e)>-1})},Me=function(e,
t){return e.reduce(function(e,n){return e[n]=t,e},{})},ke=function(e){return JSON.parse(JSON.stringify(e))},Ee=function(e){return"[object Array]"===Object.prototype.toString.call(e)&&!e.length},Te=function(e){if(Re(e))return e;try{return JSON.parse(e)}catch(e){return{}}},Pe=function(e){return void 0===e||(Re(e)?Oe(Object.keys(e),!0):Le(e))},Le=function(e){try{var t=JSON.parse(e);return!!e&&ye(e,"string")&&Oe(Object.keys(t),!0)}catch(e){return!1}},Re=function(e){return null!==e&&ye(e,"object")&&!1===
Array.isArray(e)},we=function(){},Fe=function(e){return ye(e,"function")?e():e},Ne=function(e,t){Pe(e)||De.error("".concat(t))},xe=function(e){return Object.keys(e).map(function(t){return e[t]})},je=function(e){return xe(e).filter(function(e,t,n){return n.indexOf(e)===t})},Ve=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.command,i=t.params,r=void 0===i?{}:i,a=t.callback,o=void 0===a?we:a;if(!n||-1===n.indexOf("."))throw new Error("[OptIn.execute] Please provide a valid command.");
try{var s=n.split("."),c=e[s[0]],u=s[1];if(!c||"function"!=typeof c[u])throw new Error("Make sure the plugin and API name exist.");var l=Object.assign(r,{callback:o});c[u].call(c,l)}catch(e){De.error("[execute] Something went wrong: "+e.message)}}};f.prototype=Object.create(Error.prototype),f.prototype.constructor=f;var He="fetchPermissions",Ue="[OptIn#registerPlugin] Plugin is invalid.";p.Categories=de,p.TimeoutError=f;var Be=Object.freeze({OptIn:p,IabPlugin:_}),Ge=function(e,t){e.publishDestinations=
function(n){var i=arguments[1],r=arguments[2];try{r="function"==typeof r?r:n.callback}catch(e){r=function(){}}var a=t;if(!a.readyToAttachIframePreliminary())return void r({error:"The destination publishing iframe is disabled in the Visitor library."});if("string"==typeof n){if(!n.length)return void r({error:"subdomain is not a populated string."});if(!(i instanceof Array&&i.length))return void r({error:"messages is not a populated array."});var o=!1;if(i.forEach(function(e){"string"==typeof e&&e.length&&
(a.addMessage(e),o=!0)}),!o)return void r({error:"None of the messages are populated strings."})}else{if(!V.isObject(n))return void r({error:"Invalid parameters passed."});var s=n;if("string"!=typeof(n=s.subdomain)||!n.length)return void r({error:"config.subdomain is not a populated string."});var c=s.urlDestinations;if(!(c instanceof Array&&c.length))return void r({error:"config.urlDestinations is not a populated array."});var u=[];c.forEach(function(e){V.isObject(e)&&(e.hideReferrer?e.message&&
a.addMessage(e.message):u.push(e))});!function e(){u.length&&setTimeout(function(){var t=new Image,n=u.shift();t.src=n.url,a.onPageDestinationsFired.push(n),e()},100)}()}a.iframe?(r({message:"The destination publishing iframe is already attached and loaded."}),a.requestToProcess()):!e.subdomain&&e._getField("MCMID")?(a.subdomain=n,a.doAttachIframe=!0,a.url=a.getUrl(),a.readyToAttachIframe()?(a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through this API call. Result: "+
(e.message||"no result")})}),a.attachIframe()):r({error:"Encountered a problem in attempting to attach and load the destination publishing iframe through this API call."})):a.iframeLoadedCallbacks.push(function(e){r({message:"Attempted to attach and load the destination publishing iframe through normal Visitor API processing. Result: "+(e.message||"no result")})})}},Ye=function e(t){function n(e,t){return e>>>t|e<<32-t}for(var i,r,a=Math.pow,o=a(2,32),s="",c=[],u=8*t.length,l=e.h=e.h||[],d=e.k=e.k||
[],f=d.length,p={},g=2;f<64;g++)if(!p[g]){for(i=0;i<313;i+=g)p[i]=g;l[f]=a(g,.5)*o|0,d[f++]=a(g,1/3)*o|0}for(t+="\u0080";t.length%64-56;)t+="\x00";for(i=0;i<t.length;i++){if((r=t.charCodeAt(i))>>8)return;c[i>>2]|=r<<(3-i)%4*8}for(c[c.length]=u/o|0,c[c.length]=u,r=0;r<c.length;){var m=c.slice(r,r+=16),h=l;for(l=l.slice(0,8),i=0;i<64;i++){var _=m[i-15],C=m[i-2],I=l[0],S=l[4],v=l[7]+(n(S,6)^n(S,11)^n(S,25))+(S&l[5]^~S&l[6])+d[i]+(m[i]=i<16?m[i]:m[i-16]+(n(_,7)^n(_,18)^_>>>3)+m[i-7]+(n(C,17)^n(C,19)^
C>>>10)|0);l=[v+((n(I,2)^n(I,13)^n(I,22))+(I&l[1]^I&l[2]^l[1]&l[2]))|0].concat(l),l[4]=l[4]+v|0}for(i=0;i<8;i++)l[i]=l[i]+h[i]|0}for(i=0;i<8;i++)for(r=3;r+1;r--){var D=l[i]>>8*r&255;s+=(D<16?0:"")+D.toString(16)}return s},qe=function(e,t){return"SHA-256"!==t&&"SHA256"!==t&&"sha256"!==t&&"sha-256"!==t||(e=Ye(e)),e},We=function(e){return String(e).trim().toLowerCase()},Xe=Be.OptIn;V.defineGlobalNamespace(),window.adobe.OptInCategories=Xe.Categories;var Ke=function(t,n,i){function r(){I._customerIDsHashChanged=
!1}function a(e){var t=e;return function(e){var n=e||b.location.href;try{var i=I._extractParamFromUri(n,t);if(i)return B.parsePipeDelimetedKeyValues(i)}catch(e){}}}function o(e){function t(e,t,n){e&&e.match(ae.VALID_VISITOR_ID_REGEX)&&(n===E&&(A=!0),t(e))}t(e[E],I.setMarketingCloudVisitorID,E),I._setFieldExpire(F,-1),t(e[R],I.setAnalyticsVisitorID)}function s(e){e=e||{},I._supplementalDataIDCurrent=e.supplementalDataIDCurrent||"",I._supplementalDataIDCurrentConsumed=e.supplementalDataIDCurrentConsumed||
{},I._supplementalDataIDLast=e.supplementalDataIDLast||"",I._supplementalDataIDLastConsumed=e.supplementalDataIDLastConsumed||{}}function c(e){function t(e,t,n){return n=n?n+="|":n,n+=e+"\x3d"+encodeURIComponent(t)}function n(e,n){var i=n[0],r=n[1];return null!=r&&r!==N&&(e=t(i,r,e)),e}var i=e.reduce(n,"");return function(e){var t=B.getTimestampInSeconds();return e=e?e+="|":e,e+="TS\x3d"+t}(i)}function u(e){var t=e.minutesToLive,n="";return(I.idSyncDisableSyncs||I.disableIdSyncs)&&(n=n||"Error: id syncs have been disabled"),
"string"==typeof e.dpid&&e.dpid.length||(n=n||"Error: config.dpid is empty"),"string"==typeof e.url&&e.url.length||(n=n||"Error: config.url is empty"),void 0===t?t=20160:(t=parseInt(t,10),(isNaN(t)||t<=0)&&(n=n||"Error: config.minutesToLive needs to be a positive number")),{error:n,ttl:t}}function l(){return!!I.configs.doesOptInApply&&!(S.optIn.isComplete&&d())}function d(){return I.configs.doesOptInApply&&I.configs.isIabContext?S.optIn.isApproved(S.optIn.Categories.ECID)&&y:S.optIn.isApproved(S.optIn.Categories.ECID)}
function f(){[["getMarketingCloudVisitorID"],["setCustomerIDs",void 0],["syncIdentity",void 0],["getAnalyticsVisitorID"],["getAudienceManagerLocationHint"],["getLocationHint"],["getAudienceManagerBlob"]].forEach(function(e){var t=e[0],n=2===e.length?e[1]:"",i=I[t];I[t]=function(e){return d()&&I.isAllowed()?i.apply(I,arguments):("function"==typeof e&&I._callCallback(e,[n]),n)}})}function p(){var e=I._getAudienceManagerURLData(),t=e.url;return I._loadData(k,t,null,e)}function g(e,t){if(y=!0,e)throw new Error("[IAB plugin] : "+
e);t&&t.gdprApplies&&(v=t.consentString,D=t.hasConsentChangedSinceLastCmpPull?1:0),p(),_()}function m(e,t){if(y=!0,e)throw new Error("[IAB plugin] : "+e);t.gdprApplies&&(v=t.consentString,D=t.hasConsentChangedSinceLastCmpPull?1:0),I.init(),_()}function h(){S.optIn.isComplete&&(S.optIn.isApproved(S.optIn.Categories.ECID)?I.configs.isIabContext?S.optIn.execute({command:"iabPlugin.fetchConsentData",callback:m}):(I.init(),_()):I.configs.isIabContext?S.optIn.execute({command:"iabPlugin.fetchConsentData",
callback:g}):(f(),_()))}function _(){S.optIn.off("complete",h)}if(!i||i.split("").reverse().join("")!==t)throw new Error("Please use `Visitor.getInstance` to instantiate Visitor.");var I=this,S=window.adobe,v="",D=0,y=!1,A=!1;I.version="5.0.1";var b=C,O=b.Visitor;O.version=I.version,O.AuthState=T.AUTH_STATE,O.OptOut=T.OPT_OUT,b.s_c_in||(b.s_c_il=[],b.s_c_in=0),I._c="Visitor",I._il=b.s_c_il,I._in=b.s_c_in,I._il[I._in]=I,b.s_c_in++,I._instanceType="regular",I._log={requests:[]},I.marketingCloudOrgID=
t,I.cookieName="AMCV_"+t,I.sessionCookieName="AMCVS_"+t,I.cookieDomain=Z(),I.loadSSL=!0,I.loadTimeout=3E4,I.CORSErrors=[],I.marketingCloudServer=I.audienceManagerServer="dpm.demdex.net",I.sdidParamExpiry=30;var M=null,k="MC",E="MCMID",P="MCIDTS",L="A",R="MCAID",w="AAM",F="MCAAMB",N="NONE",x=function(e){return!Object.prototype[e]},j=re(I);I.FIELDS=T.FIELDS,I.cookieRead=function(e){return $.get(e)},I.cookieWrite=function(e,t,n){var i=I.cookieLifetime?(""+I.cookieLifetime).toUpperCase():"",r=!1;return I.configs&&
I.configs.secureCookie&&"https:"===location.protocol&&(r=!0),$.set(e,""+t,{expires:n,domain:I.cookieDomain,cookieLifetime:i,secure:r})},I.resetState=function(e){e?I._mergeServerState(e):s()},I._isAllowedDone=!1,I._isAllowedFlag=!1,I.isAllowed=function(){return I._isAllowedDone||(I._isAllowedDone=!0,(I.cookieRead(I.cookieName)||I.cookieWrite(I.cookieName,"T",1))&&(I._isAllowedFlag=!0)),"T"===I.cookieRead(I.cookieName)&&I._helpers.removeCookie(I.cookieName),I._isAllowedFlag},I.setMarketingCloudVisitorID=
function(e){I._setMarketingCloudFields(e)},I._use1stPartyMarketingCloudServer=!1,I.getMarketingCloudVisitorID=function(e,t){I.marketingCloudServer&&I.marketingCloudServer.indexOf(".demdex.net")<0&&(I._use1stPartyMarketingCloudServer=!0);var n=I._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;return I._getRemoteField(E,i,e,t,n)};var H=function(e,t){var n={};I.getMarketingCloudVisitorID(function(){t.forEach(function(e){n[e]=I._getField(e,!0)}),-1!==t.indexOf("MCOPTOUT")?I.isOptedOut(function(t){n.MCOPTOUT=
t,e(n)},null,!0):e(n)},!0)};I.getVisitorValues=function(e,t){var n={MCMID:{fn:I.getMarketingCloudVisitorID,args:[!0],context:I},MCOPTOUT:{fn:I.isOptedOut,args:[void 0,!0],context:I},MCAID:{fn:I.getAnalyticsVisitorID,args:[!0],context:I},MCAAMLH:{fn:I.getAudienceManagerLocationHint,args:[!0],context:I},MCAAMB:{fn:I.getAudienceManagerBlob,args:[!0],context:I}},i=t&&t.length?V.pluck(n,t):n;t&&-1===t.indexOf("MCAID")?H(e,t):Q(i,e)},I._currentCustomerIDs={},I._customerIDsHashChanged=!1,I._newCustomerIDsHash=
"",I.setCustomerIDs=function(t,n){if(!I.isOptedOut()&&t){if(!V.isObject(t)||V.isObjectEmpty(t))return!1;I._readVisitor();var i,a,o,s;for(i in t)if(x(i)&&(I._currentCustomerIDs.dataSources=I._currentCustomerIDs.dataSources||{},a=t[i],n=a.hasOwnProperty("hashType")?a.hashType:n,a))if("object"===e(a)){var c={};if(a.id){if(n){if(!(s=qe(We(a.id),n)))return;a.id=s,c.hashType=n}c.id=a.id}void 0!=a.authState&&(c.authState=a.authState),I._currentCustomerIDs.dataSources[i]=c}else if(n){if(!(s=qe(We(a),n)))return;
I._currentCustomerIDs.dataSources[i]={id:s,hashType:n}}else I._currentCustomerIDs.dataSources[i]={id:a};var u=I.getCustomerIDs(!0),l=I._getField("MCCIDH"),d="";l||(l=0);for(o in u){var f=u[o];if(!V.isObjectEmpty(f))for(i in f)x(i)&&(a=f[i],d+=(d?"|":"")+i+"|"+(a.id?a.id:"")+(a.authState?a.authState:""))}I._newCustomerIDsHash=String(I._hash(d)),I._newCustomerIDsHash!==l&&(I._customerIDsHashChanged=!0,I._mapCustomerIDs(r))}},I.syncIdentity=function(t,n){if(!I.isOptedOut()&&t){if(!V.isObject(t)||V.isObjectEmpty(t))return!1;
I._readVisitor();var i,a,o,s,c;for(i in t)if(x(i)&&(I._currentCustomerIDs.nameSpaces=I._currentCustomerIDs.nameSpaces||{},a=t[i],n=a.hasOwnProperty("hashType")?a.hashType:n,a&&"object"===e(a))){var u={};if(a.id){if(n){if(!(o=qe(We(a.id),n)))return;a.id=o,u.hashType=n}u.id=a.id}void 0!=a.authState&&(u.authState=a.authState),a.dataSource&&(I._currentCustomerIDs.dataSources=I._currentCustomerIDs.dataSources||{},s=a.dataSource,I._currentCustomerIDs.dataSources[s]=u),I._currentCustomerIDs.nameSpaces[i]=
u}var l=I.getCustomerIDs(!0),d=I._getField("MCCIDH"),f="";d||(d="0");for(c in l){var p=l[c];if(!V.isObjectEmpty(p))for(i in p)x(i)&&(a=p[i],f+=(f?"|":"")+i+"|"+(a.id?a.id:"")+(a.authState?a.authState:""))}I._newCustomerIDsHash=String(I._hash(f)),I._newCustomerIDsHash!==d&&(I._customerIDsHashChanged=!0,I._mapCustomerIDs(r))}},I.getCustomerIDs=function(e){I._readVisitor();var t,n,i={dataSources:{},nameSpaces:{}},r=I._currentCustomerIDs.dataSources;for(t in r)x(t)&&(n=r[t],n.id&&(i.dataSources[t]||(i.dataSources[t]=
{}),i.dataSources[t].id=n.id,void 0!=n.authState?i.dataSources[t].authState=n.authState:i.dataSources[t].authState=O.AuthState.UNKNOWN,n.hashType&&(i.dataSources[t].hashType=n.hashType)));var a=I._currentCustomerIDs.nameSpaces;for(t in a)x(t)&&(n=a[t],n.id&&(i.nameSpaces[t]||(i.nameSpaces[t]={}),i.nameSpaces[t].id=n.id,void 0!=n.authState?i.nameSpaces[t].authState=n.authState:i.nameSpaces[t].authState=O.AuthState.UNKNOWN,n.hashType&&(i.nameSpaces[t].hashType=n.hashType)));return e?i:i.dataSources},
I.setAnalyticsVisitorID=function(e){I._setAnalyticsFields(e)},I.getAnalyticsVisitorID=function(e,t,n){if(!B.isTrackingServerPopulated()&&!n)return I._callCallback(e,[""]),"";var i="";if(n||(i=I.getMarketingCloudVisitorID(function(t){I.getAnalyticsVisitorID(e,!0)})),i||n){var r=n?I.marketingCloudServer:I.trackingServer,a="";I.loadSSL&&(n?I.marketingCloudServerSecure&&(r=I.marketingCloudServerSecure):I.trackingServerSecure&&(r=I.trackingServerSecure));var o={};if(r){var s="http"+(I.loadSSL?"s":"")+
"://"+r+"/id",c="d_visid_ver\x3d"+I.version+"\x26mcorgid\x3d"+encodeURIComponent(I.marketingCloudOrgID)+(i?"\x26mid\x3d"+encodeURIComponent(i):"")+(I.idSyncDisable3rdPartySyncing||I.disableThirdPartyCookies?"\x26d_coppa\x3dtrue":""),u=["s_c_il",I._in,"_set"+(n?"MarketingCloud":"Analytics")+"Fields"];a=s+"?"+c+"\x26callback\x3ds_c_il%5B"+I._in+"%5D._set"+(n?"MarketingCloud":"Analytics")+"Fields",o.corsUrl=s+"?"+c,o.callback=u}return o.url=a,I._getRemoteField(n?E:R,a,e,t,o)}return""},I.getAudienceManagerLocationHint=
function(e,t){if(I.getMarketingCloudVisitorID(function(t){I.getAudienceManagerLocationHint(e,!0)})){var n=I._getField(R);if(!n&&B.isTrackingServerPopulated()&&(n=I.getAnalyticsVisitorID(function(t){I.getAudienceManagerLocationHint(e,!0)})),n||!B.isTrackingServerPopulated()){var i=I._getAudienceManagerURLData(),r=i.url;return I._getRemoteField("MCAAMLH",r,e,t,i)}}return""},I.getLocationHint=I.getAudienceManagerLocationHint,I.getAudienceManagerBlob=function(e,t){if(I.getMarketingCloudVisitorID(function(t){I.getAudienceManagerBlob(e,
!0)})){var n=I._getField(R);if(!n&&B.isTrackingServerPopulated()&&(n=I.getAnalyticsVisitorID(function(t){I.getAudienceManagerBlob(e,!0)})),n||!B.isTrackingServerPopulated()){var i=I._getAudienceManagerURLData(),r=i.url;return I._customerIDsHashChanged&&I._setFieldExpire(F,-1),I._getRemoteField(F,r,e,t,i)}}return""},I._supplementalDataIDCurrent="",I._supplementalDataIDCurrentConsumed={},I._supplementalDataIDLast="",I._supplementalDataIDLastConsumed={},I.getSupplementalDataID=function(e,t){I._supplementalDataIDCurrent||
t||(I._supplementalDataIDCurrent=I._generateID(1));var n=I._supplementalDataIDCurrent;return I._supplementalDataIDLast&&!I._supplementalDataIDLastConsumed[e]?(n=I._supplementalDataIDLast,I._supplementalDataIDLastConsumed[e]=!0):n&&(I._supplementalDataIDCurrentConsumed[e]&&(I._supplementalDataIDLast=I._supplementalDataIDCurrent,I._supplementalDataIDLastConsumed=I._supplementalDataIDCurrentConsumed,I._supplementalDataIDCurrent=n=t?"":I._generateID(1),I._supplementalDataIDCurrentConsumed={}),n&&(I._supplementalDataIDCurrentConsumed[e]=
!0)),n};var U=!1;I._liberatedOptOut=null,I.getOptOut=function(e,t){var n=I._getAudienceManagerURLData("_setMarketingCloudFields"),i=n.url;if(d())return I._getRemoteField("MCOPTOUT",i,e,t,n);if(I._registerCallback("liberatedOptOut",e),null!==I._liberatedOptOut)return I._callAllCallbacks("liberatedOptOut",[I._liberatedOptOut]),U=!1,I._liberatedOptOut;if(U)return null;U=!0;var r="liberatedGetOptOut";return n.corsUrl=n.corsUrl.replace(/\.demdex\.net\/id\?/,".demdex.net/optOutStatus?"),n.callback=[r],
C[r]=function(e){if(e===Object(e)){var t,n,i=V.parseOptOut(e,t,N);t=i.optOut,n=1E3*i.d_ottl,I._liberatedOptOut=t,setTimeout(function(){I._liberatedOptOut=null},n)}I._callAllCallbacks("liberatedOptOut",[t]),U=!1},j.fireCORS(n),null},I.isOptedOut=function(e,t,n){t||(t=O.OptOut.GLOBAL);var i=I.getOptOut(function(n){var i=n===O.OptOut.GLOBAL||n.indexOf(t)>=0;I._callCallback(e,[i])},n);return i?i===O.OptOut.GLOBAL||i.indexOf(t)>=0:null},I._fields=null,I._fieldsExpired=null,I._hash=function(e){var t,n,
i=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i&=i;return i},I._generateID=ie,I._generateLocalMID=function(){var e=I._generateID(0);return q.isClientSideMarketingCloudVisitorID=!0,e},I._callbackList=null,I._callCallback=function(e,t){try{"function"==typeof e?e.apply(b,t):e[1].apply(e[0],t)}catch(e){}},I._registerCallback=function(e,t){t&&(null==I._callbackList&&(I._callbackList={}),void 0==I._callbackList[e]&&(I._callbackList[e]=[]),I._callbackList[e].push(t))},I._callAllCallbacks=
function(e,t){if(null!=I._callbackList){var n=I._callbackList[e];if(n)for(;n.length>0;)I._callCallback(n.shift(),t)}},I._addQuerystringParam=function(e,t,n,i){var r=encodeURIComponent(t)+"\x3d"+encodeURIComponent(n),a=B.parseHash(e),o=B.hashlessUrl(e);if(-1===o.indexOf("?"))return o+"?"+r+a;var s=o.split("?"),c=s[0]+"?",u=s[1];return c+B.addQueryParamAtLocation(u,r,i)+a},I._extractParamFromUri=function(e,t){var n=new RegExp("[\\?\x26#]"+t+"\x3d([^\x26#]*)"),i=n.exec(e);if(i&&i.length)return decodeURIComponent(i[1])},
I._parseAdobeMcFromUrl=a(ae.ADOBE_MC),I._parseAdobeMcSdidFromUrl=a(ae.ADOBE_MC_SDID),I._attemptToPopulateSdidFromUrl=function(e){var n=I._parseAdobeMcSdidFromUrl(e),i=1E9;n&&n.TS&&(i=B.getTimestampInSeconds()-n.TS),n&&n.SDID&&n.MCORGID===t&&i<I.sdidParamExpiry&&(I._supplementalDataIDCurrent=n.SDID,I._supplementalDataIDCurrentConsumed.SDID_URL_PARAM=!0)},I._attemptToPopulateIdsFromUrl=function(){var e=I._parseAdobeMcFromUrl();if(e&&e.TS){var n=B.getTimestampInSeconds(),i=n-e.TS;if(Math.floor(i/60)>
ae.ADOBE_MC_TTL_IN_MIN||e.MCORGID!==t)return;o(e)}},I._mergeServerState=function(e){if(e)try{if(e=function(e){return B.isObject(e)?e:JSON.parse(e)}(e),e[I.marketingCloudOrgID]){var t=e[I.marketingCloudOrgID];!function(e){B.isObject(e)&&I.setCustomerIDs(e)}(t.customerIDs),s(t.sdid)}}catch(e){throw new Error("`serverState` has an invalid format.");}},I._timeout=null,I._loadData=function(e,t,n,i){t=I._addQuerystringParam(t,"d_fieldgroup",e,1),i.url=I._addQuerystringParam(i.url,"d_fieldgroup",e,1),i.corsUrl=
I._addQuerystringParam(i.corsUrl,"d_fieldgroup",e,1),q.fieldGroupObj[e]=!0,i===Object(i)&&i.corsUrl&&"XMLHttpRequest"===j.corsMetadata.corsType&&j.fireCORS(i,n,e)},I._clearTimeout=function(e){null!=I._timeout&&I._timeout[e]&&(clearTimeout(I._timeout[e]),I._timeout[e]=0)},I._settingsDigest=0,I._getSettingsDigest=function(){if(!I._settingsDigest){var e=I.version;I.audienceManagerServer&&(e+="|"+I.audienceManagerServer),I.audienceManagerServerSecure&&(e+="|"+I.audienceManagerServerSecure),I._settingsDigest=
I._hash(e)}return I._settingsDigest},I._readVisitorDone=!1,I._readVisitor=function(){if(!I._readVisitorDone){I._readVisitorDone=!0;var e,t,n,i,r,a,o=I._getSettingsDigest(),s=!1,c=I.cookieRead(I.cookieName),u=new Date;if(c||A||I.discardTrackingServerECID||(c=I.cookieRead(ae.FIRST_PARTY_SERVER_COOKIE)),null==I._fields&&(I._fields={}),c&&"T"!==c)for(c=c.split("|"),c[0].match(/^[\-0-9]+$/)&&(parseInt(c[0],10)!==o&&(s=!0),c.shift()),c.length%2==1&&c.pop(),e=0;e<c.length;e+=2)t=c[e].split("-"),n=t[0],i=
c[e+1],t.length>1?(r=parseInt(t[1],10),a=t[1].indexOf("s")>0):(r=0,a=!1),s&&("MCCIDH"===n&&(i=""),r>0&&(r=u.getTime()/1E3-60)),n&&i&&(I._setField(n,i,1),r>0&&(I._fields["expire"+n]=r+(a?"s":""),(u.getTime()>=1E3*r||a&&!I.cookieRead(I.sessionCookieName))&&(I._fieldsExpired||(I._fieldsExpired={}),I._fieldsExpired[n]=!0)));!I._getField(R)&&B.isTrackingServerPopulated()&&(c=I.cookieRead("s_vi"))&&(c=c.split("|"),c.length>1&&c[0].indexOf("v1")>=0&&(i=c[1],e=i.indexOf("["),e>=0&&(i=i.substring(0,e)),i&&
i.match(ae.VALID_VISITOR_ID_REGEX)&&I._setField(R,i)))}},I._appendVersionTo=function(e){var t="vVersion|"+I.version,n=e?I._getCookieVersion(e):null;return n?ee.areVersionsDifferent(n,I.version)&&(e=e.replace(ae.VERSION_REGEX,t)):e+=(e?"|":"")+t,e},I._writeVisitor=function(){var e,t,n=I._getSettingsDigest();for(e in I._fields)x(e)&&I._fields[e]&&"expire"!==e.substring(0,6)&&(t=I._fields[e],n+=(n?"|":"")+e+(I._fields["expire"+e]?"-"+I._fields["expire"+e]:"")+"|"+t);n=I._appendVersionTo(n),I.cookieWrite(I.cookieName,
n,1)},I._getField=function(e,t){return null==I._fields||!t&&I._fieldsExpired&&I._fieldsExpired[e]?null:I._fields[e]},I._setField=function(e,t,n){null==I._fields&&(I._fields={}),I._fields[e]=t,n||I._writeVisitor()},I._getFieldList=function(e,t){var n=I._getField(e,t);return n?n.split("*"):null},I._setFieldList=function(e,t,n){I._setField(e,t?t.join("*"):"",n)},I._getFieldMap=function(e,t){var n=I._getFieldList(e,t);if(n){var i,r={};for(i=0;i<n.length;i+=2)r[n[i]]=n[i+1];return r}return null},I._setFieldMap=
function(e,t,n){var i,r=null;if(t){r=[];for(i in t)x(i)&&(r.push(i),r.push(t[i]))}I._setFieldList(e,r,n)},I._setFieldExpire=function(e,t,n){var i=new Date;i.setTime(i.getTime()+1E3*t),null==I._fields&&(I._fields={}),I._fields["expire"+e]=Math.floor(i.getTime()/1E3)+(n?"s":""),t<0?(I._fieldsExpired||(I._fieldsExpired={}),I._fieldsExpired[e]=!0):I._fieldsExpired&&(I._fieldsExpired[e]=!1),n&&(I.cookieRead(I.sessionCookieName)||I.cookieWrite(I.sessionCookieName,"1"))},I._findVisitorID=function(t){return t&&
("object"===e(t)&&(t=t.d_mid?t.d_mid:t.visitorID?t.visitorID:t.id?t.id:t.uuid?t.uuid:""+t),t&&"NOTARGET"===(t=t.toUpperCase())&&(t=N),t&&(t===N||t.match(ae.VALID_VISITOR_ID_REGEX))||(t="")),t},I._setFields=function(t,n){if(I._clearTimeout(t),null!=I._loading&&(I._loading[t]=!1),q.fieldGroupObj[t]&&q.setState(t,!1),t===k){!0!==q.isClientSideMarketingCloudVisitorID&&(q.isClientSideMarketingCloudVisitorID=!1);var i=I._getField(E);if(!i||I.overwriteCrossDomainMCIDAndAID){if(!(i="object"===e(n)&&n.mid?
n.mid:I._findVisitorID(n))){if(I._use1stPartyMarketingCloudServer&&!I.tried1stPartyMarketingCloudServer)return I.tried1stPartyMarketingCloudServer=!0,void I.getAnalyticsVisitorID(null,!1,!0);i=I._generateLocalMID()}I._setField(E,i)}i&&i!==N||(i=""),"object"===e(n)&&((n.d_region||n.dcs_region||n.d_blob||n.blob)&&I._setFields(w,n),I._use1stPartyMarketingCloudServer&&n.mid&&I._setFields(L,{id:n.id})),I._callAllCallbacks(E,[i])}if(t===w&&"object"===e(n)){var r=604800;void 0!=n.id_sync_ttl&&n.id_sync_ttl&&
(r=parseInt(n.id_sync_ttl,10));var a=Y.getRegionAndCheckIfChanged(n,r);I._callAllCallbacks("MCAAMLH",[a]);var o=I._getField(F);(n.d_blob||n.blob)&&(o=n.d_blob,o||(o=n.blob),I._setFieldExpire(F,r),I._setField(F,o)),o||(o=""),I._callAllCallbacks(F,[o]),!n.error_msg&&I._newCustomerIDsHash&&I._setField("MCCIDH",I._newCustomerIDsHash)}if(t===L){var s=I._getField(R);s&&!I.overwriteCrossDomainMCIDAndAID||(s=I._findVisitorID(n),s?s!==N&&I._setFieldExpire(F,-1):s=N,I._setField(R,s)),s&&s!==N||(s=""),I._callAllCallbacks(R,
[s])}if(I.idSyncDisableSyncs||I.disableIdSyncs)Y.idCallNotProcesssed=!0;else{Y.idCallNotProcesssed=!1;var c={};c.ibs=n.ibs,c.subdomain=n.subdomain,Y.processIDCallData(c)}if(n===Object(n)){var u,l;d()&&I.isAllowed()&&(u=I._getField("MCOPTOUT"));var f=V.parseOptOut(n,u,N);u=f.optOut,l=f.d_ottl,I._setFieldExpire("MCOPTOUT",l,!0),I._setField("MCOPTOUT",u),I._callAllCallbacks("MCOPTOUT",[u])}},I._loading=null,I._getRemoteField=function(e,t,n,i,r){var a,o="",s=B.isFirstPartyAnalyticsVisitorIDCall(e),c=
{MCAAMLH:!0,MCAAMB:!0};if(d()&&I.isAllowed()){I._readVisitor(),o=I._getField(e,!0===c[e]);if(function(){return(!o||I._fieldsExpired&&I._fieldsExpired[e])&&(!I.disableThirdPartyCalls||s)}()){if(e===E||"MCOPTOUT"===e?a=k:"MCAAMLH"===e||e===F?a=w:e===R&&(a=L),a)return!t||null!=I._loading&&I._loading[a]||(null==I._loading&&(I._loading={}),I._loading[a]=!0,a===w&&(D=0),I._loadData(a,t,function(t){if(!I._getField(e)){t&&q.setState(a,!0);var n="";e===E?n=I._generateLocalMID():a===w&&(n={error_msg:"timeout"}),
I._setFields(a,n)}},r)),I._registerCallback(e,n),o||(t||I._setFields(a,{id:N}),"")}else o||(e===E?(I._registerCallback(e,n),o=I._generateLocalMID(),I.setMarketingCloudVisitorID(o)):e===R?(I._registerCallback(e,n),o="",I.setAnalyticsVisitorID(o)):(o="",i=!0))}return e!==E&&e!==R||o!==N||(o="",i=!0),n&&i&&I._callCallback(n,[o]),o},I._setMarketingCloudFields=function(e){I._readVisitor(),I._setFields(k,e)},I._mapCustomerIDs=function(e){I.getAudienceManagerBlob(e,!0)},I._setAnalyticsFields=function(e){I._readVisitor(),
I._setFields(L,e)},I._setAudienceManagerFields=function(e){I._readVisitor(),I._setFields(w,e)},I._getAudienceManagerURLData=function(e){var t=I.audienceManagerServer,n="",i=I._getField(E),r=I._getField(F,!0),a=I._getField(R),o=a&&a!==N?"\x26d_cid_ic\x3dAVID%01"+encodeURIComponent(a):"";if(I.loadSSL&&I.audienceManagerServerSecure&&(t=I.audienceManagerServerSecure),t){var s,c,u,l=I.getCustomerIDs(!0);if(l)for(c in l){var d=l[c];if(!V.isObjectEmpty(d)){var f="nameSpaces"===c?"\x26d_cid_ns\x3d":"\x26d_cid_ic\x3d";
for(s in d)x(s)&&(u=d[s],o+=f+encodeURIComponent(s)+"%01"+encodeURIComponent(u.id?u.id:"")+(u.authState?"%01"+u.authState:""))}}e||(e="_setAudienceManagerFields");var p="http"+(I.loadSSL?"s":"")+"://"+t+"/id",g="d_visid_ver\x3d"+I.version+(v&&-1!==p.indexOf("demdex.net")?"\x26gdpr\x3d1\x26gdpr_consent\x3d"+v:"")+(D&&-1!==p.indexOf("demdex.net")?"\x26d_cf\x3d"+D:"")+"\x26d_rtbd\x3djson\x26d_ver\x3d2"+(!i&&I._use1stPartyMarketingCloudServer?"\x26d_verify\x3d1":"")+"\x26d_orgid\x3d"+encodeURIComponent(I.marketingCloudOrgID)+
"\x26d_nsid\x3d"+(I.idSyncContainerID||0)+(i?"\x26d_mid\x3d"+encodeURIComponent(i):"")+(I.idSyncDisable3rdPartySyncing||I.disableThirdPartyCookies?"\x26d_coppa\x3dtrue":"")+(!0===M?"\x26d_coop_safe\x3d1":!1===M?"\x26d_coop_unsafe\x3d1":"")+(r?"\x26d_blob\x3d"+encodeURIComponent(r):"")+o,m=["s_c_il",I._in,e];return n=p+"?"+g+"\x26d_cb\x3ds_c_il%5B"+I._in+"%5D."+e,{url:n,corsUrl:p+"?"+g,callback:m}}return{url:n}},I.appendVisitorIDsTo=function(e){try{var t=[[E,I._getField(E)],[R,I._getField(R)],["MCORGID",
I.marketingCloudOrgID]];return I._addQuerystringParam(e,ae.ADOBE_MC,c(t))}catch(t){return e}},I.appendSupplementalDataIDTo=function(e,t){if(!(t=t||I.getSupplementalDataID(B.generateRandomString(),!0)))return e;try{var n=c([["SDID",t],["MCORGID",I.marketingCloudOrgID]]);return I._addQuerystringParam(e,ae.ADOBE_MC_SDID,n)}catch(t){return e}};var B={parseHash:function(e){var t=e.indexOf("#");return t>0?e.substr(t):""},hashlessUrl:function(e){var t=e.indexOf("#");return t>0?e.substr(0,t):e},addQueryParamAtLocation:function(e,
t,n){var i=e.split("\x26");return n=null!=n?n:i.length,i.splice(n,0,t),i.join("\x26")},isFirstPartyAnalyticsVisitorIDCall:function(e,t,n){if(e!==R)return!1;var i;return t||(t=I.trackingServer),n||(n=I.trackingServerSecure),!("string"!=typeof(i=I.loadSSL?n:t)||!i.length)&&(i.indexOf("2o7.net")<0&&i.indexOf("omtrdc.net")<0)},isObject:function(e){return Boolean(e&&e===Object(e))},removeCookie:function(e){$.remove(e,{domain:I.cookieDomain})},isTrackingServerPopulated:function(){return!!I.trackingServer||
!!I.trackingServerSecure},getTimestampInSeconds:function(){return Math.round((new Date).getTime()/1E3)},parsePipeDelimetedKeyValues:function(e){return e.split("|").reduce(function(e,t){var n=t.split("\x3d");return e[n[0]]=decodeURIComponent(n[1]),e},{})},generateRandomString:function(e){e=e||5;for(var t="",n="abcdefghijklmnopqrstuvwxyz0123456789";e--;)t+=n[Math.floor(Math.random()*n.length)];return t},normalizeBoolean:function(e){return"true"===e||"false"!==e&&e},parseBoolean:function(e){return"true"===
e||"false"!==e&&null},replaceMethodsWithFunction:function(e,t){for(var n in e)e.hasOwnProperty(n)&&"function"==typeof e[n]&&(e[n]=t);return e}};I._helpers=B;var Y=oe(I,O);I._destinationPublishing=Y,I.timeoutMetricsLog=[];var q={isClientSideMarketingCloudVisitorID:null,MCIDCallTimedOut:null,AnalyticsIDCallTimedOut:null,AAMIDCallTimedOut:null,fieldGroupObj:{},setState:function(e,t){switch(e){case k:!1===t?!0!==this.MCIDCallTimedOut&&(this.MCIDCallTimedOut=!1):this.MCIDCallTimedOut=t;break;case L:!1===
t?!0!==this.AnalyticsIDCallTimedOut&&(this.AnalyticsIDCallTimedOut=!1):this.AnalyticsIDCallTimedOut=t;break;case w:!1===t?!0!==this.AAMIDCallTimedOut&&(this.AAMIDCallTimedOut=!1):this.AAMIDCallTimedOut=t}}};I.isClientSideMarketingCloudVisitorID=function(){return q.isClientSideMarketingCloudVisitorID},I.MCIDCallTimedOut=function(){return q.MCIDCallTimedOut},I.AnalyticsIDCallTimedOut=function(){return q.AnalyticsIDCallTimedOut},I.AAMIDCallTimedOut=function(){return q.AAMIDCallTimedOut},I.idSyncGetOnPageSyncInfo=
function(){return I._readVisitor(),I._getField("MCSYNCSOP")},I.idSyncByURL=function(e){if(!I.isOptedOut()){var t=u(e||{});if(t.error)return t.error;var n,i,r=e.url,a=encodeURIComponent,o=Y;return r=r.replace(/^https:/,"").replace(/^http:/,""),n=V.encodeAndBuildRequest(["",e.dpid,e.dpuuid||""],","),i=["ibs",a(e.dpid),"img",a(r),t.ttl,"",n],o.addMessage(i.join("|")),o.requestToProcess(),"Successfully queued"}},I.idSyncByDataSource=function(e){if(!I.isOptedOut())return e===Object(e)&&"string"==typeof e.dpuuid&&
e.dpuuid.length?(e.url="//"+"dpm.demdex.net"+"/ibs:dpid\x3d"+e.dpid+"\x26dpuuid\x3d"+e.dpuuid,I.idSyncByURL(e)):"Error: config or config.dpuuid is empty"},Ge(I,Y),I._getCookieVersion=function(e){e=e||I.cookieRead(I.cookieName);var t=ae.VERSION_REGEX.exec(e);return t&&t.length>1?t[1]:null},I._resetAmcvCookie=function(e){var t=I._getCookieVersion();t&&!ee.isLessThan(t,e)||B.removeCookie(I.cookieName)},I.setAsCoopSafe=function(){M=!0},I.setAsCoopUnsafe=function(){M=!1},function(){if(I.configs=Object.create(null),
B.isObject(n))for(var e in n)x(e)&&(I[e]=n[e],I.configs[e]=n[e])}(),f();var W;I.init=function(){l()&&(S.optIn.fetchPermissions(h,!0),!S.optIn.isApproved(S.optIn.Categories.ECID))||W||(W=!0,function(){if(B.isObject(n)){I.idSyncContainerID=I.idSyncContainerID||0,M="boolean"==typeof I.isCoopSafe?I.isCoopSafe:B.parseBoolean(I.isCoopSafe),I.resetBeforeVersion&&I._resetAmcvCookie(I.resetBeforeVersion),I._attemptToPopulateIdsFromUrl(),I._attemptToPopulateSdidFromUrl(),I._readVisitor();var e=I._getField(P),
t=Math.ceil((new Date).getTime()/ae.MILLIS_PER_DAY);I.idSyncDisableSyncs||I.disableIdSyncs||!Y.canMakeSyncIDCall(e,t)||(I._setFieldExpire(F,-1),I._setField(P,t)),I.getMarketingCloudVisitorID(),I.getAudienceManagerLocationHint(),I.getAudienceManagerBlob(),I._mergeServerState(I.serverState)}else I._attemptToPopulateIdsFromUrl(),I._attemptToPopulateSdidFromUrl()}(),function(){if(!I.idSyncDisableSyncs&&!I.disableIdSyncs){Y.checkDPIframeSrc();var e=function(){var e=Y;e.readyToAttachIframe()&&e.attachIframe()};
b.addEventListener("load",function(){O.windowLoaded=!0,e()});try{ne.receiveMessage(function(e){Y.receiveMessage(e.data)},Y.iframeHost)}catch(e){}}}(),function(){I.whitelistIframeDomains&&ae.POST_MESSAGE_ENABLED&&(I.whitelistIframeDomains=I.whitelistIframeDomains instanceof Array?I.whitelistIframeDomains:[I.whitelistIframeDomains],I.whitelistIframeDomains.forEach(function(e){var n=new G(t,e),i=z(I,n);ne.receiveMessage(i,e)}))}())}};Ke.config=ce,C.Visitor=Ke;var Je=Ke,ze=function(e){if(V.isObject(e))return Object.keys(e).filter(function(t){return""!==
e[t]}).reduce(function(t,n){var i=ce.normalizeConfig(e[n]),r=V.normalizeBoolean(i);return t[n]=r,t},Object.create(null))},Qe=Be.OptIn,$e=Be.IabPlugin;return Je.getInstance=function(e,t){if(!e)throw new Error("Visitor requires Adobe Marketing Cloud Org ID.");e.indexOf("@")<0&&(e+="@AdobeOrg");var n=function(){var t=C.s_c_il;if(t)for(var n=0;n<t.length;n++){var i=t[n];if(i&&"Visitor"===i._c&&i.marketingCloudOrgID===e)return i}}();if(n)return n;var i=ze(t);!function(e){C.adobe.optIn=C.adobe.optIn||function(){var t=
V.pluck(e,["doesOptInApply","previousPermissions","preOptInApprovals","isOptInStorageEnabled","optInStorageExpiry","isIabContext"]),n=e.optInCookieDomain||e.cookieDomain;n=n||Z(),n=n===window.location.hostname?"":n,t.optInCookieDomain=n;var i=new Qe(t,{cookies:$});if(t.isIabContext&&t.doesOptInApply){var r=new $e;i.registerPlugin(r)}return i}()}(i||{});var r=e,a=r.split("").reverse().join(""),o=new Je(e,null,a);V.isObject(i)&&i.cookieDomain&&(o.cookieDomain=i.cookieDomain),function(){C.s_c_il.splice(--C.s_c_in,
1)}();var s=V.getIeVersion();if("number"==typeof s&&s<10)return o._helpers.replaceMethodsWithFunction(o,function(){});var c=function(){try{return C.self!==C.parent}catch(e){return!0}}()&&!function(e){return e.cookieWrite("TEST_AMCV_COOKIE","T",1),"T"===e.cookieRead("TEST_AMCV_COOKIE")&&(e._helpers.removeCookie("TEST_AMCV_COOKIE"),!0)}(o)&&C.parent?new q(e,i,o,C.parent):new Je(e,i,a);return o=null,c.init(),c},function(){function e(){Je.windowLoaded=!0}C.addEventListener?C.addEventListener("load",e):
C.attachEvent&&C.attachEvent("onload",e),Je.codeLoadEnd=(new Date).getTime()}(),Je}();if(false)window.visitor=Visitor.getInstance("097B467352782F130A490D45@AdobeOrg",visitorObj);var consent_defaults={};Object.keys(adobe.OptInCategories).forEach(function(e){consent_defaults[adobe.OptInCategories[e]]=false});visitorObj.doesOptInApply=true;visitorObj.preOptInApprovals=consent_defaults;visitorObj.isOptInStorageEnabled=false;window.visitor=Visitor.getInstance("097B467352782F130A490D45@AdobeOrg",visitorObj);
Bootstrapper.notify("008 - Experience Cloud ID Service");Bootstrapper.ensEvent.add(["enable-analytics"],function(){Bootstrapper.notify("analytics consent given");adobe.optIn.approveAll()});function enable(){var currentConsents={"Functional":Bootstrapper.nanoAPI.checkConsent("Functional"),"Marketing":Bootstrapper.nanoAPI.checkConsent("Marketing")};if(Bootstrapper.nanoAPI.checkConsent("Performance")||Bootstrapper.data.resolve("Manage.Personalization.consent")(currentConsents)){Bootstrapper.ensEvent.trigger("enable-analytics");
return true}return false}var isEnabled=enable();if(!isEnabled)Bootstrapper.bindPageSpecificCompletion(function(){if(!enable()&&Bootstrapper.nanoAPI.checkEventConsent())Bootstrapper.nanoAPI.adobeReadyCallback()})},3451806,[3451528,3451787],619708,[538643,538648]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{var result=false;var readyEntities={"www.audi.de":{},"my.audi.com":{"check":document.documentElement.lang,"values":["de-DE"]}};var readyDomains=Object.keys(readyEntities);for(var i=0;i<readyDomains.length;i++){var readyDomain=readyDomains[i];var currentDomain=document.location.hostname;
if(readyDomain===currentDomain){var values=readyEntities[readyDomain]["values"];var check=readyEntities[readyDomain]["check"];if(values&&check)for(var j=0;j<values.length;j++){if(values[j]===check)result=true}else result=true}}return result}catch(err){return""}},transform:function(val){return val?val:""},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"marketReady",collection:"Personalization",source:"Manage",priv:"false"},{id:"64041"})},64041)},-1,-1);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=
modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name))Object.defineProperty(exports,name,{enumerable:true,get:getter})};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag)Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);
if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};
__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=38)})([function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"utilities",function(){return utilities});var _urlPonyFill__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);function _typeof(obj){"@babel/helpers - typeof";
if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}var utilities=function(){var getEnvironmentOverrideOrGlobalDefault=function getEnvironmentOverrideOrGlobalDefault(featureToggles,environment,property){if(environment&&environment.hasOwnProperty(property))return environment[property];
else return featureToggles[property]};var overriddenFunctionProperty="ensOverriddenFunctions";return{addStyleElement:function addStyleElement(cssStyleDef){var head=document.head||document.getElementsByTagName("head")[0];var styleTag=document.createElement("style");styleTag.type="text/css";if(styleTag.styleSheet)styleTag.styleSheet.cssText=cssStyleDef;else styleTag.appendChild(document.createTextNode(cssStyleDef));head.appendChild(styleTag)},arrayToRegex:function arrayToRegex(arr){var flags=arguments.length>
1&&arguments[1]!==undefined?arguments[1]:undefined;if(Array.isArray(arr)){if(arr&&arr.length>0&&arr.join)return new RegExp(arr.join("|"),flags);return new RegExp("a^",flags)}},browserSupportsMutationObserver:function browserSupportsMutationObserver(){var returnVal;var prefixes=["WebKit","Moz","O","Ms",""];for(var i=0;i<prefixes.length;i++)if(prefixes[i]+"MutationObserver"in window)returnVal=true;return returnVal},domReady:function domReady(callback){var ready=false;var detach=function detach(){if(typeof document.addEventListener===
"function"){document.removeEventListener("DOMContentLoaded",completed);window.removeEventListener("load",completed)}else{document.detachEvent("onreadystatechange",completed);window.detachEvent("onload",completed)}};var completed=function completed(){if(!ready&&(typeof document.addEventListener==="function"||event.type==="load"||document.readyState==="complete")){ready=true;detach();callback()}};if(document.readyState==="complete")callback();else if(document.addEventListener){document.addEventListener("DOMContentLoaded",
completed);window.addEventListener("load",completed)}else{document.attachEvent("onreadystatechange",completed);window.attachEvent("onload",completed);var top=false;try{top=window.frameElement==null&&document.documentElement}catch(e){console.log(e)}if(top&&top.doScroll)(function scrollCheck(){if(ready)return;try{top.doScroll("left")}catch(e){return setTimeout(scrollCheck,50)}ready=true;detach();callback()})()}},each:function each(list,fn,context){if(list===undefined||!("length"in list))list={length:0};
for(var i=0;i<list.length;i++)fn.call(context,list[i],i,list)},getBrowserLocale:function getBrowserLocale(){var locale=window.navigator.userLanguage||window.navigator.language;if(locale){locale=locale.split("-");if(locale[0]&&locale[1])locale=locale[0]+"-"+locale[1].toUpperCase();else locale=locale[0]}else locale="en";return locale},getFunctionString:function getFunctionString(fn){if(!fn||typeof fn!=="function"&&_typeof(fn)!=="object")return false;if(fn.toString!==undefined)return fn.toString();return fn+
""},getUrlParamVal:function getUrlParamVal(key){var hash,queryStringObject={};var hashes=window.location.href.slice(window.location.href.indexOf("?")+1).split("\x26");for(var i=0;i<hashes.length;i++){hash=hashes[i].split("\x3d");queryStringObject[hash[0]]=hash[1]}var returnVal="";if(queryStringObject[key])returnVal=queryStringObject[key];return returnVal},isUriEncoded:function isUriEncoded(uri){if(typeof uri==="string")return uri!==decodeURIComponent(uri);return false},isValidUrl:function isValidUrl(string){try{new _urlPonyFill__WEBPACK_IMPORTED_MODULE_0__["a"](string);
return true}catch(_){return false}},isWhitelist:function isWhitelist(gatewayData,environment){return getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"usesWhitelist")},decodeUriComponent:function decodeUriComponent(str){var decodedUri=str;try{if(typeof str==="string")while(this.isUriEncoded(decodedUri))decodedUri=decodeURIComponent(decodedUri)}catch(e){console.warn("URI: "+str+". Could not be decoded properly. Original string was returned.")}return decodedUri},encodeUriComponent:function encodeUriComponent(str){var encodedUri=
str;try{if(typeof str==="string")encodedUri=encodeURIComponent(str)}catch(e){console.warn("URI: "+str+". Could not be encoded properly. Original string was returned.")}return encodedUri},isIE8OrLower:function isIE8OrLower(){return document.all&&!document.getSelection},isIE:false||!!document.documentMode,isMobileSafari:function isMobileSafari(){var ua=window.navigator.userAgent;var iOS=!!ua.match(/iP(ad|od|hone)/i);var webkit=!!ua.match(/WebKit/i);return iOS&&webkit&&!ua.match(/CriOS/i)},isNative:function isNative(fn){var re=
new RegExp("function\\s+.+?\\(\\s*\\)"+"\\s*{\\s*\\[native code\\]\\s*}"),re2=new RegExp("function\\s+.+?\\"+"(\\s*\\)\\s*{\\s*\\/\\*\\s*"+"source code not available\\s*\\*\\/\\s*}"),fnStr=utilities.getFunctionString(fn);var retValue=re.test(fnStr)||re2.test(fnStr);re=re2=fnStr=null;return retValue},getCookieTLD:function getCookieTLD(){return["ac","com","co","org","edu","info","gov","net","mod","nhs","plc","sch","ltd"]},getCookieSLD:function getCookieSLD(){return["af","ax","al","dz","as","ad","ao",
"ai","aq","ag","ar","am","aw","au","at","az","bh","bs","bd","bb","by","be","bz","bj","bm","bt","bo","bq","ba","bw","bv","br","io","bn","bg","bf","bi","kh","cm","ca","cv","ky","cf","td","cl","cn","cx","cc","co","km","cg","cd","ck","cr","ci","hr","cu","cw","cy","cz","dk","dj","dm","do","ec","eg","sv","gq","er","ee","et","fk","fo","fj","fi","fr","gf","pf","tf","ga","gm","ge","de","gh","gi","gr","gl","gd","gp","gu","gt","gg","gn","gw","gy","ht","hm","va","hn","hk","hu","is","in","id","ir","iq","ie","im",
"il","it","jm","jp","je","jo","kz","ke","ki","kp","kr","kw","kg","la","lv","lb","ls","lr","ly","li","lt","lu","mo","mk","mg","mw","my","mv","ml","mt","mh","mq","mr","mu","yt","mx","fm","md","mc","mn","me","ms","ma","mz","mm","na","nr","np","nl","nc","nz","ni","ne","ng","nu","nf","mp","no","om","pk","pw","ps","pa","pg","py","pe","ph","pn","pl","pt","pr","qa","ro","ru","rw","bl","sh","kn","lc","mf","pm","vc","ws","sm","st","sa","sn","rs","sc","sl","sg","sx","sk","si","sb","so","za","gs","ss","es","lk",
"sd","sr","sj","sz","se","ch","sy","tw","tj","tz","th","tl","tg","tk","to","tt","tn","tr","tm","tc","tv","ug","ua","uk","ae","gb","us","um","uy","uz","vu","ve","vn","vg","vi","wf","eh","ye","zm","zw"]},cookieNameToCookieType:function cookieNameToCookieType(clientName,cookieName){return cookieName.replace(clientName.toUpperCase()+"_ENSIGHTEN_PRIVACY_","")},ieVersion:function ieVersion(){var ua=window.navigator.userAgent;var msie=ua.indexOf("MSIE ");if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",
msie)),10);var trident=ua.indexOf("Trident/");if(trident>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");if(edge>0)return parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10);return null},apiToSource:function apiToSource(typeOfApi){return typeOfApi.toUpperCase()+"_MANAGER"},repeatString:function repeatString(s,n){var a=[],i=0;for(;i<n;)a[i++]=s;return a.join("")},getEnvironmentOverrideOrGlobalDefault:getEnvironmentOverrideOrGlobalDefault,
watcher:{enumerable:false,configurable:true,writable:true,value:function value(prop,handler){var old=this[prop];var cur=old;var getter=function getter(){if(typeof this.getAttribute=="function")cur=this.getAttribute(prop);return cur};var setter=function setter(val){old=cur;cur=handler.call(this,prop,old,val);if(this.setAttribute)this.setAttribute(prop,cur,true);return cur};if(delete this[prop])Object.defineProperty(this,prop,{get:getter,set:setter,enumerable:true,configurable:true})}},validateRemoveChild:function validateRemoveChild(childElement){return childElement instanceof
Node&&childElement.parentNode instanceof Node&&document.body.contains(childElement)},overriddenFunctionProperty:overriddenFunctionProperty,isFunctionOverridden:function isFunctionOverridden(object,fnName){return object.hasOwnProperty(overriddenFunctionProperty)&&object[overriddenFunctionProperty][fnName]},markFunctionOverridden:function markFunctionOverridden(object,fnName){if(!object.hasOwnProperty(overriddenFunctionProperty))object[overriddenFunctionProperty]={};object[overriddenFunctionProperty][fnName]=
true}}}()},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",function(){return URL});function URLjsImpl(){var relative=Object.create(null);relative["ftp"]=21;relative["file"]=0;relative["gopher"]=70;relative["http"]=80;relative["https"]=443;relative["ws"]=80;relative["wss"]=443;var relativePathDotMapping=Object.create(null);relativePathDotMapping["%2e"]=".";relativePathDotMapping[".%2e"]="..";relativePathDotMapping["%2e."]="..";relativePathDotMapping["%2e%2e"]=
"..";function isRelativeScheme(scheme){return relative[scheme]!==undefined}function invalid(){clear.call(this);this._isInvalid=true}function IDNAToASCII(h){if(""===h)invalid.call(this);return h.toLowerCase()}function percentEscape(c){var unicode=c.charCodeAt(0);if(unicode>32&&unicode<127&&[34,35,60,62,63,96].indexOf(unicode)===-1)return c;return encodeURIComponent(c)}function percentEscapeQuery(c){var unicode=c.charCodeAt(0);if(unicode>32&&unicode<127&&[34,35,60,62,96].indexOf(unicode)===-1)return c;
return encodeURIComponent(c)}var EOF=undefined,ALPHA=/[a-zA-Z]/,ALPHANUMERIC=/[a-zA-Z0-9\+\-\.]/;function parse(input,stateOverride,base){function err(message){errors.push(message)}var state=stateOverride||"scheme start",cursor=0,buffer="",seenAt=false,seenBracket=false,errors=[];loop:while((input[cursor-1]!==EOF||cursor===0)&&!this._isInvalid){var c=input[cursor];switch(state){case "scheme start":if(c&&ALPHA.test(c)){buffer+=c.toLowerCase();state="scheme"}else if(!stateOverride){buffer="";state=
"no scheme";continue}else{err("Invalid scheme.");break loop}break;case "scheme":if(c&&ALPHANUMERIC.test(c))buffer+=c.toLowerCase();else if(":"===c){this._scheme=buffer;buffer="";if(stateOverride)break loop;if(isRelativeScheme(this._scheme))this._isRelative=true;if("file"===this._scheme)state="relative";else if(this._isRelative&&base&&base._scheme===this._scheme)state="relative or authority";else if(this._isRelative)state="authority first slash";else state="scheme data"}else if(!stateOverride){buffer=
"";cursor=0;state="no scheme";continue}else if(EOF===c)break loop;else{err("Code point not allowed in scheme: "+c);break loop}break;case "scheme data":if("?"===c){this._query="?";state="query"}else if("#"===c){this._fragment="#";state="fragment"}else if(EOF!==c&&"\t"!==c&&"\n"!==c&&"\r"!==c)this._schemeData+=percentEscape(c);break;case "no scheme":if(!base||!isRelativeScheme(base._scheme)){err("Missing scheme.");invalid.call(this)}else{state="relative";continue}break;case "relative or authority":if("/"===
c&&"/"===input[cursor+1])state="authority ignore slashes";else{err("Expected /, got: "+c);state="relative";continue}break;case "relative":this._isRelative=true;if("file"!==this._scheme)this._scheme=base._scheme;if(EOF===c){this._host=base._host;this._port=base._port;this._path=base._path.slice();this._query=base._query;this._username=base._username;this._password=base._password;break loop}else if("/"===c||"\\"===c){if("\\"===c)err("\\ is an invalid code point.");state="relative slash"}else if("?"===
c){this._host=base._host;this._port=base._port;this._path=base._path.slice();this._query="?";this._username=base._username;this._password=base._password;state="query"}else if("#"===c){this._host=base._host;this._port=base._port;this._path=base._path.slice();this._query=base._query;this._fragment="#";this._username=base._username;this._password=base._password;state="fragment"}else{var nextC=input[cursor+1];var nextNextC=input[cursor+2];if("file"!==this._scheme||!ALPHA.test(c)||nextC!==":"&&nextC!==
"|"||EOF!==nextNextC&&"/"!==nextNextC&&"\\"!==nextNextC&&"?"!==nextNextC&&"#"!==nextNextC){this._host=base._host;this._port=base._port;this._username=base._username;this._password=base._password;this._path=base._path.slice();this._path.pop()}state="relative path";continue}break;case "relative slash":if("/"===c||"\\"===c){if("\\"===c)err("\\ is an invalid code point.");if("file"===this._scheme)state="file host";else state="authority ignore slashes"}else{if("file"!==this._scheme){this._host=base._host;
this._port=base._port;this._username=base._username;this._password=base._password}state="relative path";continue}break;case "authority first slash":if("/"===c)state="authority second slash";else{err("Expected '/', got: "+c);state="authority ignore slashes";continue}break;case "authority second slash":state="authority ignore slashes";if("/"!==c){err("Expected '/', got: "+c);continue}break;case "authority ignore slashes":if("/"!==c&&"\\"!==c){state="authority";continue}else err("Expected authority, got: "+
c);break;case "authority":if("@"===c){if(seenAt){err("@ already seen.");buffer+="%40"}seenAt=true;for(var i=0;i<buffer.length;i++){var cp=buffer[i];if("\t"===cp||"\n"===cp||"\r"===cp){err("Invalid whitespace in authority.");continue}if(":"===cp&&null===this._password){this._password="";continue}var tempC=percentEscape(cp);null!==this._password?this._password+=tempC:this._username+=tempC}buffer=""}else if(EOF===c||"/"===c||"\\"===c||"?"===c||"#"===c){cursor-=buffer.length;buffer="";state="host";continue}else buffer+=
c;break;case "file host":if(EOF===c||"/"===c||"\\"===c||"?"===c||"#"===c){if(buffer.length===2&&ALPHA.test(buffer[0])&&(buffer[1]===":"||buffer[1]==="|"))state="relative path";else if(buffer.length===0)state="relative path start";else{this._host=IDNAToASCII.call(this,buffer);buffer="";state="relative path start"}continue}else if("\t"===c||"\n"===c||"\r"===c)err("Invalid whitespace in file host.");else buffer+=c;break;case "host":case "hostname":if(":"===c&&!seenBracket){this._host=IDNAToASCII.call(this,
buffer);buffer="";state="port";if("hostname"===stateOverride)break loop}else if(EOF===c||"/"===c||"\\"===c||"?"===c||"#"===c){this._host=IDNAToASCII.call(this,buffer);if(this._host==="")throw Error("Unable to find host");buffer="";state="relative path start";if(stateOverride)break loop;continue}else if("\t"!==c&&"\n"!==c&&"\r"!==c){if("["===c)seenBracket=true;else if("]"===c)seenBracket=false;buffer+=c}else err("Invalid code point in host/hostname: "+c);break;case "port":if(/[0-9]/.test(c))buffer+=
c;else if(EOF===c||"/"===c||"\\"===c||"?"===c||"#"===c||stateOverride){if(""!==buffer){var temp=parseInt(buffer,10);if(temp!==relative[this._scheme])this._port=temp+"";buffer=""}if(stateOverride)break loop;state="relative path start";continue}else if("\t"===c||"\n"===c||"\r"===c)err("Invalid code point in port: "+c);else invalid.call(this);break;case "relative path start":if("\\"===c)err("'\\' not allowed in path.");state="relative path";if("/"!==c&&"\\"!==c)continue;break;case "relative path":if(EOF===
c||"/"===c||"\\"===c||!stateOverride&&("?"===c||"#"===c)){if("\\"===c)err("\\ not allowed in relative path.");var tmp;if(tmp=relativePathDotMapping[buffer.toLowerCase()])buffer=tmp;if(".."===buffer){this._path.pop();if("/"!==c&&"\\"!==c)this._path.push("")}else if("."===buffer&&"/"!==c&&"\\"!==c)this._path.push("");else if("."!==buffer){if("file"===this._scheme&&this._path.length===0&&buffer.length===2&&ALPHA.test(buffer[0])&&buffer[1]==="|")buffer=buffer[0]+":";this._path.push(buffer)}buffer="";
if("?"===c){this._query="?";state="query"}else if("#"===c){this._fragment="#";state="fragment"}}else if("\t"!==c&&"\n"!==c&&"\r"!==c)buffer+=percentEscape(c);break;case "query":if(!stateOverride&&"#"===c){this._fragment="#";state="fragment"}else if(EOF!==c&&"\t"!==c&&"\n"!==c&&"\r"!==c)this._query+=percentEscapeQuery(c);break;case "fragment":if(EOF!==c&&"\t"!==c&&"\n"!==c&&"\r"!==c)this._fragment+=c;break}cursor++}}function clear(){this._scheme="";this._schemeData="";this._username="";this._password=
null;this._host="";this._port="";this._path=[];this._query="";this._fragment="";this._isInvalid=false;this._isRelative=false}function jURL(url,base){if(base!==undefined&&!(base instanceof jURL))base=new jURL(String(base));this._url=""+url;clear.call(this);var input=this._url.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");parse.call(this,input,null,base)}jURL.prototype={toString:function toString(){return this.href},get href(){if(this._isInvalid)return this._url;var authority="";if(""!==this._username||
null!==this._password)authority=this._username+(null!==this._password?":"+this._password:"")+"@";return this.protocol+(this._isRelative?"//"+authority+this.host:"")+this.pathname+this._query+this._fragment},set href(href){clear.call(this);parse.call(this,href)},get protocol(){return this._scheme+":"},set protocol(protocol){if(this._isInvalid)return;parse.call(this,protocol+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(host){if(this._isInvalid||
!this._isRelative)return;parse.call(this,host,"host")},get hostname(){return this._host},set hostname(hostname){if(this._isInvalid||!this._isRelative)return;parse.call(this,hostname,"hostname")},get port(){return this._port},set port(port){if(this._isInvalid||!this._isRelative)return;parse.call(this,port,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(pathname){if(this._isInvalid||!this._isRelative)return;this._path=[];parse.call(this,
pathname,"relative path start")},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(search){if(this._isInvalid||!this._isRelative)return;this._query="?";if("?"===search[0])search=search.slice(1);parse.call(this,search,"query")},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(hash){if(this._isInvalid)return;if(!hash){this._fragment="";return}this._fragment="#";if("#"===hash[0])hash=hash.slice(1);parse.call(this,
hash,"fragment")},get origin(){var host;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case "data":case "file":case "javascript":case "mailto":return"null"}host=this.host;if(!host)return"";return this._scheme+"://"+host}};var OriginalURL=self.URL;if(OriginalURL){jURL["createObjectURL"]=function(blob){return OriginalURL.createObjectURL.apply(OriginalURL,arguments)};jURL["revokeObjectURL"]=function(url){OriginalURL.revokeObjectURL(url)}}return jURL}var URL=URLjsImpl();function hasNativeURL(){var hasWorkingUrl=
false;try{var u=new self.URL("b","http://a");u.pathname="c%20d";hasWorkingUrl=u.href==="http://a/c%20d"}catch(e){console.log(e)}return hasWorkingUrl}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",function(){return utilities});var _coreCfg__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11);var utilities=function(){return{couldNotBind:function couldNotBind(key){_coreCfg__WEBPACK_IMPORTED_MODULE_0__["gatewayConfig"].unbound[key]=true},bind:function bind(fn,
context,args){args=Array.prototype.slice.call(arguments);fn=args.shift();context=args.shift();return function(){return fn.apply(context,args.concat(Array.prototype.slice.call(arguments)))}}}}()},function(module,exports,__webpack_require__){(function(global){function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===
Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}var check=function check(it){return it&&it.Math==Math&&it};module.exports=check((typeof globalThis==="undefined"?"undefined":_typeof(globalThis))=="object"&&globalThis)||check((typeof window==="undefined"?"undefined":_typeof(window))=="object"&&window)||check((typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self)||check((typeof global==="undefined"?"undefined":_typeof(global))=="object"&&global)||Function("return this")()}).call(this,
__webpack_require__(17))},function(module,exports,__webpack_require__){(function(global){var base64=__webpack_require__(65);var ieee754=__webpack_require__(66);var isArray=__webpack_require__(67);exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;Buffer.TYPED_ARRAY_SUPPORT=global.TYPED_ARRAY_SUPPORT!==undefined?global.TYPED_ARRAY_SUPPORT:typedArraySupport();exports.kMaxLength=kMaxLength();function typedArraySupport(){try{var arr=new Uint8Array(1);arr.__proto__={__proto__:Uint8Array.prototype,
foo:function foo(){return 42}};return arr.foo()===42&&typeof arr.subarray==="function"&&arr.subarray(1,1).byteLength===0}catch(e){return false}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError("Invalid typed array length");if(Buffer.TYPED_ARRAY_SUPPORT){that=new Uint8Array(length);that.__proto__=Buffer.prototype}else{if(that===null)that=new Buffer(length);that.length=length}return that}function Buffer(arg,
encodingOrOffset,length){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if(typeof arg==="number"){if(typeof encodingOrOffset==="string")throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}Buffer.poolSize=8192;Buffer._augment=function(arr){arr.__proto__=Buffer.prototype;return arr};function from(that,value,encodingOrOffset,length){if(typeof value===
"number")throw new TypeError('"value" argument must not be a number');if(typeof ArrayBuffer!=="undefined"&&value instanceof ArrayBuffer)return fromArrayBuffer(that,value,encodingOrOffset,length);if(typeof value==="string")return fromString(that,value,encodingOrOffset);return fromObject(that,value)}Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)};if(Buffer.TYPED_ARRAY_SUPPORT){Buffer.prototype.__proto__=Uint8Array.prototype;Buffer.__proto__=Uint8Array;
if(typeof Symbol!=="undefined"&&Symbol.species&&Buffer[Symbol.species]===Buffer)Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true})}function assertSize(size){if(typeof size!=="number")throw new TypeError('"size" argument must be a number');else if(size<0)throw new RangeError('"size" argument must not be negative');}function alloc(that,size,fill,encoding){assertSize(size);if(size<=0)return createBuffer(that,size);if(fill!==undefined)return typeof encoding==="string"?createBuffer(that,
size).fill(fill,encoding):createBuffer(that,size).fill(fill);return createBuffer(that,size)}Buffer.alloc=function(size,fill,encoding){return alloc(null,size,fill,encoding)};function allocUnsafe(that,size){assertSize(size);that=createBuffer(that,size<0?0:checked(size)|0);if(!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)};function fromString(that,
string,encoding){if(typeof encoding!=="string"||encoding==="")encoding="utf8";if(!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');var length=byteLength(string,encoding)|0;that=createBuffer(that,length);var actual=that.write(string,encoding);if(actual!==length)that=that.slice(0,actual);return that}function fromArrayLike(that,array){var length=array.length<0?0:checked(array.length)|0;that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=array[i]&
255;return that}function fromArrayBuffer(that,array,byteOffset,length){array.byteLength;if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError("'offset' is out of bounds");if(array.byteLength<byteOffset+(length||0))throw new RangeError("'length' is out of bounds");if(byteOffset===undefined&&length===undefined)array=new Uint8Array(array);else if(length===undefined)array=new Uint8Array(array,byteOffset);else array=new Uint8Array(array,byteOffset,length);if(Buffer.TYPED_ARRAY_SUPPORT){that=
array;that.__proto__=Buffer.prototype}else that=fromArrayLike(that,array);return that}function fromObject(that,obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;that=createBuffer(that,len);if(that.length===0)return that;obj.copy(that,0,0,len);return that}if(obj){if(typeof ArrayBuffer!=="undefined"&&obj.buffer instanceof ArrayBuffer||"length"in obj){if(typeof obj.length!=="number"||isnan(obj.length))return createBuffer(that,0);return fromArrayLike(that,obj)}if(obj.type==="Buffer"&&isArray(obj.data))return fromArrayLike(that,
obj.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function checked(length){if(length>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+kMaxLength().toString(16)+" bytes");return length|0}function SlowBuffer(length){if(+length!=length)length=0;return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return!!(b!=null&&b._isBuffer)};Buffer.compare=function compare(a,b){if(!Buffer.isBuffer(a)||
!Buffer.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i];y=b[i];break}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return true;default:return false}};
Buffer.concat=function concat(list,length){if(!isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(list.length===0)return Buffer.alloc(0);var i;if(length===undefined){length=0;for(i=0;i<list.length;++i)length+=list[i].length}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,
encoding){if(Buffer.isBuffer(string))return string.length;if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;if(typeof string!=="string")string=""+string;var len=string.length;if(len===0)return 0;var loweredCase=false;for(;;)switch(encoding){case "ascii":case "latin1":case "binary":return len;case "utf8":case "utf-8":case undefined:return utf8ToBytes(string).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return len*
2;case "hex":return len>>>1;case "base64":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase();loweredCase=true}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0)start=0;if(start>this.length)return"";if(end===undefined||end>this.length)end=this.length;if(end<=0)return"";end>>>=0;start>>>=0;if(end<=start)return"";if(!encoding)encoding="utf8";while(true)switch(encoding){case "hex":return hexSlice(this,
start,end);case "utf8":case "utf-8":return utf8Slice(this,start,end);case "ascii":return asciiSlice(this,start,end);case "latin1":case "binary":return latin1Slice(this,start,end);case "base64":return base64Slice(this,start,end);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=
b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==
0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length|0;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;
return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;if(this.length>0){str=this.toString("hex",0,max).match(/.{2}/g).join(" ");if(this.length>max)str+=" ... "}return"\x3cBuffer "+str+"\x3e"};Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError("Argument must be a Buffer");if(start===undefined)start=0;if(end===undefined)end=target?target.length:0;if(thisStart===
undefined)thisStart=0;if(thisEnd===undefined)thisEnd=this.length;if(start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<
len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647)byteOffset=2147483647;else if(byteOffset<-2147483648)byteOffset=-2147483648;byteOffset=+byteOffset;if(isNaN(byteOffset))byteOffset=dir?0:buffer.length-1;if(byteOffset<0)byteOffset=buffer.length+
byteOffset;if(byteOffset>=buffer.length)if(dir)return-1;else byteOffset=buffer.length-1;else if(byteOffset<0)if(dir)byteOffset=0;else return-1;if(typeof val==="string")val=Buffer.from(val,encoding);if(Buffer.isBuffer(val)){if(val.length===0)return-1;return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(Buffer.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function")if(dir)return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset);else return Uint8Array.prototype.lastIndexOf.call(buffer,
val,byteOffset);return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer");}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2)return-1;indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,
i){if(indexSize===1)return buf[i];else return buf.readUInt16BE(i*indexSize)}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++)if(read(arr,i+j)!==
read(val,j)){found=false;break}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=
Number(offset)||0;var remaining=buf.length-offset;if(!length)length=remaining;else{length=Number(length);if(length>remaining)length=remaining}var strLen=string.length;if(strLen%2!==0)throw new TypeError("Invalid hex string");if(length>strLen/2)length=strLen/2;for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}
function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===
undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset|0;if(isFinite(length)){length=length|0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>
0&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");if(!encoding)encoding="utf8";var loweredCase=false;for(;;)switch(encoding){case "hex":return hexWrite(this,string,offset,length);case "utf8":case "utf-8":return utf8Write(this,string,offset,length);case "ascii":return asciiWrite(this,string,offset,length);case "latin1":case "binary":return latin1Write(this,string,offset,length);case "base64":return base64Write(this,string,offset,length);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return ucs2Write(this,
string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length)return base64.fromByteArray(buf);else return base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=
start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128)codePoint=firstByte;break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127)codePoint=tempCodePoint}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===
128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343))codePoint=tempCodePoint}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112)codePoint=tempCodePoint}}}if(codePoint===
null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res="";var i=0;while(i<len)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));
return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]&127);return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,
start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+bytes[i+1]*256);return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len)start=len;if(end<0){end+=len;if(end<0)end=0}else if(end>len)end=len;if(end<start)end=start;var newBuf;if(Buffer.TYPED_ARRAY_SUPPORT){newBuf=this.subarray(start,end);newBuf.__proto__=
Buffer.prototype}else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,undefined);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length");}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,
this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256))val+=this[offset+i]*mul;return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256))val+=this[offset+--byteLength]*mul;return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){if(!noAssert)checkOffset(offset,
1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+
2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256))val+=this[offset+i]*mul;mul*=
128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset|0;byteLength=byteLength|0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256))val+=this[offset+--i]*mul;mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&
128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){if(!noAssert)checkOffset(offset,
4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){if(!noAssert)checkOffset(offset,
4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');
if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range");}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256))this[offset+i]=value/mul&255;return offset+
byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;byteLength=byteLength|0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256))this[offset+i]=value/mul&255;return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,
value,offset,1,255,0);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);this[offset]=value&255;return offset+1};function objectWriteUInt16(buf,value,offset,littleEndian){if(value<0)value=65535+value+1;for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>(littleEndian?i:1-i)*8}Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=
value&255;this[offset+1]=value>>>8}else objectWriteUInt16(this,value,offset,true);return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,65535,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else objectWriteUInt16(this,value,offset,false);return offset+2};function objectWriteUInt32(buf,value,offset,littleEndian){if(value<0)value=4294967295+value+1;for(var i=
0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>(littleEndian?i:3-i)*8&255}Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255}else objectWriteUInt32(this,value,offset,true);return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,
offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else objectWriteUInt32(this,value,offset,false);return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-
1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0)sub=1;this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset|0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&
(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0)sub=1;this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(!Buffer.TYPED_ARRAY_SUPPORT)value=Math.floor(value);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset|0;
if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8}else objectWriteUInt16(this,value,offset,true);return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>8;this[offset+1]=value&255}else objectWriteUInt16(this,value,offset,false);return offset+2};
Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24}else objectWriteUInt32(this,value,offset,true);return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset|0;if(!noAssert)checkInt(this,value,
offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;if(Buffer.TYPED_ARRAY_SUPPORT){this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255}else objectWriteUInt32(this,value,offset,false);return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range");}function writeFloat(buf,value,offset,littleEndian,noAssert){if(!noAssert)checkIEEE754(buf,
value,offset,4,3.4028234663852886E38,-3.4028234663852886E38);ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){if(!noAssert)checkIEEE754(buf,value,offset,8,1.7976931348623157E308,
-1.7976931348623157E308);ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=
target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("sourceStart out of bounds");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start)end=target.length-targetStart+start;var len=end-start;var i;if(this===target&&
start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1E3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(val.length===
1){var code=val.charCodeAt(0);if(code<256)val=code}if(encoding!==undefined&&typeof encoding!=="string")throw new TypeError("encoding must be a string");if(typeof encoding==="string"&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);}else if(typeof val==="number")val=val&255;if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val===
"number")for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes((new Buffer(val,encoding)).toString());var len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;function base64clean(str){str=stringtrim(str).replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0)str=str+"\x3d";return str}function stringtrim(str){if(str.trim)return str.trim();return str.replace(/^\s+|\s+$/g,"")}
function toHex(n){if(n<16)return"0"+n.toString(16);return n.toString(16)}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<
56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate)if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<
1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else throw new Error("Invalid code point");}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i)byteArray.push(str.charCodeAt(i)&255);return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}
function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isnan(val){return val!==val}}).call(this,__webpack_require__(17))},function(module,exports,__webpack_require__){module.exports=__webpack_require__(68)},function(module,exports,__webpack_require__){var fails=__webpack_require__(7);module.exports=!fails(function(){return Object.defineProperty({},
1,{get:function get(){return 7}})[1]!=7})},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return true}}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports){function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&
typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}module.exports=function(it){return _typeof(it)==="object"?it!==null:typeof it==="function"}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(6);var definePropertyModule=__webpack_require__(25);var createPropertyDescriptor=__webpack_require__(20);module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,
value))}:function(object,key,value){object[key]=value;return object}},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"gatewayConfig",function(){return gatewayConfig});var gatewayConfig=function(){var excList=new RegExp("nodeName|scopeName|tagName|"+"fileSize|outerHTML|start|contentEditable|href|nameProp|outerText|innerText|innerHTML");var eventHandlers=["abort","error","KeyDown","KeyPress","KeyUp","load"];
var forwardMethods=["cloneNode","attachEvent"];var getters=["ElementsByClassName","ClientRects","BoundingClientRect","Attribute","ElementsByTagName","ElementsByTagNameNS","AttributeNS","UserData","AttributeNode","AttributeNodeNS","Height","Width","Style","Opacity","Dimensions","OffsetParent","ElementsBySelector","InlineOpacity","Styles"];var unbound={};return{excList:excList,eventHandlers:eventHandlers,forwardMethods:forwardMethods,getters:getters,unbound:unbound}}()},function(module,exports,__webpack_require__){module.exports=
__webpack_require__(75).default;module.exports.default=module.exports},function(module,exports,__webpack_require__){var IndexedObject=__webpack_require__(21);var requireObjectCoercible=__webpack_require__(22);module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},function(module,exports,__webpack_require__){var global=__webpack_require__(3);var createNonEnumerableProperty=__webpack_require__(10);module.exports=function(key,value){try{createNonEnumerableProperty(global,key,
value)}catch(error){global[key]=value}return value}},function(module,exports,__webpack_require__){exports.UINT32=__webpack_require__(72);exports.UINT64=__webpack_require__(73)},function(module,exports,__webpack_require__){function find(array,predicate,context){if(typeof Array.prototype.find==="function")return array.find(predicate,context);context=context||this;var length=array.length;var i;if(typeof predicate!=="function")throw new TypeError(predicate+" is not a function");for(i=0;i<length;i++)if(predicate.call(context,
array[i],i,array))return array[i]}module.exports=find},function(module,exports){function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}var g;g=function(){return this}();try{g=g||(new Function("return this"))()}catch(e){if((typeof window===
"undefined"?"undefined":_typeof(window))==="object")g=window}module.exports=g},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(6);var propertyIsEnumerableModule=__webpack_require__(19);var createPropertyDescriptor=__webpack_require__(20);var toIndexedObject=__webpack_require__(13);var toPrimitive=__webpack_require__(23);var has=__webpack_require__(8);var IE8_DOM_DEFINE=__webpack_require__(24);var nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=
DESCRIPTORS?nativeGetOwnPropertyDescriptor:function getOwnPropertyDescriptor(O,P){O=toIndexedObject(O);P=toPrimitive(P,true);if(IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(error){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},function(module,exports,__webpack_require__){var nativePropertyIsEnumerable={}.propertyIsEnumerable;var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;var NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},
1);exports.f=NASHORN_BUG?function propertyIsEnumerable(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:nativePropertyIsEnumerable},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value}}},function(module,exports,__webpack_require__){var fails=__webpack_require__(7);var classof=__webpack_require__(43);var split="".split;module.exports=fails(function(){return!Object("z").propertyIsEnumerable(0)})?
function(it){return classof(it)=="String"?split.call(it,""):Object(it)}:Object},function(module,exports){module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on "+it);return it}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(9);module.exports=function(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&typeof(fn=input.toString)=="function"&&!isObject(val=fn.call(input)))return val;if(typeof(fn=input.valueOf)==
"function"&&!isObject(val=fn.call(input)))return val;if(!PREFERRED_STRING&&typeof(fn=input.toString)=="function"&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value");}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(6);var fails=__webpack_require__(7);var createElement=__webpack_require__(44);module.exports=!DESCRIPTORS&&!fails(function(){return Object.defineProperty(createElement("div"),"a",{get:function get(){return 7}}).a!=
7})},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(6);var IE8_DOM_DEFINE=__webpack_require__(24);var anObject=__webpack_require__(26);var toPrimitive=__webpack_require__(23);var nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function defineProperty(O,P,Attributes){anObject(O);P=toPrimitive(P,true);anObject(Attributes);if(IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in
Attributes)throw TypeError("Accessors not supported");if("value"in Attributes)O[P]=Attributes.value;return O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(9);module.exports=function(it){if(!isObject(it))throw TypeError(String(it)+" is not an object");return it}},function(module,exports,__webpack_require__){var store=__webpack_require__(28);var functionToString=Function.toString;if(typeof store.inspectSource!="function")store.inspectSource=function(it){return functionToString.call(it)};
module.exports=store.inspectSource},function(module,exports,__webpack_require__){var global=__webpack_require__(3);var setGlobal=__webpack_require__(14);var SHARED="__core-js_shared__";var store=global[SHARED]||setGlobal(SHARED,{});module.exports=store},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var has=__webpack_require__(8);var toIndexedObject=__webpack_require__(13);var indexOf=__webpack_require__(57).indexOf;var hiddenKeys=__webpack_require__(29);
module.exports=function(object,names){var O=toIndexedObject(object);var i=0;var result=[];var key;for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);while(names.length>i)if(has(O,key=names[i++]))~indexOf(result,key)||result.push(key);return result}},function(module,exports){var ceil=Math.ceil;var floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)}},function(module,exports){module.exports=["constructor","hasOwnProperty",
"isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,__webpack_exports__,__webpack_require__){(function(Buffer){__webpack_require__.d(__webpack_exports__,"a",function(){return ConsentReporter});var _src_urlProcessorSandbox_utilities__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);var _src_lz4_lz4__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5);var _src_lz4_lz4__WEBPACK_IMPORTED_MODULE_1___default=
__webpack_require__.n(_src_lz4_lz4__WEBPACK_IMPORTED_MODULE_1__);var base64url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12);var base64url__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(base64url__WEBPACK_IMPORTED_MODULE_2__);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=
descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});
else obj[key]=value;return obj}var ConsentReporter=function(){function ConsentReporter(imageReference,environmentName,modalType,defaultOptions,clientId,clientName,publishPath,mode,cookiesTypes,gatewayVersion,enableReporting,cookieManager,nexusDomain,customReporter,sendBeaconReportingDisabled,sendBeacon){_classCallCheck(this,ConsentReporter);this.imageReference=imageReference;this.environmentName=environmentName;this.modalType=modalType;this.defaultOptions=defaultOptions;this.clientId=clientId;this.clientName=
clientName;this.publishPath=publishPath;this.mode=mode;this.cookiesTypes=cookiesTypes;this.gatewayVersion=gatewayVersion;this.enableReporting=enableReporting;this.cookieManager=cookieManager;this.nexusDomain=nexusDomain;this.customReporter=customReporter;this.sendBeaconReportingDisabled=sendBeaconReportingDisabled;this.sendBeacon=sendBeacon;_defineProperty(this,"beaconCounter",0);_defineProperty(this,"version","1.0.0");_defineProperty(this,"instanceId",((1+Math.random())*268435456|0).toString(36));
_defineProperty(this,"nexusURL",void 0);_defineProperty(this,"pendingEvents",void 0);this.pendingEvents=[];this.nexusURL="//"+nexusDomain+"/privacy/v1/c/1.gif"}_createClass(ConsentReporter,[{key:"sendReport",value:function sendReport(oldCookies,newCookies){if(!this.enableReporting)return;var encodedBeaconURL=this.nexusURL+"?"+"n\x3d"+this.beaconCounter++ +"\x26c\x3d"+this.clientId+"\x26i\x3d"+this.instanceId;if(this.publishPath)encodedBeaconURL+="\x26p\x3d"+encodeURIComponent(this.publishPath);var rawBody=
this.buildBody(oldCookies,newCookies);var encodedBody=this.generateReportString(rawBody);var rawLength=JSON.stringify(rawBody).length;encodedBeaconURL+="\x26d\x3d"+encodedBody+"\x26s\x3d"+rawLength;if(!this.sendBeaconReportingDisabled&&!_src_urlProcessorSandbox_utilities__WEBPACK_IMPORTED_MODULE_0__["utilities"].isIE&&typeof this.sendBeacon==="function")this.sendBeacon(encodedBeaconURL,encodedBody);else{var beacon=this.imageReference;beacon.src=encodedBeaconURL}if(typeof this.customReporter==="function")this.executeCustomReporter(oldCookies,
newCookies);this.pendingEvents=[];return encodedBeaconURL}},{key:"buildBody",value:function buildBody(oldCookies,newCookies){return{version:this.version,gateway:this.gatewayVersion,clientId:this.clientId,clientName:this.clientName,publishPath:this.publishPath,mode:this.mode,cookies:this.cookieManager.getCookiesFromTypes(this.cookiesTypes.concat("MODAL_VIEWED","LOCALE","BANNER_VIEWED","BANNER_LOADED")),dt:Date.now(),settings:{modal:this.modalType,environment:this.environmentName,defaults:this.defaultOptions},
events:this.buildEvents(oldCookies,newCookies).concat(this.pendingEvents)}}},{key:"buildEvents",value:function buildEvents(previousCookies,newCookies){var events=[];for(var cookieName in newCookies)if(previousCookies.hasOwnProperty(cookieName)){if(newCookies[cookieName]!==previousCookies[cookieName]){var event=this.buildEvent(cookieName,newCookies[cookieName]);events.push(event)}}else{var _event=this.buildEvent(cookieName,newCookies[cookieName]);events.push(_event)}return events}},{key:"addContactInfoEvent",
value:function addContactInfoEvent(event){if(!this.enableReporting)return;this.pendingEvents.push(event)}},{key:"setEnvironment",value:function setEnvironment(environment){this.environmentName=environment.name||"";this.defaultOptions=environment.optVals}},{key:"buildEvent",value:function buildEvent(cookieName,value){var event={"event":"cookieChanged","dt":Date.now()};event[_src_urlProcessorSandbox_utilities__WEBPACK_IMPORTED_MODULE_0__["utilities"].cookieNameToCookieType(this.clientName,cookieName)]=
value;return event}},{key:"generateReportString",value:function generateReportString(resources){var reportString=JSON.stringify(resources);var input=new Buffer(reportString);var output=new Buffer(_src_lz4_lz4__WEBPACK_IMPORTED_MODULE_1__["utils"].compressBound(input.length));var compressedSize=_src_lz4_lz4__WEBPACK_IMPORTED_MODULE_1__["utils"].compress(input,output);reportString=base64url__WEBPACK_IMPORTED_MODULE_2__["encode"](output.slice(0,compressedSize));return reportString}},{key:"executeCustomReporter",
value:function executeCustomReporter(oldCookies,newCookies){var events=this.buildEvents(oldCookies,newCookies);for(var i=0;i<events.length;i++){var event=events[i];var cookieName=Object.keys(event)[2];this.customReporter(cookieName,event[cookieName])}}}]);return ConsentReporter}()}).call(this,__webpack_require__(4).Buffer)},function(module,__webpack_exports__,__webpack_require__){(function(Buffer){__webpack_require__.d(__webpack_exports__,"a",function(){return Reporter});var _utilities__WEBPACK_IMPORTED_MODULE_0__=
__webpack_require__(2);var _src_reporterBeaconEvent__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36);var _src_lz4_lz4__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5);var _src_lz4_lz4__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_src_lz4_lz4__WEBPACK_IMPORTED_MODULE_2__);var base64url__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(12);var base64url__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(base64url__WEBPACK_IMPORTED_MODULE_3__);function _classCallCheck(instance,
Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,
protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var Reporter=function(){function Reporter(imageReference,clientId,publishPath,enforceMode,gatewayVersion,reportingEnabled,performanceEnabled,options,nexusDomain,filterRegex,environment,sendBeaconReportingDisabled,sendBeacon){_classCallCheck(this,
Reporter);this.imageReference=imageReference;this.clientId=clientId;this.publishPath=publishPath;this.enforceMode=enforceMode;this.gatewayVersion=gatewayVersion;this.reportingEnabled=reportingEnabled;this.performanceEnabled=performanceEnabled;this.nexusDomain=nexusDomain;this.filterRegex=filterRegex;this.sendBeaconReportingDisabled=sendBeaconReportingDisabled;this.sendBeacon=sendBeacon;_defineProperty(this,"instanceId",((1+Math.random())*268435456|0).toString(36));_defineProperty(this,"unreportedResources",
[]);_defineProperty(this,"reportedResources",[]);_defineProperty(this,"beaconCounter",0);_defineProperty(this,"privacyCookies",{});_defineProperty(this,"stats",[]);_defineProperty(this,"options",{maxUrlSize:32E3,reportInterval:2500,requestCount:1,resourceSize:25});_defineProperty(this,"environmentName",void 0);_defineProperty(this,"REPORT_STRING_BUFFER",50);this.filterRegex=filterRegex||/a^/;if(options)this.setOptions(options);this.setEnvironment(environment);this.startTimer()}_createClass(Reporter,
[{key:"sendBillingBeacon",value:function sendBillingBeacon(resource){var billingBeacon=this.generateReportString([resource]);return this.beacon(billingBeacon.reportString,billingBeacon.rawLength)}},{key:"generateRawReportString",value:function generateRawReportString(resources){var report=new _src_reporterBeaconEvent__WEBPACK_IMPORTED_MODULE_1__["a"]("1.0.0",this.gatewayVersion,this.clientId,this.publishPath,this.instanceId,this.beaconCounter,this.enforceMode?"enforce":"observe",this.privacyCookies,
this.environmentName);report.requests=resources;return JSON.stringify(report)}},{key:"generateReportString",value:function generateReportString(resources){var reportString=this.generateRawReportString(resources);var stat={};stat.rawLength=reportString.length;var input=new Buffer(reportString);var output=new Buffer(_src_lz4_lz4__WEBPACK_IMPORTED_MODULE_2__["utils"].compressBound(input.length));var compressedSize=_src_lz4_lz4__WEBPACK_IMPORTED_MODULE_2__["utils"].compress(input,output);reportString=
base64url__WEBPACK_IMPORTED_MODULE_3__["encode"](output.slice(0,compressedSize));stat.compressedLength=reportString.length;this.stats.push(stat);return{reportString:reportString,rawLength:stat.rawLength}}},{key:"doReport",value:function doReport(){var overCapacityResources=[],requests=0;var beacons=[];if(!(this.reportingEnabled===false||this.unreportedResources.length===0))if(this.performanceEnabled)while(this.unreportedResources.length>0&&requests<this.options.requestCount){var reportSlice=this.unreportedResources.splice(0,
this.options.resourceSize);var sliceContainer=[];sliceContainer.push(reportSlice);while(sliceContainer.length>0){var slice=sliceContainer.pop();var _this$generateReportS=this.generateReportString(slice),reportString=_this$generateReportS.reportString,rawLength=_this$generateReportS.rawLength;if(reportString.length+this.REPORT_STRING_BUFFER<this.options.maxUrlSize){beacons.push(this.beacon(reportString,rawLength));this.reportedResources=this.reportedResources.concat(slice)}else{var sliceHalf=slice.splice(0,
Math.ceil(slice.length/2));sliceContainer.push(slice);sliceContainer.push(sliceHalf)}}if(this.stats.length>0)this.stats[this.stats.length-1].written=true;requests++}else while(this.unreportedResources.length>0){var _this$generateReportS2=this.generateReportString(this.unreportedResources),_reportString=_this$generateReportS2.reportString,_rawLength=_this$generateReportS2.rawLength;if(_reportString.length+this.REPORT_STRING_BUFFER<this.options.maxUrlSize){beacons.push(this.beacon(_reportString,_rawLength));
this.reportedResources=this.reportedResources.concat(this.unreportedResources);this.unreportedResources=overCapacityResources;overCapacityResources=[];if(this.stats.length>0)this.stats[this.stats.length-1].written=true}else overCapacityResources.push(this.unreportedResources.pop())}return beacons}},{key:"beacon",value:function beacon(data,rawLength){var Img=this.imageReference;var beaconRootUrl="//"+this.nexusDomain+"/privacy/v1/b/1.gif";var encodedBeaconURL=beaconRootUrl+"?"+"n\x3d"+this.beaconCounter++ +
"\x26c\x3d"+this.clientId+"\x26i\x3d"+this.instanceId;if(this.publishPath)encodedBeaconURL+="\x26p\x3d"+encodeURIComponent(this.publishPath);encodedBeaconURL+="\x26s\x3d"+rawLength+"\x26d\x3d"+data;if(!this.sendBeaconReportingDisabled&&!_utilities__WEBPACK_IMPORTED_MODULE_0__["a"].isIE&&typeof this.sendBeacon==="function")this.sendBeacon(encodedBeaconURL,data);else{var beacon=new Img;beacon.src=encodedBeaconURL}return encodedBeaconURL}},{key:"startTimer",value:function startTimer(){var self=this;
if(this.reportingEnabled){this.doReport();return setTimeout(function(){self.startTimer()},this.options.reportInterval)}}},{key:"addResource",value:function addResource(resource){if(this.reportingEnabled&&!this.filter(resource.destination)){var addedResource=resource;if(addedResource["source"])addedResource["source"]=resource["source"].substr(0,30);if(addedResource["type"])addedResource["type"]=resource["type"].substr(0,30);if(addedResource["status"])addedResource["status"]=resource["status"].substr(0,
30);this.unreportedResources.push(addedResource)}}},{key:"filter",value:function filter(url){return this.filterRegex.test(url)||/^data:/g.test(url)}},{key:"setCookies",value:function setCookies(cookies){this.privacyCookies=cookies}},{key:"setOptions",value:function setOptions(options){for(var p in options)if(this.options.hasOwnProperty(p))this.options[p]=options[p]}},{key:"setEnvironment",value:function setEnvironment(environment){this.environmentName=environment?environment.name:"none"}}]);return Reporter}()}).call(this,
__webpack_require__(4).Buffer)},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,"a",function(){return ReporterBeaconEvent});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var ReporterBeaconEvent=
function ReporterBeaconEvent(version,gateway,clientId,publishPath,instanceId,packet,mode,cookies,environment){_classCallCheck(this,ReporterBeaconEvent);this.version=version;this.gateway=gateway;this.clientId=clientId;this.publishPath=publishPath;this.instanceId=instanceId;this.packet=packet;this.mode=mode;this.cookies=cookies;this.environment=environment;_defineProperty(this,"requests",void 0)}},function(module,exports,__webpack_require__){module.exports=typeof Array.from==="function"?Array.from:
__webpack_require__(77)},function(module,exports,__webpack_require__){__webpack_require__(39);__webpack_require__(11);module.exports=__webpack_require__(64)},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);var mutation_observer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(40);var mutation_observer__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(mutation_observer__WEBPACK_IMPORTED_MODULE_0__);var core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_1__=
__webpack_require__(41);var core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_assign__WEBPACK_IMPORTED_MODULE_1__);var _urlProcessorSandbox_utilities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0);(function(window,document){var html=document.documentElement;var define=function define(object,property,getter){if(typeof object[property]==="undefined")Object.defineProperty(object,property,{get:getter})};define(window,"innerWidth",
function(){return html.clientWidth});define(window,"innerHeight",function(){return html.clientHeight});define(window,"scrollX",function(){return window.pageXOffset||html.scrollLeft});define(window,"scrollY",function(){return window.pageYOffset||html.scrollTop});define(document,"width",function(){var htmlMax,documentMax;if(document.body)documentMax=Math.max(document.body.scrollWidth,document.body.offsetWidth,document.body.clientWidth);if(html)htmlMax=Math.max(html.scrollWidth,html.offsetWidth,html.clientWidth);
var width=Math.max(documentMax,htmlMax);return width!==width?undefined:width});define(document,"height",function(){var htmlMax,documentMax;if(document.body)documentMax=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.body.clientHeight);if(html)htmlMax=Math.max(html.scrollHeight,html.offsetHeight,html.clientHeight);var height=Math.max(documentMax,htmlMax);return height!==height?undefined:height});return define})(window,document);if(typeof Range.prototype.createContextualFragment===
"undefined")Range.prototype.createContextualFragment=function(){var doc=document.implementation.createHTMLDocument(""),range=doc.createRange(),body=doc.body;return function(html){body.innerHTML=html;range.selectNodeContents(body);return range.extractContents()}}();if(Object.isExtensible(Object)&&!Object.prototype.enswatch)Object.defineProperty(Object.prototype,"enswatch",_urlProcessorSandbox_utilities__WEBPACK_IMPORTED_MODULE_2__["utilities"].watcher)},function(module,exports){var MutationObserver=
window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;var WeakMap=window.WeakMap;if(typeof WeakMap==="undefined"){var defineProperty=Object.defineProperty;var counter=Date.now()%1E9;WeakMap=function WeakMap(){this.name="__st"+(Math.random()*1E9>>>0)+(counter++ +"__")};WeakMap.prototype={set:function set(key,value){var entry=key[this.name];if(entry&&entry[0]===key)entry[1]=value;else defineProperty(key,this.name,{value:[key,value],writable:true});return this},get:function get(key){var entry;
return(entry=key[this.name])&&entry[0]===key?entry[1]:undefined},"delete":function _delete(key){var entry=key[this.name];if(!entry)return false;var hasValue=entry[0]===key;entry[0]=entry[1]=undefined;return hasValue},has:function has(key){var entry=key[this.name];if(!entry)return false;return entry[0]===key}}}var registrationsTable=new WeakMap;var setImmediate=window.msSetImmediate;if(!setImmediate){var setImmediateQueue=[];var sentinel=String(Math.random());window.addEventListener("message",function(e){if(e.data===
sentinel){var queue=setImmediateQueue;setImmediateQueue=[];queue.forEach(function(func){func()})}});setImmediate=function setImmediate(func){setImmediateQueue.push(func);window.postMessage(sentinel,"*")}}var isScheduled=false;var scheduledObservers=[];function scheduleCallback(observer){scheduledObservers.push(observer);if(!isScheduled){isScheduled=true;setImmediate(dispatchCallbacks)}}function wrapIfNeeded(node){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(node)||node}function dispatchCallbacks(){isScheduled=
false;var observers=scheduledObservers;scheduledObservers=[];observers.sort(function(o1,o2){return o1.uid_-o2.uid_});var anyNonEmpty=false;observers.forEach(function(observer){var queue=observer.takeRecords();removeTransientObserversFor(observer);if(queue.length){observer.callback_(queue,observer);anyNonEmpty=true}});if(anyNonEmpty)dispatchCallbacks()}function removeTransientObserversFor(observer){observer.nodes_.forEach(function(node){var registrations=registrationsTable.get(node);if(!registrations)return;
registrations.forEach(function(registration){if(registration.observer===observer)registration.removeTransientObservers()})})}function forEachAncestorAndObserverEnqueueRecord(target,callback){for(var node=target;node;node=node.parentNode){var registrations=registrationsTable.get(node);if(registrations)for(var j=0;j<registrations.length;j++){var registration=registrations[j];var options=registration.options;if(node!==target&&!options.subtree)continue;var record=callback(options);if(record)registration.enqueue(record)}}}
var uidCounter=0;function JsMutationObserver(callback){this.callback_=callback;this.nodes_=[];this.records_=[];this.uid_=++uidCounter}JsMutationObserver.prototype={observe:function observe(target,options){target=wrapIfNeeded(target);if(!options.childList&&!options.attributes&&!options.characterData||options.attributeOldValue&&!options.attributes||options.attributeFilter&&options.attributeFilter.length&&!options.attributes||options.characterDataOldValue&&!options.characterData)throw new SyntaxError;
var registrations=registrationsTable.get(target);if(!registrations)registrationsTable.set(target,registrations=[]);var registration;for(var i=0;i<registrations.length;i++)if(registrations[i].observer===this){registration=registrations[i];registration.removeListeners();registration.options=options;break}if(!registration){registration=new Registration(this,target,options);registrations.push(registration);this.nodes_.push(target)}registration.addListeners()},disconnect:function disconnect(){this.nodes_.forEach(function(node){var registrations=
registrationsTable.get(node);for(var i=0;i<registrations.length;i++){var registration=registrations[i];if(registration.observer===this){registration.removeListeners();registrations.splice(i,1);break}}},this);this.records_=[]},takeRecords:function takeRecords(){var copyOfRecords=this.records_;this.records_=[];return copyOfRecords}};function MutationRecord(type,target){this.type=type;this.target=target;this.addedNodes=[];this.removedNodes=[];this.previousSibling=null;this.nextSibling=null;this.attributeName=
null;this.attributeNamespace=null;this.oldValue=null}function copyMutationRecord(original){var record=new MutationRecord(original.type,original.target);record.addedNodes=original.addedNodes.slice();record.removedNodes=original.removedNodes.slice();record.previousSibling=original.previousSibling;record.nextSibling=original.nextSibling;record.attributeName=original.attributeName;record.attributeNamespace=original.attributeNamespace;record.oldValue=original.oldValue;return record}var currentRecord,recordWithOldValue;
function getRecord(type,target){return currentRecord=new MutationRecord(type,target)}function getRecordWithOldValue(oldValue){if(recordWithOldValue)return recordWithOldValue;recordWithOldValue=copyMutationRecord(currentRecord);recordWithOldValue.oldValue=oldValue;return recordWithOldValue}function clearRecords(){currentRecord=recordWithOldValue=undefined}function recordRepresentsCurrentMutation(record){return record===recordWithOldValue||record===currentRecord}function selectRecord(lastRecord,newRecord){if(lastRecord===
newRecord)return lastRecord;if(recordWithOldValue&&recordRepresentsCurrentMutation(lastRecord))return recordWithOldValue;return null}function Registration(observer,target,options){this.observer=observer;this.target=target;this.options=options;this.transientObservedNodes=[]}Registration.prototype={enqueue:function enqueue(record){var records=this.observer.records_;var length=records.length;if(records.length>0){var lastRecord=records[length-1];var recordToReplaceLast=selectRecord(lastRecord,record);
if(recordToReplaceLast){records[length-1]=recordToReplaceLast;return}}else scheduleCallback(this.observer);records[length]=record},addListeners:function addListeners(){this.addListeners_(this.target)},addListeners_:function addListeners_(node){var options=this.options;if(options.attributes)node.addEventListener("DOMAttrModified",this,true);if(options.characterData)node.addEventListener("DOMCharacterDataModified",this,true);if(options.childList)node.addEventListener("DOMNodeInserted",this,true);if(options.childList||
options.subtree)node.addEventListener("DOMNodeRemoved",this,true)},removeListeners:function removeListeners(){this.removeListeners_(this.target)},removeListeners_:function removeListeners_(node){var options=this.options;if(options.attributes)node.removeEventListener("DOMAttrModified",this,true);if(options.characterData)node.removeEventListener("DOMCharacterDataModified",this,true);if(options.childList)node.removeEventListener("DOMNodeInserted",this,true);if(options.childList||options.subtree)node.removeEventListener("DOMNodeRemoved",
this,true)},addTransientObserver:function addTransientObserver(node){if(node===this.target)return;this.addListeners_(node);this.transientObservedNodes.push(node);var registrations=registrationsTable.get(node);if(!registrations)registrationsTable.set(node,registrations=[]);registrations.push(this)},removeTransientObservers:function removeTransientObservers(){var transientObservedNodes=this.transientObservedNodes;this.transientObservedNodes=[];transientObservedNodes.forEach(function(node){this.removeListeners_(node);
var registrations=registrationsTable.get(node);for(var i=0;i<registrations.length;i++)if(registrations[i]===this){registrations.splice(i,1);break}},this)},handleEvent:function handleEvent(e){e.stopImmediatePropagation();switch(e.type){case "DOMAttrModified":var name=e.attrName;var namespace=e.relatedNode.namespaceURI;var target=e.target;var record=new getRecord("attributes",target);record.attributeName=name;record.attributeNamespace=namespace;var oldValue=null;if(!(typeof MutationEvent!=="undefined"&&
e.attrChange===MutationEvent.ADDITION))oldValue=e.prevValue;forEachAncestorAndObserverEnqueueRecord(target,function(options){if(!options.attributes)return;if(options.attributeFilter&&options.attributeFilter.length&&options.attributeFilter.indexOf(name)===-1&&options.attributeFilter.indexOf(namespace)===-1)return;if(options.attributeOldValue)return getRecordWithOldValue(oldValue);return record});break;case "DOMCharacterDataModified":var target=e.target;var record=getRecord("characterData",target);
var oldValue=e.prevValue;forEachAncestorAndObserverEnqueueRecord(target,function(options){if(!options.characterData)return;if(options.characterDataOldValue)return getRecordWithOldValue(oldValue);return record});break;case "DOMNodeRemoved":this.addTransientObserver(e.target);case "DOMNodeInserted":var target=e.relatedNode;var changedNode=e.target;var addedNodes,removedNodes;if(e.type==="DOMNodeInserted"){addedNodes=[changedNode];removedNodes=[]}else{addedNodes=[];removedNodes=[changedNode]}var previousSibling=
changedNode.previousSibling;var nextSibling=changedNode.nextSibling;var record=getRecord("childList",target);record.addedNodes=addedNodes;record.removedNodes=removedNodes;record.previousSibling=previousSibling;record.nextSibling=nextSibling;forEachAncestorAndObserverEnqueueRecord(target,function(options){if(!options.childList)return;return record})}clearRecords()}};if(!MutationObserver)MutationObserver=JsMutationObserver;module.exports=MutationObserver},function(module,exports,__webpack_require__){var $=
__webpack_require__(42);var assign=__webpack_require__(61);$({target:"Object",stat:true,forced:Object.assign!==assign},{assign:assign})},function(module,exports,__webpack_require__){function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}
var global=__webpack_require__(3);var getOwnPropertyDescriptor=__webpack_require__(18).f;var createNonEnumerableProperty=__webpack_require__(10);var redefine=__webpack_require__(45);var setGlobal=__webpack_require__(14);var copyConstructorProperties=__webpack_require__(52);var isForced=__webpack_require__(60);module.exports=function(options,source){var TARGET=options.target;var GLOBAL=options.global;var STATIC=options.stat;var FORCED,target,key,targetProperty,sourceProperty,descriptor;if(GLOBAL)target=
global;else if(STATIC)target=global[TARGET]||setGlobal(TARGET,{});else target=(global[TARGET]||{}).prototype;if(target)for(key in source){sourceProperty=source[key];if(options.noTargetGet){descriptor=getOwnPropertyDescriptor(target,key);targetProperty=descriptor&&descriptor.value}else targetProperty=target[key];FORCED=isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced);if(!FORCED&&targetProperty!==undefined){if(_typeof(sourceProperty)===_typeof(targetProperty))continue;copyConstructorProperties(sourceProperty,
targetProperty)}if(options.sham||targetProperty&&targetProperty.sham)createNonEnumerableProperty(sourceProperty,"sham",true);redefine(target,key,sourceProperty,options)}}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var global=__webpack_require__(3);var isObject=__webpack_require__(9);var document=global.document;var EXISTS=isObject(document)&&isObject(document.createElement);module.exports=
function(it){return EXISTS?document.createElement(it):{}}},function(module,exports,__webpack_require__){var global=__webpack_require__(3);var createNonEnumerableProperty=__webpack_require__(10);var has=__webpack_require__(8);var setGlobal=__webpack_require__(14);var inspectSource=__webpack_require__(27);var InternalStateModule=__webpack_require__(46);var getInternalState=InternalStateModule.get;var enforceInternalState=InternalStateModule.enforce;var TEMPLATE=String(String).split("String");(module.exports=
function(O,key,value,options){var unsafe=options?!!options.unsafe:false;var simple=options?!!options.enumerable:false;var noTargetGet=options?!!options.noTargetGet:false;if(typeof value=="function"){if(typeof key=="string"&&!has(value,"name"))createNonEnumerableProperty(value,"name",key);enforceInternalState(value).source=TEMPLATE.join(typeof key=="string"?key:"")}if(O===global){if(simple)O[key]=value;else setGlobal(key,value);return}else if(!unsafe)delete O[key];else if(!noTargetGet&&O[key])simple=
true;if(simple)O[key]=value;else createNonEnumerableProperty(O,key,value)})(Function.prototype,"toString",function toString(){return typeof this=="function"&&getInternalState(this).source||inspectSource(this)})},function(module,exports,__webpack_require__){var NATIVE_WEAK_MAP=__webpack_require__(47);var global=__webpack_require__(3);var isObject=__webpack_require__(9);var createNonEnumerableProperty=__webpack_require__(10);var objectHas=__webpack_require__(8);var sharedKey=__webpack_require__(48);
var hiddenKeys=__webpack_require__(29);var WeakMap=global.WeakMap;var set,get,has;var enforce=function enforce(it){return has(it)?get(it):set(it,{})};var getterFor=function getterFor(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required");return state}};if(NATIVE_WEAK_MAP){var store=new WeakMap;var wmget=store.get;var wmhas=store.has;var wmset=store.set;set=function set(it,metadata){wmset.call(store,it,metadata);
return metadata};get=function get(it){return wmget.call(store,it)||{}};has=function has(it){return wmhas.call(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=true;set=function set(it,metadata){createNonEnumerableProperty(it,STATE,metadata);return metadata};get=function get(it){return objectHas(it,STATE)?it[STATE]:{}};has=function has(it){return objectHas(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:enforce,getterFor:getterFor}},function(module,exports,__webpack_require__){var global=
__webpack_require__(3);var inspectSource=__webpack_require__(27);var WeakMap=global.WeakMap;module.exports=typeof WeakMap==="function"&&/native code/.test(inspectSource(WeakMap))},function(module,exports,__webpack_require__){var shared=__webpack_require__(49);var uid=__webpack_require__(51);var keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},function(module,exports,__webpack_require__){var IS_PURE=__webpack_require__(50);var store=__webpack_require__(28);
(module.exports=function(key,value){return store[key]||(store[key]=value!==undefined?value:{})})("versions",[]).push({version:"3.6.5",mode:IS_PURE?"pure":"global",copyright:"\u00a9 2020 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports=false},function(module,exports){var id=0;var postfix=Math.random();module.exports=function(key){return"Symbol("+String(key===undefined?"":key)+")_"+(++id+postfix).toString(36)}},function(module,exports,__webpack_require__){var has=__webpack_require__(8);
var ownKeys=__webpack_require__(53);var getOwnPropertyDescriptorModule=__webpack_require__(18);var definePropertyModule=__webpack_require__(25);module.exports=function(target,source){var keys=ownKeys(source);var defineProperty=definePropertyModule.f;var getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f;for(var i=0;i<keys.length;i++){var key=keys[i];if(!has(target,key))defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},function(module,exports,__webpack_require__){var getBuiltIn=
__webpack_require__(54);var getOwnPropertyNamesModule=__webpack_require__(56);var getOwnPropertySymbolsModule=__webpack_require__(33);var anObject=__webpack_require__(26);module.exports=getBuiltIn("Reflect","ownKeys")||function ownKeys(it){var keys=getOwnPropertyNamesModule.f(anObject(it));var getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys}},function(module,exports,__webpack_require__){var path=__webpack_require__(55);var global=
__webpack_require__(3);var aFunction=function aFunction(variable){return typeof variable=="function"?variable:undefined};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},function(module,exports,__webpack_require__){var global=__webpack_require__(3);module.exports=global},function(module,exports,__webpack_require__){var internalObjectKeys=
__webpack_require__(30);var enumBugKeys=__webpack_require__(32);var hiddenKeys=enumBugKeys.concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return internalObjectKeys(O,hiddenKeys)}},function(module,exports,__webpack_require__){var toIndexedObject=__webpack_require__(13);var toLength=__webpack_require__(58);var toAbsoluteIndex=__webpack_require__(59);var createMethod=function createMethod(IS_INCLUDES){return function($this,el,fromIndex){var O=toIndexedObject($this);
var length=toLength(O.length);var index=toAbsoluteIndex(fromIndex,length);var value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(true),indexOf:createMethod(false)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31);var min=Math.min;module.exports=function(argument){return argument>
0?min(toInteger(argument),9007199254740991):0}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(31);var max=Math.max;var min=Math.min;module.exports=function(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min(integer,length)}},function(module,exports,__webpack_require__){var fails=__webpack_require__(7);var replacement=/#|\.prototype\./;var isForced=function isForced(feature,detection){var value=data[normalize(feature)];return value==
POLYFILL?true:value==NATIVE?false:typeof detection=="function"?fails(detection):!!detection};var normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()};var data=isForced.data={};var NATIVE=isForced.NATIVE="N";var POLYFILL=isForced.POLYFILL="P";module.exports=isForced},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(6);var fails=__webpack_require__(7);var objectKeys=__webpack_require__(62);var getOwnPropertySymbolsModule=
__webpack_require__(33);var propertyIsEnumerableModule=__webpack_require__(19);var toObject=__webpack_require__(63);var IndexedObject=__webpack_require__(21);var nativeAssign=Object.assign;var defineProperty=Object.defineProperty;module.exports=!nativeAssign||fails(function(){if(DESCRIPTORS&&nativeAssign({b:1},nativeAssign(defineProperty({},"a",{enumerable:true,get:function get(){defineProperty(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var A={};var B={};var symbol=Symbol();
var alphabet="abcdefghijklmnopqrst";A[symbol]=7;alphabet.split("").forEach(function(chr){B[chr]=chr});return nativeAssign({},A)[symbol]!=7||objectKeys(nativeAssign({},B)).join("")!=alphabet})?function assign(target,source){var T=toObject(target);var argumentsLength=arguments.length;var index=1;var getOwnPropertySymbols=getOwnPropertySymbolsModule.f;var propertyIsEnumerable=propertyIsEnumerableModule.f;while(argumentsLength>index){var S=IndexedObject(arguments[index++]);var keys=getOwnPropertySymbols?
objectKeys(S).concat(getOwnPropertySymbols(S)):objectKeys(S);var length=keys.length;var j=0;var key;while(length>j){key=keys[j++];if(!DESCRIPTORS||propertyIsEnumerable.call(S,key))T[key]=S[key]}}return T}:nativeAssign},function(module,exports,__webpack_require__){var internalObjectKeys=__webpack_require__(30);var enumBugKeys=__webpack_require__(32);module.exports=Object.keys||function keys(O){return internalObjectKeys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var requireObjectCoercible=
__webpack_require__(22);module.exports=function(argument){return Object(requireObjectCoercible(argument))}},function(module,exports,__webpack_require__){var _require=__webpack_require__(0),utilities=_require.utilities;var _require2=__webpack_require__(78),Gateway=_require2.Gateway;var _require3=__webpack_require__(11),gatewayConfig=_require3.gatewayConfig;if(document.elementFromPoint&&!utilities.isIE8OrLower()){ensBrowserSupported=true;if(typeof Bootstrapper==="undefined")Bootstrapper={};if(Bootstrapper.hasOwnProperty("privacy")&&
typeof Bootstrapper.privacy.onBeforeInit==="function")Bootstrapper.privacy.onBeforeInit(ensClientConfig);gateway=new Gateway(ensClientConfig,gatewayConfig);if(gateway.isInitialized){Bootstrapper.gateway={closeBanner:gateway.closeBanner,environment:gateway.environment,environmentExists:gateway.environmentManager.environmentExists,getActiveEnvironment:gateway.environmentManager.getActiveEnvironment,getActiveLocale:gateway.environmentManager.getActiveLocale,getAvailableLocales:gateway.environmentManager.getAvailableLocales,
getCookie:gateway.consentCookies.getCookie,getCookieTypes:gateway.consentCookies.getCookieTypes,getVersion:gateway.getVersion,openBanner:gateway.openBanner,openModal:gateway.openModal,openDoNotSellModal:gateway.openDoNotSellModal,openRequestDataModal:gateway.openRequestDataModal,openDeleteDataModal:gateway.openDeleteDataModal,sendCCPAEvent:gateway.sendCCPAEvent,registerEnvironmentChangeCallback:gateway.environmentManager.registerEnvironmentChangeCallback,getFilteredList:gateway.getFilteredList,getList:gateway.getList,
isWhitelist:gateway.isWhitelist,resetEnvironment:gateway.resetEnvironment,setCookie:gateway.consentCookies.setCookie,setCookies:gateway.consentCookies.setCookies,setCookieDomain:gateway.consentCookies.setCookieDomain,setEnvironment:gateway.environmentManager.setEnvironment,setOpenModal:gateway.setOpenModal,setOpenBanner:gateway.setOpenBanner,updatePreferences:gateway.updatePreferences,allowTag:gateway.allowTag,blockTag:gateway.blockTag,clearTags:gateway.clearTags};if(Bootstrapper.hasOwnProperty("privacy")&&
typeof Bootstrapper.privacy.onAfterInit==="function")Bootstrapper.privacy.onAfterInit(ensClientConfig)}else Bootstrapper.gateway={}}else ensBrowserSupported=false;if(!ensBrowserSupported&&ensClientConfig.browserNotSupportedURL&&ensClientConfig.browserNotSupportedURL!=="")window.location=ensClientConfig.browserNotSupportedURL},function(module,exports,__webpack_require__){exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];
var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var validLen=b64.indexOf("\x3d");if(validLen===-1)validLen=len;var placeHoldersLen=validLen===len?
0:4-validLen%4;return[validLen,placeHoldersLen]}function byteLength(b64){var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function toByteArray(b64){var tmp;var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];var arr=new Arr(_byteLength(b64,validLen,placeHoldersLen));var curByte=0;var len=placeHoldersLen>
0?validLen-4:validLen;var i;for(i=0;i<len;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[curByte++]=tmp>>16&255;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}if(placeHoldersLen===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[curByte++]=tmp&255}if(placeHoldersLen===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>
2;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(uint8[i+2]&255);output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var parts=[];var maxChunkLength=16383;for(var i=
0,len2=len-extraBytes;i<len2;i+=maxChunkLength)parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength));if(extraBytes===1){tmp=uint8[len-1];parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"\x3d\x3d")}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"\x3d")}return parts.join("")}},function(module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-
1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8);m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8);if(e===0)e=1-eBias;else if(e===eMax)return m?NaN:(s?-1:1)*Infinity;else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=
nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1)value+=rt/c;else value+=rt*Math.pow(2,1-eBias);if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,
mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8);e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=s*128}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return toString.call(arr)=="[object Array]"}},function(module,exports,__webpack_require__){(function(Buffer){exports.MAGICNUMBER=407708164;exports.MAGICNUMBER_BUFFER=new Buffer(4);
exports.MAGICNUMBER_BUFFER.writeUInt32LE(exports.MAGICNUMBER,0,false);exports.EOS=0;exports.EOS_BUFFER=new Buffer(4);exports.EOS_BUFFER.writeUInt32LE(exports.EOS,0,false);exports.VERSION=1;exports.MAGICNUMBER_SKIPPABLE=407710288;exports.blockMaxSizes=[null,null,null,null,64<<10,256<<10,1<<20,4<<20];exports.extension=".lz4";exports.STATES={MAGIC:0,DESCRIPTOR:1,SIZE:2,DICTID:3,DESCRIPTOR_CHECKSUM:4,DATABLOCK_SIZE:5,DATABLOCK_DATA:6,DATABLOCK_CHECKSUM:7,DATABLOCK_UNCOMPRESS:8,DATABLOCK_COMPRESS:9,CHECKSUM:10,
CHECKSUM_UPDATE:11,EOS:90,SKIP_SIZE:101,SKIP_DATA:102};exports.SIZES={MAGIC:4,DESCRIPTOR:2,SIZE:8,DICTID:4,DESCRIPTOR_CHECKSUM:1,DATABLOCK_SIZE:4,DATABLOCK_CHECKSUM:4,CHECKSUM:4,EOS:4,SKIP_SIZE:4};exports.utils=__webpack_require__(69)}).call(this,__webpack_require__(4).Buffer)},function(module,exports,__webpack_require__){var XXH=__webpack_require__(70).h32;var CHECKSUM_SEED=0;exports.descriptorChecksum=function(d){return XXH(d,CHECKSUM_SEED).toNumber()>>8&255};exports.blockChecksum=function(d){return XXH(d,
CHECKSUM_SEED).toNumber()};exports.streamChecksum=function(d,c){if(d===null)return c.digest().toNumber();if(c===null)c=XXH(CHECKSUM_SEED);return c.update(d)};exports.readUInt32LE=function(buffer,offset){var val=buffer[offset]|buffer[offset+1]<<8|buffer[offset+2]<<16|buffer[offset+3]<<24;return val>>>0};var uint32=__webpack_require__(15).UINT32;if(!Math.imul)Math.imul=function imul(a,b){var ah=a>>>16;var al=a&65535;var bh=b>>>16;var bl=b&65535;return al*bl+(ah*bl+al*bh<<16)|0};exports.uncompress=function(input,
output,sIdx,eIdx){sIdx=sIdx||0;eIdx=eIdx||input.length-sIdx;for(var i=sIdx,n=eIdx,j=0;i<n;){var token=input[i++];var literals_length=token>>4;if(literals_length>0){var l=literals_length+240;while(l===255){l=input[i++];literals_length+=l}var end=i+literals_length;while(i<end)output[j++]=input[i++];if(i===n)return j}var offset=input[i++]|input[i++]<<8;if(offset===0||offset>j)return-(i-2);var match_length=token&15;l=match_length+240;while(l===255){l=input[i++];match_length+=l}var pos=j-offset;end=j+
match_length+4;while(j<end)output[j++]=output[pos++]}return j};var maxInputSize=2113929216,minMatch=4,hashLog=16,hashShift=minMatch*8-hashLog,hashSize=1<<hashLog,copyLength=8,lastLiterals=5,mfLimit=copyLength+minMatch,skipStrength=6,mlBits=4,mlMask=(1<<mlBits)-1,runBits=8-mlBits,runMask=(1<<runBits)-1,hasher=2654435761;exports.compressBound=function(isize){return isize>maxInputSize?0:isize+isize/255+16|0};exports.compress=function(src,dst,sIdx,eIdx){var hashTable=new Array(hashSize);for(var i=0;i<
hashSize;i++)hashTable[i]=0;return compressBlock(src,dst,0,hashTable,sIdx||0,eIdx||dst.length)};exports.compressHC=exports.compress;exports.compressDependent=compressBlock;function compressBlock(src,dst,pos,hashTable,sIdx,eIdx){var dpos=sIdx;var dlen=eIdx-sIdx;var anchor=0;if(src.length>=maxInputSize)throw new Error("input too large");if(src.length>mfLimit){var n=exports.compressBound(src.length);if(dlen<n)throw Error("output too small: "+dlen+" \x3c "+n);var step=1,findMatchAttempts=(1<<skipStrength)+
3,srcLength=src.length-mfLimit;while(pos+minMatch<srcLength){var sequenceLowBits=src[pos+1]<<8|src[pos];var sequenceHighBits=src[pos+3]<<8|src[pos+2];var hash=Math.imul(sequenceLowBits|sequenceHighBits<<16,hasher)>>>hashShift;var ref=hashTable[hash]-1;hashTable[hash]=pos+1;if(ref<0||pos-ref>>>16>0||(src[ref+3]<<8|src[ref+2])!=sequenceHighBits||(src[ref+1]<<8|src[ref])!=sequenceLowBits){step=findMatchAttempts++>>skipStrength;pos+=step;continue}findMatchAttempts=(1<<skipStrength)+3;var literals_length=
pos-anchor;var offset=pos-ref;pos+=minMatch;ref+=minMatch;var match_length=pos;while(pos<srcLength&&src[pos]==src[ref]){pos++;ref++}match_length=pos-match_length;var token=match_length<mlMask?match_length:mlMask;if(literals_length>=runMask){dst[dpos++]=(runMask<<mlBits)+token;for(var len=literals_length-runMask;len>254;len-=255)dst[dpos++]=255;dst[dpos++]=len}else dst[dpos++]=(literals_length<<mlBits)+token;for(var i=0;i<literals_length;i++)dst[dpos++]=src[anchor+i];dst[dpos++]=offset;dst[dpos++]=
offset>>8;if(match_length>=mlMask){match_length-=mlMask;while(match_length>=255){match_length-=255;dst[dpos++]=255}dst[dpos++]=match_length}anchor=pos}}if(anchor==0)return 0;literals_length=src.length-anchor;if(literals_length>=runMask){dst[dpos++]=runMask<<mlBits;for(var ln=literals_length-runMask;ln>254;ln-=255)dst[dpos++]=255;dst[dpos++]=ln}else dst[dpos++]=literals_length<<mlBits;pos=anchor;while(pos<src.length)dst[dpos++]=src[pos++];return dpos}},function(module,exports,__webpack_require__){module.exports=
{h32:__webpack_require__(71),h64:__webpack_require__(74)}},function(module,exports,__webpack_require__){(function(Buffer){var UINT32=__webpack_require__(15).UINT32;UINT32.prototype.xxh_update=function(low,high){var b00=PRIME32_2._low;var b16=PRIME32_2._high;var c16,c00;c00=low*b00;c16=c00>>>16;c16+=high*b00;c16&=65535;c16+=low*b16;var a00=this._low+(c00&65535);var a16=a00>>>16;a16+=this._high+(c16&65535);var v=a16<<16|a00&65535;v=v<<13|v>>>19;a00=v&65535;a16=v>>>16;b00=PRIME32_1._low;b16=PRIME32_1._high;
c00=a00*b00;c16=c00>>>16;c16+=a16*b00;c16&=65535;c16+=a00*b16;this._low=c00&65535;this._high=c16&65535};var PRIME32_1=UINT32("2654435761");var PRIME32_2=UINT32("2246822519");var PRIME32_3=UINT32("3266489917");var PRIME32_4=UINT32("668265263");var PRIME32_5=UINT32("374761393");function toUTF8Array(str){var utf8=[];for(var i=0,n=str.length;i<n;i++){var charcode=str.charCodeAt(i);if(charcode<128)utf8.push(charcode);else if(charcode<2048)utf8.push(192|charcode>>6,128|charcode&63);else if(charcode<55296||
charcode>=57344)utf8.push(224|charcode>>12,128|charcode>>6&63,128|charcode&63);else{i++;charcode=65536+((charcode&1023)<<10|str.charCodeAt(i)&1023);utf8.push(240|charcode>>18,128|charcode>>12&63,128|charcode>>6&63,128|charcode&63)}}return new Uint8Array(utf8)}function XXH(){if(arguments.length==2)return(new XXH(arguments[1])).update(arguments[0]).digest();if(!(this instanceof XXH))return new XXH(arguments[0]);init.call(this,arguments[0])}function init(seed){this.seed=seed instanceof UINT32?seed.clone():
UINT32(seed);this.v1=this.seed.clone().add(PRIME32_1).add(PRIME32_2);this.v2=this.seed.clone().add(PRIME32_2);this.v3=this.seed.clone();this.v4=this.seed.clone().subtract(PRIME32_1);this.total_len=0;this.memsize=0;this.memory=null;return this}XXH.prototype.init=init;XXH.prototype.update=function(input){var isString=typeof input=="string";var isArrayBuffer;if(isString){input=toUTF8Array(input);isString=false;isArrayBuffer=true}if(typeof ArrayBuffer!=="undefined"&&input instanceof ArrayBuffer){isArrayBuffer=
true;input=new Uint8Array(input)}var p=0;var len=input.length;var bEnd=p+len;if(len==0)return this;this.total_len+=len;if(this.memsize==0)if(isString)this.memory="";else if(isArrayBuffer)this.memory=new Uint8Array(16);else this.memory=new Buffer(16);if(this.memsize+len<16){if(isString)this.memory+=input;else if(isArrayBuffer)this.memory.set(input.subarray(0,len),this.memsize);else input.copy(this.memory,this.memsize,0,len);this.memsize+=len;return this}if(this.memsize>0){if(isString)this.memory+=
input.slice(0,16-this.memsize);else if(isArrayBuffer)this.memory.set(input.subarray(0,16-this.memsize),this.memsize);else input.copy(this.memory,this.memsize,0,16-this.memsize);var p32=0;if(isString){this.v1.xxh_update(this.memory.charCodeAt(p32+1)<<8|this.memory.charCodeAt(p32),this.memory.charCodeAt(p32+3)<<8|this.memory.charCodeAt(p32+2));p32+=4;this.v2.xxh_update(this.memory.charCodeAt(p32+1)<<8|this.memory.charCodeAt(p32),this.memory.charCodeAt(p32+3)<<8|this.memory.charCodeAt(p32+2));p32+=4;
this.v3.xxh_update(this.memory.charCodeAt(p32+1)<<8|this.memory.charCodeAt(p32),this.memory.charCodeAt(p32+3)<<8|this.memory.charCodeAt(p32+2));p32+=4;this.v4.xxh_update(this.memory.charCodeAt(p32+1)<<8|this.memory.charCodeAt(p32),this.memory.charCodeAt(p32+3)<<8|this.memory.charCodeAt(p32+2))}else{this.v1.xxh_update(this.memory[p32+1]<<8|this.memory[p32],this.memory[p32+3]<<8|this.memory[p32+2]);p32+=4;this.v2.xxh_update(this.memory[p32+1]<<8|this.memory[p32],this.memory[p32+3]<<8|this.memory[p32+
2]);p32+=4;this.v3.xxh_update(this.memory[p32+1]<<8|this.memory[p32],this.memory[p32+3]<<8|this.memory[p32+2]);p32+=4;this.v4.xxh_update(this.memory[p32+1]<<8|this.memory[p32],this.memory[p32+3]<<8|this.memory[p32+2])}p+=16-this.memsize;this.memsize=0;if(isString)this.memory=""}if(p<=bEnd-16){var limit=bEnd-16;do{if(isString){this.v1.xxh_update(input.charCodeAt(p+1)<<8|input.charCodeAt(p),input.charCodeAt(p+3)<<8|input.charCodeAt(p+2));p+=4;this.v2.xxh_update(input.charCodeAt(p+1)<<8|input.charCodeAt(p),
input.charCodeAt(p+3)<<8|input.charCodeAt(p+2));p+=4;this.v3.xxh_update(input.charCodeAt(p+1)<<8|input.charCodeAt(p),input.charCodeAt(p+3)<<8|input.charCodeAt(p+2));p+=4;this.v4.xxh_update(input.charCodeAt(p+1)<<8|input.charCodeAt(p),input.charCodeAt(p+3)<<8|input.charCodeAt(p+2))}else{this.v1.xxh_update(input[p+1]<<8|input[p],input[p+3]<<8|input[p+2]);p+=4;this.v2.xxh_update(input[p+1]<<8|input[p],input[p+3]<<8|input[p+2]);p+=4;this.v3.xxh_update(input[p+1]<<8|input[p],input[p+3]<<8|input[p+2]);
p+=4;this.v4.xxh_update(input[p+1]<<8|input[p],input[p+3]<<8|input[p+2])}p+=4}while(p<=limit)}if(p<bEnd){if(isString)this.memory+=input.slice(p);else if(isArrayBuffer)this.memory.set(input.subarray(p,bEnd),this.memsize);else input.copy(this.memory,this.memsize,p,bEnd);this.memsize=bEnd-p}return this};XXH.prototype.digest=function(){var input=this.memory;var isString=typeof input=="string";var p=0;var bEnd=this.memsize;var h32,h;var u=new UINT32;if(this.total_len>=16)h32=this.v1.rotl(1).add(this.v2.rotl(7).add(this.v3.rotl(12).add(this.v4.rotl(18))));
else h32=this.seed.clone().add(PRIME32_5);h32.add(u.fromNumber(this.total_len));while(p<=bEnd-4){if(isString)u.fromBits(input.charCodeAt(p+1)<<8|input.charCodeAt(p),input.charCodeAt(p+3)<<8|input.charCodeAt(p+2));else u.fromBits(input[p+1]<<8|input[p],input[p+3]<<8|input[p+2]);h32.add(u.multiply(PRIME32_3)).rotl(17).multiply(PRIME32_4);p+=4}while(p<bEnd){u.fromBits(isString?input.charCodeAt(p++):input[p++],0);h32.add(u.multiply(PRIME32_5)).rotl(11).multiply(PRIME32_1)}h=h32.clone().shiftRight(15);
h32.xor(h).multiply(PRIME32_2);h=h32.clone().shiftRight(13);h32.xor(h).multiply(PRIME32_3);h=h32.clone().shiftRight(16);h32.xor(h);this.init(this.seed);return h32};module.exports=XXH}).call(this,__webpack_require__(4).Buffer)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root){var radixPowerCache={36:UINT32(Math.pow(36,5)),16:UINT32(Math.pow(16,7)),10:UINT32(Math.pow(10,9)),2:UINT32(Math.pow(2,30))};var radixCache={36:UINT32(36),
16:UINT32(16),10:UINT32(10),2:UINT32(2)};function UINT32(l,h){if(!(this instanceof UINT32))return new UINT32(l,h);this._low=0;this._high=0;this.remainder=null;if(typeof h=="undefined")return fromNumber.call(this,l);if(typeof l=="string")return fromString.call(this,l,h);fromBits.call(this,l,h)}function fromBits(l,h){this._low=l|0;this._high=h|0;return this}UINT32.prototype.fromBits=fromBits;function fromNumber(value){this._low=value&65535;this._high=value>>>16;return this}UINT32.prototype.fromNumber=
fromNumber;function fromString(s,radix){var value=parseInt(s,radix||10);this._low=value&65535;this._high=value>>>16;return this}UINT32.prototype.fromString=fromString;UINT32.prototype.toNumber=function(){return this._high*65536+this._low};UINT32.prototype.toString=function(radix){return this.toNumber().toString(radix||10)};UINT32.prototype.add=function(other){var a00=this._low+other._low;var a16=a00>>>16;a16+=this._high+other._high;this._low=a00&65535;this._high=a16&65535;return this};UINT32.prototype.subtract=
function(other){return this.add(other.clone().negate())};UINT32.prototype.multiply=function(other){var a16=this._high;var a00=this._low;var b16=other._high;var b00=other._low;var c16,c00;c00=a00*b00;c16=c00>>>16;c16+=a16*b00;c16&=65535;c16+=a00*b16;this._low=c00&65535;this._high=c16&65535;return this};UINT32.prototype.div=function(other){if(other._low==0&&other._high==0)throw Error("division by zero");if(other._high==0&&other._low==1){this.remainder=new UINT32(0);return this}if(other.gt(this)){this.remainder=
this.clone();this._low=0;this._high=0;return this}if(this.eq(other)){this.remainder=new UINT32(0);this._low=1;this._high=0;return this}var _other=other.clone();var i=-1;while(!this.lt(_other)){_other.shiftLeft(1,true);i++}this.remainder=this.clone();this._low=0;this._high=0;for(;i>=0;i--){_other.shiftRight(1);if(!this.remainder.lt(_other)){this.remainder.subtract(_other);if(i>=16)this._high|=1<<i-16;else this._low|=1<<i}}return this};UINT32.prototype.negate=function(){var v=(~this._low&65535)+1;this._low=
v&65535;this._high=~this._high+(v>>>16)&65535;return this};UINT32.prototype.equals=UINT32.prototype.eq=function(other){return this._low==other._low&&this._high==other._high};UINT32.prototype.greaterThan=UINT32.prototype.gt=function(other){if(this._high>other._high)return true;if(this._high<other._high)return false;return this._low>other._low};UINT32.prototype.lessThan=UINT32.prototype.lt=function(other){if(this._high<other._high)return true;if(this._high>other._high)return false;return this._low<
other._low};UINT32.prototype.or=function(other){this._low|=other._low;this._high|=other._high;return this};UINT32.prototype.and=function(other){this._low&=other._low;this._high&=other._high;return this};UINT32.prototype.not=function(){this._low=~this._low&65535;this._high=~this._high&65535;return this};UINT32.prototype.xor=function(other){this._low^=other._low;this._high^=other._high;return this};UINT32.prototype.shiftRight=UINT32.prototype.shiftr=function(n){if(n>16){this._low=this._high>>n-16;this._high=
0}else if(n==16){this._low=this._high;this._high=0}else{this._low=this._low>>n|this._high<<16-n&65535;this._high>>=n}return this};UINT32.prototype.shiftLeft=UINT32.prototype.shiftl=function(n,allowOverflow){if(n>16){this._high=this._low<<n-16;this._low=0;if(!allowOverflow)this._high&=65535}else if(n==16){this._high=this._low;this._low=0}else{this._high=this._high<<n|this._low>>16-n;this._low=this._low<<n&65535;if(!allowOverflow)this._high&=65535}return this};UINT32.prototype.rotateLeft=UINT32.prototype.rotl=
function(n){var v=this._high<<16|this._low;v=v<<n|v>>>32-n;this._low=v&65535;this._high=v>>>16;return this};UINT32.prototype.rotateRight=UINT32.prototype.rotr=function(n){var v=this._high<<16|this._low;v=v>>>n|v<<32-n;this._low=v&65535;this._high=v>>>16;return this};UINT32.prototype.clone=function(){return new UINT32(this._low,this._high)};if(true)!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return UINT32}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==
undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));else;})(this)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(root){var radixPowerCache={16:UINT64(Math.pow(16,5)),10:UINT64(Math.pow(10,5)),2:UINT64(Math.pow(2,5))};var radixCache={16:UINT64(16),10:UINT64(10),2:UINT64(2)};function UINT64(a00,a16,a32,a48){if(!(this instanceof UINT64))return new UINT64(a00,a16,a32,a48);this.remainder=null;if(typeof a00=="string")return fromString.call(this,
a00,a16);if(typeof a16=="undefined")return fromNumber.call(this,a00);fromBits.apply(this,arguments)}function fromBits(a00,a16,a32,a48){if(typeof a32=="undefined"){this._a00=a00&65535;this._a16=a00>>>16;this._a32=a16&65535;this._a48=a16>>>16;return this}this._a00=a00|0;this._a16=a16|0;this._a32=a32|0;this._a48=a48|0;return this}UINT64.prototype.fromBits=fromBits;function fromNumber(value){this._a00=value&65535;this._a16=value>>>16;this._a32=0;this._a48=0;return this}UINT64.prototype.fromNumber=fromNumber;
function fromString(s,radix){radix=radix||10;this._a00=0;this._a16=0;this._a32=0;this._a48=0;var radixUint=radixPowerCache[radix]||new UINT64(Math.pow(radix,5));for(var i=0,len=s.length;i<len;i+=5){var size=Math.min(5,len-i);var value=parseInt(s.slice(i,i+size),radix);this.multiply(size<5?new UINT64(Math.pow(radix,size)):radixUint).add(new UINT64(value))}return this}UINT64.prototype.fromString=fromString;UINT64.prototype.toNumber=function(){return this._a16*65536+this._a00};UINT64.prototype.toString=
function(radix){radix=radix||10;var radixUint=radixCache[radix]||new UINT64(radix);if(!this.gt(radixUint))return this.toNumber().toString(radix);var self=this.clone();var res=new Array(64);for(var i=63;i>=0;i--){self.div(radixUint);res[i]=self.remainder.toNumber().toString(radix);if(!self.gt(radixUint))break}res[i-1]=self.toNumber().toString(radix);return res.join("")};UINT64.prototype.add=function(other){var a00=this._a00+other._a00;var a16=a00>>>16;a16+=this._a16+other._a16;var a32=a16>>>16;a32+=
this._a32+other._a32;var a48=a32>>>16;a48+=this._a48+other._a48;this._a00=a00&65535;this._a16=a16&65535;this._a32=a32&65535;this._a48=a48&65535;return this};UINT64.prototype.subtract=function(other){return this.add(other.clone().negate())};UINT64.prototype.multiply=function(other){var a00=this._a00;var a16=this._a16;var a32=this._a32;var a48=this._a48;var b00=other._a00;var b16=other._a16;var b32=other._a32;var b48=other._a48;var c00=a00*b00;var c16=c00>>>16;c16+=a00*b16;var c32=c16>>>16;c16&=65535;
c16+=a16*b00;c32+=c16>>>16;c32+=a00*b32;var c48=c32>>>16;c32&=65535;c32+=a16*b16;c48+=c32>>>16;c32&=65535;c32+=a32*b00;c48+=c32>>>16;c48+=a00*b48;c48&=65535;c48+=a16*b32;c48&=65535;c48+=a32*b16;c48&=65535;c48+=a48*b00;this._a00=c00&65535;this._a16=c16&65535;this._a32=c32&65535;this._a48=c48&65535;return this};UINT64.prototype.div=function(other){if(other._a16==0&&other._a32==0&&other._a48==0){if(other._a00==0)throw Error("division by zero");if(other._a00==1){this.remainder=new UINT64(0);return this}}if(other.gt(this)){this.remainder=
this.clone();this._a00=0;this._a16=0;this._a32=0;this._a48=0;return this}if(this.eq(other)){this.remainder=new UINT64(0);this._a00=1;this._a16=0;this._a32=0;this._a48=0;return this}var _other=other.clone();var i=-1;while(!this.lt(_other)){_other.shiftLeft(1,true);i++}this.remainder=this.clone();this._a00=0;this._a16=0;this._a32=0;this._a48=0;for(;i>=0;i--){_other.shiftRight(1);if(!this.remainder.lt(_other)){this.remainder.subtract(_other);if(i>=48)this._a48|=1<<i-48;else if(i>=32)this._a32|=1<<i-
32;else if(i>=16)this._a16|=1<<i-16;else this._a00|=1<<i}}return this};UINT64.prototype.negate=function(){var v=(~this._a00&65535)+1;this._a00=v&65535;v=(~this._a16&65535)+(v>>>16);this._a16=v&65535;v=(~this._a32&65535)+(v>>>16);this._a32=v&65535;this._a48=~this._a48+(v>>>16)&65535;return this};UINT64.prototype.equals=UINT64.prototype.eq=function(other){return this._a48==other._a48&&this._a00==other._a00&&this._a32==other._a32&&this._a16==other._a16};UINT64.prototype.greaterThan=UINT64.prototype.gt=
function(other){if(this._a48>other._a48)return true;if(this._a48<other._a48)return false;if(this._a32>other._a32)return true;if(this._a32<other._a32)return false;if(this._a16>other._a16)return true;if(this._a16<other._a16)return false;return this._a00>other._a00};UINT64.prototype.lessThan=UINT64.prototype.lt=function(other){if(this._a48<other._a48)return true;if(this._a48>other._a48)return false;if(this._a32<other._a32)return true;if(this._a32>other._a32)return false;if(this._a16<other._a16)return true;
if(this._a16>other._a16)return false;return this._a00<other._a00};UINT64.prototype.or=function(other){this._a00|=other._a00;this._a16|=other._a16;this._a32|=other._a32;this._a48|=other._a48;return this};UINT64.prototype.and=function(other){this._a00&=other._a00;this._a16&=other._a16;this._a32&=other._a32;this._a48&=other._a48;return this};UINT64.prototype.xor=function(other){this._a00^=other._a00;this._a16^=other._a16;this._a32^=other._a32;this._a48^=other._a48;return this};UINT64.prototype.not=function(){this._a00=
~this._a00&65535;this._a16=~this._a16&65535;this._a32=~this._a32&65535;this._a48=~this._a48&65535;return this};UINT64.prototype.shiftRight=UINT64.prototype.shiftr=function(n){n%=64;if(n>=48){this._a00=this._a48>>n-48;this._a16=0;this._a32=0;this._a48=0}else if(n>=32){n-=32;this._a00=(this._a32>>n|this._a48<<16-n)&65535;this._a16=this._a48>>n&65535;this._a32=0;this._a48=0}else if(n>=16){n-=16;this._a00=(this._a16>>n|this._a32<<16-n)&65535;this._a16=(this._a32>>n|this._a48<<16-n)&65535;this._a32=this._a48>>
n&65535;this._a48=0}else{this._a00=(this._a00>>n|this._a16<<16-n)&65535;this._a16=(this._a16>>n|this._a32<<16-n)&65535;this._a32=(this._a32>>n|this._a48<<16-n)&65535;this._a48=this._a48>>n&65535}return this};UINT64.prototype.shiftLeft=UINT64.prototype.shiftl=function(n,allowOverflow){n%=64;if(n>=48){this._a48=this._a00<<n-48;this._a32=0;this._a16=0;this._a00=0}else if(n>=32){n-=32;this._a48=this._a16<<n|this._a00>>16-n;this._a32=this._a00<<n&65535;this._a16=0;this._a00=0}else if(n>=16){n-=16;this._a48=
this._a32<<n|this._a16>>16-n;this._a32=(this._a16<<n|this._a00>>16-n)&65535;this._a16=this._a00<<n&65535;this._a00=0}else{this._a48=this._a48<<n|this._a32>>16-n;this._a32=(this._a32<<n|this._a16>>16-n)&65535;this._a16=(this._a16<<n|this._a00>>16-n)&65535;this._a00=this._a00<<n&65535}if(!allowOverflow)this._a48&=65535;return this};UINT64.prototype.rotateLeft=UINT64.prototype.rotl=function(n){n%=64;if(n==0)return this;if(n>=32){var v=this._a00;this._a00=this._a32;this._a32=v;v=this._a48;this._a48=this._a16;
this._a16=v;if(n==32)return this;n-=32}var high=this._a48<<16|this._a32;var low=this._a16<<16|this._a00;var _high=high<<n|low>>>32-n;var _low=low<<n|high>>>32-n;this._a00=_low&65535;this._a16=_low>>>16;this._a32=_high&65535;this._a48=_high>>>16;return this};UINT64.prototype.rotateRight=UINT64.prototype.rotr=function(n){n%=64;if(n==0)return this;if(n>=32){var v=this._a00;this._a00=this._a32;this._a32=v;v=this._a48;this._a48=this._a16;this._a16=v;if(n==32)return this;n-=32}var high=this._a48<<16|this._a32;
var low=this._a16<<16|this._a00;var _high=high>>>n|low<<32-n;var _low=low>>>n|high<<32-n;this._a00=_low&65535;this._a16=_low>>>16;this._a32=_high&65535;this._a48=_high>>>16;return this};UINT64.prototype.clone=function(){return new UINT64(this._a00,this._a16,this._a32,this._a48)};if(true)!(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return UINT64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),__WEBPACK_AMD_DEFINE_RESULT__!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__));
else;})(this)},function(module,exports,__webpack_require__){(function(Buffer){var UINT64=__webpack_require__(15).UINT64;var PRIME64_1=UINT64("11400714785074694791");var PRIME64_2=UINT64("14029467366897019727");var PRIME64_3=UINT64("1609587929392839161");var PRIME64_4=UINT64("9650029242287828579");var PRIME64_5=UINT64("2870177450012600261");function toUTF8Array(str){var utf8=[];for(var i=0,n=str.length;i<n;i++){var charcode=str.charCodeAt(i);if(charcode<128)utf8.push(charcode);else if(charcode<2048)utf8.push(192|
charcode>>6,128|charcode&63);else if(charcode<55296||charcode>=57344)utf8.push(224|charcode>>12,128|charcode>>6&63,128|charcode&63);else{i++;charcode=65536+((charcode&1023)<<10|str.charCodeAt(i)&1023);utf8.push(240|charcode>>18,128|charcode>>12&63,128|charcode>>6&63,128|charcode&63)}}return new Uint8Array(utf8)}function XXH64(){if(arguments.length==2)return(new XXH64(arguments[1])).update(arguments[0]).digest();if(!(this instanceof XXH64))return new XXH64(arguments[0]);init.call(this,arguments[0])}
function init(seed){this.seed=seed instanceof UINT64?seed.clone():UINT64(seed);this.v1=this.seed.clone().add(PRIME64_1).add(PRIME64_2);this.v2=this.seed.clone().add(PRIME64_2);this.v3=this.seed.clone();this.v4=this.seed.clone().subtract(PRIME64_1);this.total_len=0;this.memsize=0;this.memory=null;return this}XXH64.prototype.init=init;XXH64.prototype.update=function(input){var isString=typeof input=="string";var isArrayBuffer;if(isString){input=toUTF8Array(input);isString=false;isArrayBuffer=true}if(typeof ArrayBuffer!==
"undefined"&&input instanceof ArrayBuffer){isArrayBuffer=true;input=new Uint8Array(input)}var p=0;var len=input.length;var bEnd=p+len;if(len==0)return this;this.total_len+=len;if(this.memsize==0)if(isString)this.memory="";else if(isArrayBuffer)this.memory=new Uint8Array(32);else this.memory=new Buffer(32);if(this.memsize+len<32){if(isString)this.memory+=input;else if(isArrayBuffer)this.memory.set(input.subarray(0,len),this.memsize);else input.copy(this.memory,this.memsize,0,len);this.memsize+=len;
return this}if(this.memsize>0){if(isString)this.memory+=input.slice(0,32-this.memsize);else if(isArrayBuffer)this.memory.set(input.subarray(0,32-this.memsize),this.memsize);else input.copy(this.memory,this.memsize,0,32-this.memsize);var p64=0;if(isString){var other;other=UINT64(this.memory.charCodeAt(p64+1)<<8|this.memory.charCodeAt(p64),this.memory.charCodeAt(p64+3)<<8|this.memory.charCodeAt(p64+2),this.memory.charCodeAt(p64+5)<<8|this.memory.charCodeAt(p64+4),this.memory.charCodeAt(p64+7)<<8|this.memory.charCodeAt(p64+
6));this.v1.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);p64+=8;other=UINT64(this.memory.charCodeAt(p64+1)<<8|this.memory.charCodeAt(p64),this.memory.charCodeAt(p64+3)<<8|this.memory.charCodeAt(p64+2),this.memory.charCodeAt(p64+5)<<8|this.memory.charCodeAt(p64+4),this.memory.charCodeAt(p64+7)<<8|this.memory.charCodeAt(p64+6));this.v2.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);p64+=8;other=UINT64(this.memory.charCodeAt(p64+1)<<8|this.memory.charCodeAt(p64),this.memory.charCodeAt(p64+
3)<<8|this.memory.charCodeAt(p64+2),this.memory.charCodeAt(p64+5)<<8|this.memory.charCodeAt(p64+4),this.memory.charCodeAt(p64+7)<<8|this.memory.charCodeAt(p64+6));this.v3.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);p64+=8;other=UINT64(this.memory.charCodeAt(p64+1)<<8|this.memory.charCodeAt(p64),this.memory.charCodeAt(p64+3)<<8|this.memory.charCodeAt(p64+2),this.memory.charCodeAt(p64+5)<<8|this.memory.charCodeAt(p64+4),this.memory.charCodeAt(p64+7)<<8|this.memory.charCodeAt(p64+6));
this.v4.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1)}else{var other;other=UINT64(this.memory[p64+1]<<8|this.memory[p64],this.memory[p64+3]<<8|this.memory[p64+2],this.memory[p64+5]<<8|this.memory[p64+4],this.memory[p64+7]<<8|this.memory[p64+6]);this.v1.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);p64+=8;other=UINT64(this.memory[p64+1]<<8|this.memory[p64],this.memory[p64+3]<<8|this.memory[p64+2],this.memory[p64+5]<<8|this.memory[p64+4],this.memory[p64+7]<<8|this.memory[p64+
6]);this.v2.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);p64+=8;other=UINT64(this.memory[p64+1]<<8|this.memory[p64],this.memory[p64+3]<<8|this.memory[p64+2],this.memory[p64+5]<<8|this.memory[p64+4],this.memory[p64+7]<<8|this.memory[p64+6]);this.v3.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);p64+=8;other=UINT64(this.memory[p64+1]<<8|this.memory[p64],this.memory[p64+3]<<8|this.memory[p64+2],this.memory[p64+5]<<8|this.memory[p64+4],this.memory[p64+7]<<8|this.memory[p64+
6]);this.v4.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1)}p+=32-this.memsize;this.memsize=0;if(isString)this.memory=""}if(p<=bEnd-32){var limit=bEnd-32;do{if(isString){var other;other=UINT64(input.charCodeAt(p+1)<<8|input.charCodeAt(p),input.charCodeAt(p+3)<<8|input.charCodeAt(p+2),input.charCodeAt(p+5)<<8|input.charCodeAt(p+4),input.charCodeAt(p+7)<<8|input.charCodeAt(p+6));this.v1.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);p+=8;other=UINT64(input.charCodeAt(p+1)<<
8|input.charCodeAt(p),input.charCodeAt(p+3)<<8|input.charCodeAt(p+2),input.charCodeAt(p+5)<<8|input.charCodeAt(p+4),input.charCodeAt(p+7)<<8|input.charCodeAt(p+6));this.v2.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);p+=8;other=UINT64(input.charCodeAt(p+1)<<8|input.charCodeAt(p),input.charCodeAt(p+3)<<8|input.charCodeAt(p+2),input.charCodeAt(p+5)<<8|input.charCodeAt(p+4),input.charCodeAt(p+7)<<8|input.charCodeAt(p+6));this.v3.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);
p+=8;other=UINT64(input.charCodeAt(p+1)<<8|input.charCodeAt(p),input.charCodeAt(p+3)<<8|input.charCodeAt(p+2),input.charCodeAt(p+5)<<8|input.charCodeAt(p+4),input.charCodeAt(p+7)<<8|input.charCodeAt(p+6));this.v4.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1)}else{var other;other=UINT64(input[p+1]<<8|input[p],input[p+3]<<8|input[p+2],input[p+5]<<8|input[p+4],input[p+7]<<8|input[p+6]);this.v1.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);p+=8;other=UINT64(input[p+1]<<8|input[p],
input[p+3]<<8|input[p+2],input[p+5]<<8|input[p+4],input[p+7]<<8|input[p+6]);this.v2.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);p+=8;other=UINT64(input[p+1]<<8|input[p],input[p+3]<<8|input[p+2],input[p+5]<<8|input[p+4],input[p+7]<<8|input[p+6]);this.v3.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1);p+=8;other=UINT64(input[p+1]<<8|input[p],input[p+3]<<8|input[p+2],input[p+5]<<8|input[p+4],input[p+7]<<8|input[p+6]);this.v4.add(other.multiply(PRIME64_2)).rotl(31).multiply(PRIME64_1)}p+=
8}while(p<=limit)}if(p<bEnd){if(isString)this.memory+=input.slice(p);else if(isArrayBuffer)this.memory.set(input.subarray(p,bEnd),this.memsize);else input.copy(this.memory,this.memsize,p,bEnd);this.memsize=bEnd-p}return this};XXH64.prototype.digest=function(){var input=this.memory;var isString=typeof input=="string";var p=0;var bEnd=this.memsize;var h64,h;var u=new UINT64;if(this.total_len>=32){h64=this.v1.clone().rotl(1);h64.add(this.v2.clone().rotl(7));h64.add(this.v3.clone().rotl(12));h64.add(this.v4.clone().rotl(18));
h64.xor(this.v1.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1));h64.multiply(PRIME64_1).add(PRIME64_4);h64.xor(this.v2.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1));h64.multiply(PRIME64_1).add(PRIME64_4);h64.xor(this.v3.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1));h64.multiply(PRIME64_1).add(PRIME64_4);h64.xor(this.v4.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1));h64.multiply(PRIME64_1).add(PRIME64_4)}else h64=this.seed.clone().add(PRIME64_5);h64.add(u.fromNumber(this.total_len));while(p<=
bEnd-8){if(isString)u.fromBits(input.charCodeAt(p+1)<<8|input.charCodeAt(p),input.charCodeAt(p+3)<<8|input.charCodeAt(p+2),input.charCodeAt(p+5)<<8|input.charCodeAt(p+4),input.charCodeAt(p+7)<<8|input.charCodeAt(p+6));else u.fromBits(input[p+1]<<8|input[p],input[p+3]<<8|input[p+2],input[p+5]<<8|input[p+4],input[p+7]<<8|input[p+6]);u.multiply(PRIME64_2).rotl(31).multiply(PRIME64_1);h64.xor(u).rotl(27).multiply(PRIME64_1).add(PRIME64_4);p+=8}if(p+4<=bEnd){if(isString)u.fromBits(input.charCodeAt(p+1)<<
8|input.charCodeAt(p),input.charCodeAt(p+3)<<8|input.charCodeAt(p+2),0,0);else u.fromBits(input[p+1]<<8|input[p],input[p+3]<<8|input[p+2],0,0);h64.xor(u.multiply(PRIME64_1)).rotl(23).multiply(PRIME64_2).add(PRIME64_3);p+=4}while(p<bEnd){u.fromBits(isString?input.charCodeAt(p++):input[p++],0,0,0);h64.xor(u.multiply(PRIME64_5)).rotl(11).multiply(PRIME64_1)}h=h64.clone().shiftRight(33);h64.xor(h).multiply(PRIME64_2);h=h64.clone().shiftRight(29);h64.xor(h).multiply(PRIME64_3);h=h64.clone().shiftRight(32);
h64.xor(h);this.init(this.seed);return h64};module.exports=XXH64}).call(this,__webpack_require__(4).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){Object.defineProperty(exports,"__esModule",{value:true});var pad_string_1=__webpack_require__(76);function encode(input,encoding){if(encoding===void 0)encoding="utf8";if(Buffer.isBuffer(input))return fromBase64(input.toString("base64"));return fromBase64(Buffer.from(input,encoding).toString("base64"))}function decode(base64url,
encoding){if(encoding===void 0)encoding="utf8";return Buffer.from(toBase64(base64url),"base64").toString(encoding)}function toBase64(base64url){base64url=base64url.toString();return pad_string_1.default(base64url).replace(/\-/g,"+").replace(/_/g,"/")}function fromBase64(base64){return base64.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function toBuffer(base64url){return Buffer.from(toBase64(base64url),"base64")}var base64url=encode;base64url.encode=encode;base64url.decode=decode;base64url.toBase64=
toBase64;base64url.fromBase64=fromBase64;base64url.toBuffer=toBuffer;exports.default=base64url}).call(this,__webpack_require__(4).Buffer)},function(module,exports,__webpack_require__){(function(Buffer){Object.defineProperty(exports,"__esModule",{value:true});function padString(input){var segmentLength=4;var stringLength=input.length;var diff=stringLength%segmentLength;if(!diff)return input;var position=stringLength;var padLength=segmentLength-diff;var paddedStringLength=stringLength+padLength;var buffer=
Buffer.alloc(paddedStringLength);buffer.write(input);while(padLength--)buffer.write("\x3d",position++);return buffer.toString()}exports.default=padString}).call(this,__webpack_require__(4).Buffer)},function(module,exports){function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?
"symbol":typeof obj};return _typeof(obj)}module.exports=function(){var isCallable=function isCallable(fn){return typeof fn==="function"};var toInteger=function toInteger(value){var number=Number(value);if(isNaN(number))return 0;if(number===0||!isFinite(number))return number;return(number>0?1:-1)*Math.floor(Math.abs(number))};var maxSafeInteger=Math.pow(2,53)-1;var toLength=function toLength(value){var len=toInteger(value);return Math.min(Math.max(len,0),maxSafeInteger)};var iteratorProp=function iteratorProp(value){if(value!=
null)if(["string","number","boolean","symbol"].indexOf(_typeof(value))>-1)return Symbol.iterator;else if(typeof Symbol!=="undefined"&&"iterator"in Symbol&&Symbol.iterator in value)return Symbol.iterator;else if("@@iterator"in value)return"@@iterator"};var getMethod=function getMethod(O,P){if(O!=null&&P!=null){var func=O[P];if(func==null)return void 0;if(!isCallable(func))throw new TypeError(func+" is not a function");return func}};var iteratorStep=function iteratorStep(iterator){var result=iterator.next();
var done=Boolean(result.done);if(done)return false;return result};return function from(items){var C=this;var mapFn=arguments.length>1?arguments[1]:void 0;var T;if(typeof mapFn!=="undefined"){if(!isCallable(mapFn))throw new TypeError("Array.from: when provided, the second argument must be a function");if(arguments.length>2)T=arguments[2]}var A,k;var usingIterator=getMethod(items,iteratorProp(items));if(usingIterator!==void 0){A=isCallable(C)?Object(new C):[];var iterator=usingIterator.call(items);
if(iterator==null)throw new TypeError("Array.from requires an array-like or iterable object");k=0;var next,nextValue;while(true){next=iteratorStep(iterator);if(!next){A.length=k;return A}nextValue=next.value;if(mapFn)A[k]=mapFn.call(T,nextValue,k);else A[k]=nextValue;k++}}else{var arrayLike=Object(items);if(items==null)throw new TypeError("Array.from requires an array-like object - not null or undefined");var len=toLength(arrayLike.length);A=isCallable(C)?Object(new C(len)):new Array(len);k=0;var kValue;
while(k<len){kValue=arrayLike[k];if(mapFn)A[k]=mapFn.call(T,kValue,k);else A[k]=kValue;k++}A.length=len}return A}}()},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__);__webpack_require__.d(__webpack_exports__,"Gateway",function(){return gateway_Gateway});var utilities=__webpack_require__(0);function intToString(intValue){return String(intValue)}function stringToInt(strValue){return parseInt(strValue,10)||0}function isSameSiteNoneCompatible(userAgent){return!isSameSiteNoneIncompatible(String(userAgent))}
function isSameSiteNoneIncompatible(userAgent){return hasWebKitSameSiteBug(userAgent)||dropsUnrecognizedSameSiteCookies(userAgent)}function hasWebKitSameSiteBug(userAgent){return isIosVersion(12,userAgent)||isMacosxVersion(10,14,userAgent)&&(isSafari(userAgent)||isMacEmbeddedBrowser(userAgent))}function dropsUnrecognizedSameSiteCookies(userAgent){return isChromiumBased(userAgent)&&isChromiumVersionAtLeast(51,userAgent)&&!isChromiumVersionAtLeast(67,userAgent)||isUcBrowser(userAgent)&&!isUcBrowserVersionAtLeast(12,
13,2,userAgent)}function regexContains(stringValue,regex){var matches=stringValue.match(regex);return matches!=null}function extractRegexMatch(stringValue,regex,offsetIndex){var matches=stringValue.match(regex);if(matches!=null&&matches[offsetIndex]!==undefined)return matches[offsetIndex];return null}function isIosVersion(major,userAgent){var regex=/\(iP.+; CPU .*OS (\d+)[_\d]*.*\) AppleWebKit\//;return extractRegexMatch(userAgent,regex,1)===intToString(major)}function isMacosxVersion(major,minor,
userAgent){var regex=/\(Macintosh;.*Mac OS X (\d+)_(\d+)[_\d]*.*\) AppleWebKit\//;return extractRegexMatch(userAgent,regex,1)===intToString(major)&&extractRegexMatch(userAgent,regex,2)===intToString(minor)}function isSafari(userAgent){var safari_regex=/Version\/.* Safari\//;return userAgent.match(safari_regex)!=null&&!isChromiumBased(userAgent)}function isMacEmbeddedBrowser(userAgent){var regex=/^Mozilla\/[\.\d]+ \(Macintosh;.*Mac OS X [_\d]+\) AppleWebKit\/[\.\d]+ \(KHTML, like Gecko\)$/;return regexContains(userAgent,
regex)}function isChromiumBased(userAgent){var regex=/Chrom(e|ium)/;return regexContains(userAgent,regex)}function isChromiumVersionAtLeast(major,userAgent){var regex=/Chrom[^ \/]+\/(\d+)[\.\d]* /;var version=stringToInt(extractRegexMatch(userAgent,regex,1));return version>=major}function isUcBrowser(userAgent){var regex=/UCBrowser\//;return regexContains(userAgent,regex)}function isUcBrowserVersionAtLeast(major,minor,build,userAgent){var regex=/UCBrowser\/(\d+)\.(\d+)\.(\d+)[\.\d]* /;var major_version=
stringToInt(extractRegexMatch(userAgent,regex,1));var minor_version=stringToInt(extractRegexMatch(userAgent,regex,2));var build_version=stringToInt(extractRegexMatch(userAgent,regex,3));if(major_version!==major)return major_version>major;if(minor_version!==minor)return minor_version>minor;return build_version>=build}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function _defineProperties(target,props){for(var i=
0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,
key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var cookieManager_CookieManager=function(){function CookieManager(clientName,customGetter,customSetter){_classCallCheck(this,CookieManager);_defineProperty(this,"clientName",void 0);_defineProperty(this,"customGetter",void 0);_defineProperty(this,"customSetter",void 0);_defineProperty(this,"cookieDomain",void 0);_defineProperty(this,"ensightenPrivacy","_ENSIGHTEN_PRIVACY_");this.clientName=clientName;
this.customGetter=customGetter;this.customSetter=customSetter;this.cookieDomain=this.calculateCookieDomain(window.location.hostname)}_createClass(CookieManager,[{key:"deleteAllCookies",value:function deleteAllCookies(){var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var cookie=cookies[i];var eqPos=cookie.indexOf("\x3d");var name=eqPos>-1?cookie.substr(0,eqPos):cookie;document.cookie=name+"\x3d; path\x3d/; expires\x3dThu, 01 Jan 1970 00:00:00 GMT; domain\x3d"+this.getCookieDomain()}}},
{key:"deleteCookie",value:function deleteCookie(cookieType){this.clientName=this.clientName.toUpperCase();var cookieString=this.clientName+this.ensightenPrivacy+this._parseCookieSuffix(cookieType);var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var cookie=cookies[i];var eqPos=cookie.indexOf("\x3d");var name=eqPos>-1?cookie.substr(0,eqPos):cookie;if(name.trim()===cookieString.trim())document.cookie=name+"\x3d; path\x3d/; expires\x3dThu, 01 Jan 1970 00:00:00 GMT; domain\x3d"+
this.getCookieDomain()}}},{key:"getCategoryMapFromCookieTypes",value:function getCategoryMapFromCookieTypes(cookieTypes){var categoryMap={};for(var i=0;i<cookieTypes.length;i++){var categoryKey=cookieTypes[i];categoryMap[categoryKey]=this.getCookie(categoryKey)}return categoryMap}},{key:"getCookie",value:function getCookie(key){if(typeof this.customGetter==="function")return this.customGetter(key);return this.defaultGetCookie(key)}},{key:"defaultGetCookie",value:function defaultGetCookie(key){var cookieName=
this.clientName.toUpperCase()+this.ensightenPrivacy+this._parseCookieSuffix(key);var match=document.cookie.match(new RegExp(cookieName+"\x3d([^;]+)"));if(match)return match[1];else{var legacyMatch=document.cookie.match(new RegExp(cookieName+"\x3d([^;]+)"));if(legacyMatch)return legacyMatch[1]}}},{key:"getCookiesFromTypes",value:function getCookiesFromTypes(cookieTypes){var cookies={};for(var i=0;i<cookieTypes.length;i++){var cookieName=cookieTypes[i],cookieValue=this.getCookie(cookieName);if(cookieValue!==
undefined&&cookieValue!=null)cookies[this.clientName.toUpperCase()+this.ensightenPrivacy+this._parseCookieSuffix(cookieName)]=cookieValue}return cookies}},{key:"setCookie",value:function setCookie(cookieType,value){if(typeof this.customSetter==="function")return this.customSetter(cookieType,value);return this.defaultSetCookie(cookieType,value)}},{key:"setCookies",value:function setCookies(cookies){for(var key in cookies)this.setCookie(key,cookies[key])}},{key:"defaultSetCookie",value:function defaultSetCookie(cookieType,
value){var prefix=this.clientName.toUpperCase()+this.ensightenPrivacy;var suffix=this._parseCookieSuffix(cookieType);var sameSite="";var isSecure=/https:/.test(location.protocol);if(isSameSiteNoneCompatible(navigator.userAgent))sameSite=" SameSite\x3d"+(isSecure?"None":"Lax")+";";if(!utilities["utilities"].isIE&&isSecure)sameSite+=" Secure;";var cookieString=prefix+suffix+"\x3d"+value+"; path\x3d/;"+sameSite+" domain\x3d"+this.cookieDomain+"; expires\x3d"+(new Date(+new Date+1E3*60*60*24*365)).toUTCString();
document.cookie=cookieString;return cookieString}},{key:"setCookieDomain",value:function setCookieDomain(newCookieDomain){this.cookieDomain=newCookieDomain}},{key:"getCookieDomain",value:function getCookieDomain(){return this.cookieDomain}},{key:"_parseCookieSuffix",value:function _parseCookieSuffix(cookieType){return cookieType.replace(/ /g,"_")}},{key:"createRegex",value:function createRegex(){var tld=utilities["utilities"].getCookieTLD(),tldLength=tld.length,sld=utilities["utilities"].getCookieSLD(),
sldLength=sld.length,combinedDomains=[];for(var i=0;i<tldLength;i++)for(var j=0;j<sldLength;j++)combinedDomains.push("\\."+tld[i]+"\\."+sld[j]);return combinedDomains.join("|")}},{key:"calculateCookieDomain",value:function calculateCookieDomain(domain){var regExStr=this.createRegex();var host=domain||document.location.hostname;var re=new RegExp(regExStr);var isIP=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/gm;var domainIsIpAddress=isIP.test(host);
if(host!=="localhost"&&!domainIsIpAddress){var hostHasTwoPartSuffix=re.test(host);var hostStringArray=host.split(".");var finalHostString;if(hostHasTwoPartSuffix)finalHostString=hostStringArray.slice(hostStringArray.length-3,hostStringArray.length);else finalHostString=hostStringArray.slice(hostStringArray.length-2,hostStringArray.length);finalHostString=finalHostString.join(".");return finalHostString}else return host}}]);return CookieManager}();function environmentManager_classCallCheck(instance,
Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function environmentManager_defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var environmentManager_EnvironmentManager=function EnvironmentManager(document,environmentConfigs,defaultEnvName,clientName,cookieManager){var _this=this;environmentManager_classCallCheck(this,EnvironmentManager);
environmentManager_defineProperty(this,"cookieManager",void 0);environmentManager_defineProperty(this,"defaultEnvName",void 0);environmentManager_defineProperty(this,"environmentConfigs",void 0);environmentManager_defineProperty(this,"clientName",void 0);environmentManager_defineProperty(this,"document",void 0);environmentManager_defineProperty(this,"environmentChangeCallbacks",[]);environmentManager_defineProperty(this,"environmentsCount",void 0);environmentManager_defineProperty(this,"activeEnvironment",
null);environmentManager_defineProperty(this,"clearEnvironment",function(){_this.cookieManager.deleteCookie("LOCALE");_this.setEnvironment(undefined)});environmentManager_defineProperty(this,"evalCondition",function(condition){var conditionValue;var conditionIsSatisfied=false;switch(condition.type){case "host":conditionValue=_this.document.location.hostname;break;case "url":conditionValue=_this.document.URL;break;case "cookie":conditionValue=_this.getCookie(condition.key);break;case "jsVar":conditionValue=
_this.getJSVarValue(condition.key);break;default:console.warn("Error evaluating environment target")}switch(condition.operator){case "equals":conditionIsSatisfied=_this.evaluateEquals(conditionValue,condition);break;case "contains":conditionIsSatisfied=_this.evaluateContains(conditionValue,condition);break;case "exists":conditionIsSatisfied=_this.evaluateExists(conditionValue);break;case "regexp":conditionIsSatisfied=_this.evaluateRegExp(conditionValue,condition);break;default:console.warn("Error evaluating comparator for environment")}if(condition.shouldBePositive===
false)if(conditionIsSatisfied===true)conditionIsSatisfied=false;else conditionIsSatisfied=true;if(conditionIsSatisfied===true&&condition._and)conditionIsSatisfied=_this.evalCondition(condition._and);if(conditionIsSatisfied===false&&condition._or)conditionIsSatisfied=_this.evalCondition(condition._or);return conditionIsSatisfied});environmentManager_defineProperty(this,"getEnvironmentByLocale",function(locale){var environment=null;for(var i=0;i<_this.environmentsCount;i++)if(_this.localeMatches(_this.environmentConfigs[i],
locale))environment=_this.environmentConfigs[i];return environment});environmentManager_defineProperty(this,"environmentExists",function(locale){return _this.getEnvironmentByLocale(locale)!=null});environmentManager_defineProperty(this,"getActiveEnvironment",function(){return _this.activeEnvironment});environmentManager_defineProperty(this,"getActiveLocale",function(){return _this.activeEnvironment.languageCode});environmentManager_defineProperty(this,"getAvailableLocales",function(){var availableLocales=
[];for(var i=0;i<_this.environmentsCount;i++)availableLocales.push(_this.environmentConfigs[i].languageCode);return availableLocales});environmentManager_defineProperty(this,"registerEnvironmentChangeCallback",function(callback){_this.environmentChangeCallbacks.push(callback)});environmentManager_defineProperty(this,"setEnvironment",function(locale){if(_this.environmentExists(locale)){_this.cookieManager.setCookie("LOCALE",locale);_this.activeEnvironment=_this.getEnvironmentByLocale(locale);_this.fireEnvironmentChangeCallbacks()}else if(!locale){_this.initializeActiveEnvironment();
_this.activeEnvironment=_this.getActiveEnvironment();_this.fireEnvironmentChangeCallbacks()}});environmentManager_defineProperty(this,"evaluateContains",function(value,condition){if(value)return value.indexOf(condition.value)!==-1;else return false});environmentManager_defineProperty(this,"evaluateEquals",function(value,condition){return value===condition.value});environmentManager_defineProperty(this,"evaluateExists",function(value){var objectExists=false;if(value)objectExists=true;return objectExists});
environmentManager_defineProperty(this,"evaluateRegExp",function(value,condition){return value===undefined||value===""?false:(new RegExp(condition.value)).test(value)});environmentManager_defineProperty(this,"fireEnvironmentChangeCallbacks",function(){var callbacksCount=_this.environmentChangeCallbacks.length;for(var i=0;i<callbacksCount;i++)if(typeof _this.environmentChangeCallbacks[i]==="function")_this.environmentChangeCallbacks[i](_this.activeEnvironment)});environmentManager_defineProperty(this,
"getCookie",function(key){var match=_this.document.cookie.match(new RegExp(key+"\x3d([^;]+)"));if(match)return match[1]});environmentManager_defineProperty(this,"getDefaultEnvironment",function(){var environment=null;for(var i=0;i<_this.environmentConfigs.length;i++)if(_this.defaultEnvName&&_this.environmentConfigs[i].name===_this.defaultEnvName){environment=_this.environmentConfigs[i];break}return environment});environmentManager_defineProperty(this,"getEnvironmentByConditions",function(){var locale=
utilities["utilities"].getBrowserLocale();for(var i=0;i<_this.environmentsCount;i++)if(_this.hasConditions(_this.environmentConfigs[i])){if(_this.evalCondition(_this.environmentConfigs[i].condition))return _this.environmentConfigs[i]}else if(_this.localeMatches(_this.environmentConfigs[i],locale))return _this.environmentConfigs[i];return null});environmentManager_defineProperty(this,"hasConditions",function(environment){return environment.condition&&environment.condition.type&&environment.condition.operator});
environmentManager_defineProperty(this,"localeMatches",function(environment,locale){if(environment&&locale)if(environment.languageCode===locale)return true;else{var trimmedLocale=locale.split("-");var language=trimmedLocale[0];if(environment.languageCode===language)return true}return false});environmentManager_defineProperty(this,"getEnvironmentByLocaleCookie",function(){var environment=null;var cookieVal=_this.cookieManager.getCookie("LOCALE");if(cookieVal)environment=_this.getEnvironmentByLocale(cookieVal);
return environment});environmentManager_defineProperty(this,"initializeActiveEnvironment",function(){var environment=null;environment=_this.getEnvironmentByLocaleCookie();if(!environment)environment=_this.getEnvironmentByConditions();if(!environment)environment=_this.getDefaultEnvironment();if(environment&&environment.translation){environment.translation.save=environment.translation.save||"SAVE";environment.translation.cancel=environment.translation.cancel||"CANCEL";environment.translation.close=
environment.translation.close||"CLOSE"}_this.activeEnvironment=environment});environmentManager_defineProperty(this,"getJSVarValue",function(key){var value=typeof window[key]!=="undefined"?window[key]:undefined;if(key&&typeof key==="string"&&!value){var currentValue,i=0;var objKeys=key.split("."),len=objKeys.length;for(;i<len;i++){currentValue=currentValue?currentValue[objKeys[i]]:window[objKeys[i]];value=typeof currentValue!=="undefined"?currentValue:undefined}}return value});this.environmentConfigs=
environmentConfigs;this.environmentsCount=this.environmentConfigs.length;this.document=document;this.defaultEnvName=defaultEnvName;this.clientName=clientName;this.cookieManager=cookieManager;this.initializeActiveEnvironment()};function pathFilterManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function pathFilterManager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];
descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function pathFilterManager_createClass(Constructor,protoProps,staticProps){if(protoProps)pathFilterManager_defineProperties(Constructor.prototype,protoProps);if(staticProps)pathFilterManager_defineProperties(Constructor,staticProps);return Constructor}function pathFilterManager_defineProperty(obj,key,value){if(key in
obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var pathFilterManager_PathFilterManager=function(){function PathFilterManager(activeList,shouldAddCategoryToList,environment,gatewayData,activeEnvironmentCategories,allowedTagsInLocalStorage,blockedTagsInLocalStorage){var _this=this;pathFilterManager_classCallCheck(this,PathFilterManager);this.activeList=activeList;this.shouldAddCategoryToList=shouldAddCategoryToList;this.environment=
environment;this.gatewayData=gatewayData;this.activeEnvironmentCategories=activeEnvironmentCategories;this.allowedTagsInLocalStorage=allowedTagsInLocalStorage;this.blockedTagsInLocalStorage=blockedTagsInLocalStorage;pathFilterManager_defineProperty(this,"tagsWithFiltersRegEx",void 0);pathFilterManager_defineProperty(this,"tagsWithAllowPaths",void 0);pathFilterManager_defineProperty(this,"tagsWithBlockPaths",void 0);pathFilterManager_defineProperty(this,"update",function(activeEnvironmentCategories,
allowedTagsInLocalStorage,blockedTagsInLocalStorage){_this.setGlobals(activeEnvironmentCategories,allowedTagsInLocalStorage,blockedTagsInLocalStorage)});pathFilterManager_defineProperty(this,"allowRequest",function(domain,path,targetListCheckPasses){var allowRequest=targetListCheckPasses;if(path!==""&&_this.tagsWithFiltersRegEx.test(domain)){for(var tagsWithAllowPathsCount=0;tagsWithAllowPathsCount<_this.tagsWithAllowPaths.length;tagsWithAllowPathsCount++){var allowPathRegEx=new RegExp(_this.tagsWithAllowPaths[tagsWithAllowPathsCount]["tag"]);
if(allowPathRegEx.test(domain)){var allowRegArray=[];allowRegArray=allowRegArray.concat(_this.tagsWithAllowPaths[tagsWithAllowPathsCount]["paths"]);var allowReg=utilities["utilities"].arrayToRegex(allowRegArray);if(allowReg.test(path)){allowRequest=true;return allowRequest}else allowRequest=false}}for(var tagsWithBlockPathsCount=0;tagsWithBlockPathsCount<_this.tagsWithBlockPaths.length;tagsWithBlockPathsCount++){var domainRegEx=new RegExp(_this.tagsWithBlockPaths[tagsWithBlockPathsCount]["tag"]);
if(domainRegEx.test(domain)){var blockRegArray=[];blockRegArray=blockRegArray.concat(_this.tagsWithBlockPaths[tagsWithBlockPathsCount]["paths"]);var blockReg=utilities["utilities"].arrayToRegex(blockRegArray);if(blockReg.test(path)){allowRequest=false;return allowRequest}else allowRequest=true}}}return allowRequest});pathFilterManager_defineProperty(this,"buildPathFilterList",function(activeList,activeEnvironmentCategories,allowedTagsInLocalStorage,blockedTagsInLocalStorage){var tagsWithFilters=[];
var tagsWithAllowPaths=[];var tagsWithBlockPaths=[];var tagsOnlyFunction=function tagsOnlyFunction(item){return item["tag"]};var tagsWithPathsFunction=function tagsWithPathsFunction(item){return{tag:item["tag"],paths:item["paths"]}};var updateTagListsFunction=function updateTagListsFunction(sourceList){tagsWithFilters.push.apply(tagsWithFilters,_this.extractTagsWithFilters(sourceList,tagsOnlyFunction));tagsWithBlockPaths.push.apply(tagsWithBlockPaths,_this.extractTagsWithFilters(sourceList,tagsWithPathsFunction,
"blockPaths"));tagsWithAllowPaths.push.apply(tagsWithAllowPaths,_this.extractTagsWithFilters(sourceList,tagsWithPathsFunction,"allowPaths"))};for(var category in activeList){var cookieValue=activeEnvironmentCategories[category];if(_this.shouldAddCategoryToList(category,cookieValue))updateTagListsFunction(activeList[category]);if(allowedTagsInLocalStorage&&allowedTagsInLocalStorage.length>0){updateTagListsFunction(allowedTagsInLocalStorage);if(tagsWithFilters.length>0){tagsWithFilters=_this.pruneTagListFromLocalStorage(allowedTagsInLocalStorage,
tagsWithFilters,true);tagsWithAllowPaths=_this.pruneTagListFromLocalStorage(allowedTagsInLocalStorage,tagsWithAllowPaths,true,"tag")}}if(blockedTagsInLocalStorage&&blockedTagsInLocalStorage.length>0){updateTagListsFunction(blockedTagsInLocalStorage);if(tagsWithFilters.length>0){tagsWithFilters=_this.pruneTagListFromLocalStorage(blockedTagsInLocalStorage,tagsWithFilters,false);tagsWithBlockPaths=_this.pruneTagListFromLocalStorage(blockedTagsInLocalStorage,tagsWithBlockPaths,false,"tag")}}}return{regEx:utilities["utilities"].arrayToRegex(tagsWithFilters),
allowPathTags:tagsWithAllowPaths,blockPathTags:tagsWithBlockPaths}});pathFilterManager_defineProperty(this,"pruneTagListFromLocalStorage",function(localStorageList,listToPrune,whitelistCondition,comparisonField){if(utilities["utilities"].isWhitelist(_this.gatewayData,_this.environment)===whitelistCondition){var localTagsWithNoFilters=_this.checkForFiltersToRemove(localStorageList);localTagsWithNoFilters.forEach(function(removeIfPresent){listToPrune=listToPrune.filter(function(item){if(comparisonField!=
null)item=item[comparisonField];return item!==removeIfPresent["tag"]})})}return listToPrune});pathFilterManager_defineProperty(this,"checkForFiltersToRemove",function(localStorageURLs){return localStorageURLs.filter(function(item){return item.filter===undefined})});pathFilterManager_defineProperty(this,"setGlobals",function(activeEnvironmentCategories,allowedTagsInLocalStorage,blockedTagsInLocalStorage){_this.activeEnvironmentCategories=activeEnvironmentCategories;var updatedGlobals=_this.buildPathFilterList(_this.activeList,
_this.activeEnvironmentCategories,allowedTagsInLocalStorage,blockedTagsInLocalStorage);_this.tagsWithAllowPaths=updatedGlobals.allowPathTags;_this.tagsWithBlockPaths=updatedGlobals.blockPathTags;_this.tagsWithFiltersRegEx=updatedGlobals.regEx});this.setGlobals(activeEnvironmentCategories,allowedTagsInLocalStorage,blockedTagsInLocalStorage)}pathFilterManager_createClass(PathFilterManager,[{key:"extractTagsWithFilters",value:function extractTagsWithFilters(tagList,extractDataFunction,filterType){var filterFunction=
function filterFunction(item){return item["filter"]!==undefined};if(filterType!=null)filterFunction=function filterFunction(item){return item["filter"]===filterType};return tagList.filter(filterFunction).map(extractDataFunction)}}]);return PathFilterManager}();var find=__webpack_require__(16);var find_default=__webpack_require__.n(find);function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")_typeof=function _typeof(obj){return typeof obj};
else _typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return _typeof(obj)}function listManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function listManager_defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}
var listManager_ListManager=function ListManager(environment,gatewayData,defaultCategory,activeEnvironmentCategories){var _this=this;var allowedUrls=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];var blockedUrls=arguments.length>5&&arguments[5]!==undefined?arguments[5]:[];listManager_classCallCheck(this,ListManager);this.environment=environment;this.gatewayData=gatewayData;this.defaultCategory=defaultCategory;this.activeEnvironmentCategories=activeEnvironmentCategories;this.allowedUrls=
allowedUrls;this.blockedUrls=blockedUrls;listManager_defineProperty(this,"filteredList",{});listManager_defineProperty(this,"activeList",void 0);listManager_defineProperty(this,"listRegex",new RegExp("a^"));listManager_defineProperty(this,"alwaysAllowedListRegex",new RegExp("a^"));listManager_defineProperty(this,"pathFilterManager",void 0);listManager_defineProperty(this,"usesAllowlist",true);listManager_defineProperty(this,"usesPathFilter",false);listManager_defineProperty(this,"isInitialized",false);
listManager_defineProperty(this,"getList",function(){return _this.activeList});listManager_defineProperty(this,"getListRegex",function(){return _this.listRegex||new RegExp("a^")});listManager_defineProperty(this,"getTranslatedList",function(){var fullList=_this.getList(),translatedList=fullList;for(var category in fullList)if(category!=="default")translatedList[category]=_this.getCategoryTranslations(fullList[category]);return translatedList});listManager_defineProperty(this,"getFilteredList",function(){return _this.filteredList});
listManager_defineProperty(this,"isWhitelist",function(){return _this.usesAllowlist});listManager_defineProperty(this,"allowRequest",function(hostName,request,pathName){var listRegEx=_this.getListRegex();var targetListCheckPasses=false;if(_this.isWhitelist()===false){if(listRegEx.test&&!listRegEx.test(hostName))targetListCheckPasses=true}else if(listRegEx.test&&listRegEx.test(hostName))targetListCheckPasses=true;if(_this.pathFilterManager!=null)targetListCheckPasses=_this.pathFilterManager.allowRequest(hostName,
pathName,targetListCheckPasses);if(!targetListCheckPasses){request.addReason(_this.usesAllowlist?"Whitelist":"Blacklist");var matchedCategories=_this.findMatchedCategories(hostName);request.list=matchedCategories}return targetListCheckPasses});listManager_defineProperty(this,"updateListValues",function(activeEnvironmentCategories,allowedUrls,blockedUrls){_this.buildListRegex(_this.environment,activeEnvironmentCategories,allowedUrls,blockedUrls);if(_this.pathFilterManager!=null)_this.pathFilterManager.update(activeEnvironmentCategories,
allowedUrls,blockedUrls)});listManager_defineProperty(this,"updateEnvironment",function(newEnv,activeEnvironmentCategories,allowedUrls,blockedUrls){_this.environment=newEnv;_this.updateListValues(activeEnvironmentCategories,allowedUrls,blockedUrls)});listManager_defineProperty(this,"getAlwaysAllowedListRegex",function(){return _this.alwaysAllowedListRegex||new RegExp("a^")});listManager_defineProperty(this,"buildListRegex",function(environment,activeEnvironmentCategories,allowedUrls,blockedUrls){_this.setUsesAllowlist(environment);
_this.setActiveList(environment);if(_this.usesAllowlist)_this.buildListRegexForAlwaysAllowedDomains();var list=_this.getList();var reg=[];var addToList=function addToList(listVals){var listUsesObject=false;for(var cat in list)if(list[cat][0]&&_typeof(list[cat][0])==="object")listUsesObject=true;if(listUsesObject)reg=reg.concat(_this.getObjectVals(list[listVals],"tag"));else reg=reg.concat(list[listVals])};for(var category in list){var cookieValue=activeEnvironmentCategories[category];if(_this.shouldAddToListRegex(category,
cookieValue)){addToList(category);_this.filteredList[category]=list[category]}}if(_this.usesAllowlist){if(allowedUrls&&allowedUrls.length>0){reg=reg.concat(_this.getObjectVals(allowedUrls,"tag"));_this.filteredList["allowedTags"]=allowedUrls}if(blockedUrls&&blockedUrls.length>0){reg=reg.filter(function(element){return _this.getObjectVals(blockedUrls,"tag").indexOf(element)===-1});for(var _category in _this.filteredList)_this.filteredList[_category]=_this.filteredList[_category].filter(function(element){var foundEle=
find_default()(blockedUrls,function(tag){return tag.tag===element.tag});return blockedUrls.indexOf(foundEle)===-1})}}else{if(blockedUrls&&blockedUrls.length>0){reg=reg.concat(_this.getObjectVals(blockedUrls,"tag"));_this.filteredList["blockedTags"]=blockedUrls}if(allowedUrls&&allowedUrls.length>0){reg=reg.filter(function(element){return _this.getObjectVals(allowedUrls,"tag").indexOf(element)===-1});for(var _category2 in _this.filteredList)_this.filteredList[_category2]=_this.filteredList[_category2].filter(function(element){var foundEle=
find_default()(allowedUrls,function(tag){return tag.tag===element.tag});return allowedUrls.indexOf(foundEle)===-1})}}var flags=_this.usesAllowlist?"i":undefined;_this.listRegex=utilities["utilities"].arrayToRegex(reg,flags)});listManager_defineProperty(this,"shouldAddToListRegex",function(category,cookieValue){var shouldAddToListRegex=false;if(category===_this.defaultCategory){shouldAddToListRegex=true;return shouldAddToListRegex}if(_this.usesAllowlist)if(cookieValue==="1")shouldAddToListRegex=true;
else{if((!cookieValue||cookieValue!=="0")&&_this.isEnvironmentCategoryEnabled(category,1))shouldAddToListRegex=true}else if(cookieValue==="0")shouldAddToListRegex=true;else if((!cookieValue||cookieValue!=="1")&&_this.isEnvironmentCategoryEnabled(category,0))shouldAddToListRegex=true;return shouldAddToListRegex});listManager_defineProperty(this,"isEnvironmentCategoryEnabled",function(category,val){return _this.environment&&_this.environment.optVals[category]===val});listManager_defineProperty(this,
"getObjectVals",function(arrayOfObjects,key){var arrayOfObjectVals=[];for(var i=0;i<arrayOfObjects.length;i++){var val=arrayOfObjects[i][key];if(val!==""&&val!==undefined&&val!=null)arrayOfObjectVals.push(val);if(arrayOfObjects["filter"])_this.usesPathFilter=true}if(_this.usesPathFilter)_this.pathFilterManager=new pathFilterManager_PathFilterManager(_this.getList(),_this.shouldAddToListRegex,_this.environment,_this.gatewayData,_this.activeEnvironmentCategories,_this.allowedUrls,_this.blockedUrls);
return arrayOfObjectVals});listManager_defineProperty(this,"getCategoryTranslations",function(category){if(_this.environment.translation&&_this.environment.translation.purposes)for(var i=0;i<category.length;i++){var translatedPurposes=[];if(category[i].purpose)for(var j=0;j<category[i].purpose.length;j++)translatedPurposes.push(_this.environment.translation.purposes[category[i].purpose[j]]);category[i].purpose=translatedPurposes}return category});listManager_defineProperty(this,"setUsesAllowlist",
function(environment){_this.usesAllowlist=utilities["utilities"].isWhitelist(_this.gatewayData,environment)});listManager_defineProperty(this,"setActiveList",function(environment){if(_this.usesAllowlist)if(environment&&environment.hasOwnProperty("whitelist"))_this.activeList=environment.whitelist;else _this.activeList=_this.gatewayData.whitelist||{};else if(environment&&environment.hasOwnProperty("blacklist"))_this.activeList=environment.blacklist;else _this.activeList=_this.gatewayData.blacklist||
{};if(!_this.activeList.hasOwnProperty(_this.defaultCategory)&&_this.usesAllowlist===true)_this.activeList[_this.defaultCategory]=[];if(_this.usesAllowlist&&!_this.isInitialized){var nexusDomain=_this.gatewayData.info.nexus||"nexus.ensighten.com";var vendorListDomain="vendorlist.consensu.org";_this.activeList[_this.defaultCategory].push({tag:location.hostname});_this.activeList[_this.defaultCategory].push({tag:nexusDomain});_this.activeList[_this.defaultCategory].push({tag:vendorListDomain})}});listManager_defineProperty(this,
"findMatchedCategories",function(hostName){var matchedCategories=[];var categoryList=_this.getTranslatedList();for(var category in categoryList)for(var i=0;i<categoryList[category].length;i++)if(hostName.match(categoryList[category][i].tag))matchedCategories.push(category);if(matchedCategories.length===0)matchedCategories.push(_this.usesAllowlist?"Whitelist":"Blacklist");return matchedCategories});listManager_defineProperty(this,"buildListRegexForAlwaysAllowedDomains",function(){var alwaysAllowedDomains=
_this.getList()?_this.getList()[_this.defaultCategory]||[]:[];var objectValues=_this.getObjectVals(alwaysAllowedDomains,"tag");_this.alwaysAllowedListRegex=utilities["utilities"].arrayToRegex(objectValues,"i")});this.buildListRegex(environment,activeEnvironmentCategories,allowedUrls,blockedUrls);this.isInitialized=true};var src_consentReporter=__webpack_require__(34);var consentModal_ConsentModal=function ConsentModal(gatewayData,environment,tagPurposes,cookieManager,updateLists,consentReporter){var previousFocusedElement;
var styleString=""+".ensCenter{"+"text-align: center;"+"}"+"#ensModalWrapper{"+"border: 1px solid #333;"+"position: fixed;"+"max-width: 60%;"+"border: 1px solid #000;"+"display: none;"+"box-shadow: 5px 5px 5px grey;"+"background-color:#fff;"+"padding: 20px 0;"+"z-index: 9999;"+"}"+".ensModal {"+"font-family: Roboto, 'Helvetica Neue', Helvetica, Arial;"+"min-width: 400px;"+"max-width: 400px;"+"}"+".ensModal input[type\x3d'checkbox'] {"+"display: none;"+"}"+".ensModal input[type\x3d'checkbox']:checked ~ .toggle {"+
"background: #fff;"+"left: 36px;"+"transition: .5s;"+"}"+".ensModal input[type\x3d'checkbox']:checked ~ .switch {"+"background: #43A047;"+"transition: .5s;"+"}"+".ensModal .switch {"+"display: block;"+"width: 50px;"+"height: 15px;"+"background: #939393;"+"border-radius: 10px;"+"position: absolute;"+"top: 0;"+"transition: .5s;"+"}"+".ensModal .toggle {"+"height: 17px;"+"width: 17px;"+"border-radius: 50%;"+"background: white;"+"position: absolute;"+"top: -2px;"+"left: -2px;"+"box-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);"+
"transition: .5s;"+"}"+".ensModal .card {"+"display: inline-block;"+"margin: 9px;"+"margin: 5px;"+"width: 50px;"+"height: 20px;"+"text-align: center;"+"position: relative;"+"float:right;"+"}"+".ensModal{"+"font-size: 18px;"+"color: #333;"+"padding: 20px 20px 0px 20px;"+"}"+".ensToggleRow{"+"margin-bottom: 10px;"+"}"+".ensToggleLabel{"+"margin-right: 5px;"+"}"+".ensButtons{"+"clear: both;"+"margin-top: 15px;"+"float: right;"+"}"+".ensButtons .button{"+"display: inline-block;"+"position: relative;"+
"width: 120px;"+"height: 32px;"+"border-radius: 2px;"+"font-size: 0.9em;"+"background-color: #fff;"+"color: #646464;"+"margin-left: 20px;"+"}"+".ensButtons .button.grey {"+"background-color: #eee;"+"}"+".ensButtons .button.blue {"+"background-color: #2b5cac;"+"color: #fff;"+"}"+".ensButtons .button.raised {"+"transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);"+"transition-delay: 0.2s;"+"box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);"+"}"+".ensButtons .button.raised:active {"+"box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);"+
"transition-delay: 0s;"+"}"+".ensModal .ensTitle {"+"margin:5px;"+"width:95%;"+"color: #74736F;"+"position: absolute;"+"top:-5px;"+"left:-5px;"+"padding-left:5%;"+"padding-top:13px;"+"padding-bottom: 3px;"+"text-align: center;"+"}"+".ensModal .consentDescription {"+"color:#333;"+"font-size: 14px;"+"}"+".ensModal hr {"+"color: #C5C5C5"+"}"+".ensModal .description {"+"max-width:600px;"+"font-size: 12px;"+"marin-top:15px;"+"clear: both;"+"}"+".mdl-shadow--2dp {"+"box-shadow: 0 2px 2px 0 rgba(0,0,0,.14), 0 3px 1px -2px rgba(0,0,0,.2), 0 1px 5px 0 rgba(0,0,0,.12);"+
"}"+".mdl-data-table {"+"position: relative;"+"border: 1px solid rgba(0,0,0,.12);"+"border-collapse: collapse;"+"white-space: nowrap;"+"font-size: 13px;"+"background-color: #fff;"+"}"+".mdl-data-table thead {"+"padding-bottom: 3px;"+"}"+"tr{"+"display: table-row;"+"vertical-align: inherit;"+"border-color: inherit;"+"}"+".mdl-data-table td:first-of-type, .mdl-data-table th:first-of-type {"+"padding-left: 24px;"+"}"+".mdl-data-table__cell--non-numeric.mdl-data-table__cell--non-numeric {"+"text-align: left;"+
"}"+"tbody {"+"display: table-row-group;"+"vertical-align: middle;"+"border-color: inherit;"+"}"+".mdl-data-table tbody tr {"+"position: relative;"+"height: 48px;"+"transition-duration: .28s;"+"transition-timing-function: cubic-bezier(.4,0,.2,1);"+"transition-property: background-color;"+"}"+".mdl-data-table td:first-of-type, .mdl-data-table th:first-of-type {"+"padding-left: 24px;"+"}"+".mdl-data-table td, .mdl-data-table td .mdl-data-table__select {"+"vertical-align: middle;"+"}"+".mdl-data-table td {"+
"position: relative;"+"height: 48px;"+"border-top: 1px solid rgba(0,0,0,.12);"+"border-bottom: 1px solid rgba(0,0,0,.12);"+"padding: 12px 18px;"+"box-sizing: border-box;"+"}"+".mdl-data-table th {"+"position: relative;"+"vertical-align: bottom;"+"text-overflow: ellipsis;"+"font-weight: 700;"+"line-height: 24px;"+"letter-spacing: 0;"+"height: 48px;"+"font-size: 12px;"+"color: rgba(0,0,0,.54);"+"padding-bottom: 8px;"+"box-sizing: border-box;"+"}"+".mdl-data-table th {"+"padding: 0 18px 12px 18px;"+
"text-align: right;"+"}"+".mdl-navigation__link {"+"color: #424242;"+"margin: 0;"+"font-size: 14px;"+"font-weight: 400;"+"line-height: 24px;"+"letter-spacing: 0;"+"opacity: .87;"+"}";this.ensShowMore=function(){var showMoreLink=document.getElementById("ensShowMoreLink");var tagsTableContainer=document.getElementById("ensTagsTableContainer");if(showMoreLink.innerText==="Show More"){showMoreLink.innerText="Show Less";tagsTableContainer.style.display="block"}else{showMoreLink.innerText="Show More";tagsTableContainer.style.display=
"none"}};var isEnabledConsentModal=function isEnabledConsentModal(env){return env&&env.hasOwnProperty("enableConsentModal")?env.enableConsentModal:gatewayData.featureToggles.enableConsentModal};var that=this;this.environment=environment;this.cookieVals=[];this.allowAll=function(){var oldCookies=cookieManager.getCookiesFromTypes(gatewayData.cookieTypes);for(var i=0;i<gatewayData.cookieTypes.length;i++)cookieManager.setCookie(gatewayData.cookieTypes[i],1);var newCookies=cookieManager.getCookiesFromTypes(gatewayData.cookieTypes);
var categoryMap=cookieManager.getCategoryMapFromCookieTypes(gatewayData.cookieTypes);updateLists(categoryMap);consentReporter.sendReport(oldCookies,newCookies)};this.closeModal=function(){that.sectionElement.style.display="none";this.onCloseModal()};this.denyAll=function(){var oldCookies=cookieManager.getCookiesFromTypes(gatewayData.cookieTypes);for(var i=0;i<gatewayData.cookieTypes.length;i++)cookieManager.setCookie(gatewayData.cookieTypes[i],0);var newCookies=cookieManager.getCookiesFromTypes(gatewayData.cookieTypes);
var categoryMap=cookieManager.getCategoryMapFromCookieTypes(gatewayData.cookieTypes);updateLists(categoryMap);consentReporter.sendReport(oldCookies,newCookies)};this.sectionElement=document.createElement("section");this.sectionElement.id="ensModalWrapper";this.getInnerModalString=function(){return""};this.init=function(){that.update(environment)};this.injectModal=function(){if(!gatewayData.featureToggles.disableDefaultStyles)utilities["utilities"].addStyleElement(styleString);document.body.insertBefore(that.sectionElement,
document.body.lastChild);that.setHTMLBindings();that.setConsentModalWrapperAccessibilitySettings()};this.modalLoaded=function(){var oldCookies=cookieManager.getCookiesFromTypes(["MODAL_LOADED"]);cookieManager.setCookie("MODAL_LOADED","1");var newCookies=cookieManager.getCookiesFromTypes(["MODAL_LOADED"]);consentReporter.sendReport(oldCookies,newCookies)};this.modalViewed=function(){var oldCookies=cookieManager.getCookiesFromTypes(["MODAL_VIEWED"]);cookieManager.setCookie("MODAL_VIEWED","1");var newCookies=
cookieManager.getCookiesFromTypes(["MODAL_VIEWED"]);consentReporter.sendReport(oldCookies,newCookies)};this.openModal=function(){that.sectionElement.style.display="block";utilities["utilities"].domReady(function(){var parentWidth=window.innerWidth/2;var parentHeight=window.innerHeight/2;var elementWidth=parseInt(window.getComputedStyle(that.sectionElement).width)/2;var elementHeight=parseInt(window.getComputedStyle(that.sectionElement).height)/2;that.sectionElement.style.left=parentWidth-elementWidth+
"px";that.sectionElement.style.top=parentHeight-elementHeight+"px";that.modalLoaded();that.onOpenModal()})};this.initializeFocus=function(){previousFocusedElement=document.activeElement;var initialElement=document.getElementById("ensShowMoreLink");if(initialElement&&typeof initialElement.focus==="function")initialElement.focus()};this.onOpenModal=function(){document.body.addEventListener("keydown",this.escapeCloseModal);this.initializeFocus()};this.escapeCloseModal=function(event){var ESC_KEYCODE=
27;if(event.keyCode===ESC_KEYCODE)that.closeModal()};this.onCloseModal=function(){document.body.removeEventListener("keydown",this.escapeCloseModal);if(previousFocusedElement&&typeof previousFocusedElement.focus==="function")previousFocusedElement.focus()};this.getModalHtmlString=function(){var isPurposeColumnAdded=false;var modalHtmlString="\x3cdiv class\x3d'ensModal' aria-label\x3d'Consent Configuration'\x3e"+"\x3cheader class\x3d'ensTitle' id\x3d'ensConsentTitle'\x3e"+that.environment.translation["consentTitle"]+
"\x3c/header\x3e"+"\x3cdiv class\x3d'consentDescription' id\x3d'ensConsentDescription'\x3e"+that.environment.translation["consentDescription"]+"\x3c/div\x3e"+"\x3cdiv\x3e\x3c/div\x3e"+"\x3cbr\x3e"+"\x3cdiv style\x3d'float:right;'\x3e\x3ca class\x3d'mdl-navigation__link closed' onclick\x3d'ensShowMore()' id\x3d'ensShowMoreLink' href\x3d'#' style\x3d'text-decoration: underline;'\x3eShow More\x3c/a\x3e\x3c/div\x3e"+"\x3cdiv\x3e\x3cbr\x3e\x3cbr\x3e\x3c/div\x3e"+"\x3cdiv id\x3d'ensTagsTableContainer' style\x3d'max-height:200px; overflow-y: scroll; display:none;'\x3e"+
"\x3ctable id\x3d'ensTagsTable' class\x3d'mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp' style\x3d'width: 100%'\x3e"+"\x3ctr\x3e"+"\x3cth class\x3d'mdl-data-table__cell--non-numeric'\x3eTag\x3c/th\x3e";for(var cat in tagPurposes)if(cat!=="default"){var categoryTags=tagPurposes[cat];var purposesNotEmpty=checkIfPurposesNotEmpty(categoryTags);if(!isPurposeColumnAdded){modalHtmlString+=purposesNotEmpty?"\x3cth class\x3d'mdl-data-table__cell--non-numeric'\x3ePurposes\x3c/th\x3e\x3c/tr\x3e":
"\x3c/tr\x3e";isPurposeColumnAdded=true}for(var i=0;i<categoryTags.length;i++){var tagPurpose=categoryTags[i];var purposes=Array.isArray(tagPurpose.purpose)?tagPurpose.purpose.join(", "):"";modalHtmlString+="\x3ctr\x3e"+"\x3ctd  class\x3d'mdl-data-table__cell--non-numeric'\x3e"+tagPurpose.displayName+"\x3c/td\x3e"+(purposesNotEmpty?"\x3ctd  class\x3d'mdl-data-table__cell--non-numeric'\x3e"+purposes+"\x3c/td\x3e\x3c/tr\x3e":"\x3c/tr\x3e")}}modalHtmlString+="\x3c/table\x3e"+"\x3c/div\x3e"+"\x3cpaper-ripple fit\x3e\x3c/paper-ripple\x3e";
if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableDoNotSellModal"))modalHtmlString+="\x3cbr\x3e\x3ca id\x3d'ensDoNotSellModalLink' href\x3d'javascript:void(0)'\x3e"+that.environment.translation["doNotSellModal"].link+"\x3c/a\x3e";if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableRequestDataModal"))modalHtmlString+="\x3cbr\x3e\x3ca id\x3d'ensRequestDataModalLink' href\x3d'javascript:void(0)'\x3e"+
that.environment.translation["requestDataModal"].link+"\x3c/a\x3e";if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableDeleteDataModal"))modalHtmlString+="\x3cbr\x3e\x3ca id\x3d'ensDeleteDataModalLink' href\x3d'javascript:void(0)'\x3e"+that.environment.translation["deleteDataModal"].link+"\x3c/a\x3e";modalHtmlString+="\x3c/div\x3e";modalHtmlString+="\x3cdiv style\x3d'padding:0 20px;'\x3e"+that.getInnerModalString()+"\x3c/div\x3e"+"\x3cdiv style\x3d'clear:both; font-size:8px; text-align: center; padding-top:20px;'\x3e\x3ca href\x3d'https://www.ensighten.com/products/enterprise-tag-management/privacy/' target\x3d'_blank' style\x3d'text-decoration: none; color: #424242;'\x3eGDPR Compliance - Powered By Ensighten\x3c/a\x3e\x3c/div\x3e";
return modalHtmlString};this.setHTMLBindings=function(){};this.setConsentModalWrapperAccessibilitySettings=function(){var consentModal=document.getElementById("ensModalWrapper");consentModal.setAttribute("role","dialog");consentModal.setAttribute("aria-labelledby","ensConsentTitle");consentModal.setAttribute("aria-describedby","ensConsentDescription");consentModal.setAttribute("focusable","true");consentModal.setAttribute("aria-modal","true")};this.update=function(environment){if(isEnabledConsentModal(environment)){that.environment=
environment;that.sectionElement.innerHTML=that.getModalHtmlString();if(document.getElementById(that.sectionElement.id)==null)utilities["utilities"].domReady(that.injectModal)}};function checkIfPurposesNotEmpty(categoryTags){var hasPurposes=false;for(var i=0;i<categoryTags.length;i++)if(Array.isArray(categoryTags[i].purpose)&&categoryTags[i].purpose.length){hasPurposes=true;break}return hasPurposes}this.isEnabledConsentModal=isEnabledConsentModal;return this};var noTogglesConsentModal_NoTogglesConsentModal=
function NoTogglesConsentModal(gatewayData,environment,tagPurposes,cookieManager,updateLists,consentReporter){var modal=new consentModal_ConsentModal(gatewayData,environment,tagPurposes,cookieManager,updateLists,consentReporter);modal.getInnerModalString=function(){return"\x3cdiv class\x3d'ensButtons'\x3e"+"\x3cbutton id\x3d'ensDeny'  class\x3d'button raised grey'\x3e"+"\x3cdiv class\x3d'ensCenter'\x3e"+environment.translation.deny+"\x3c/div\x3e"+"\x3cpaper-ripple fit\x3e\x3c/paper-ripple\x3e"+"\x3c/button\x3e"+
"\x3cbutton id\x3d'ensAllow' class\x3d'button raised blue'\x3e"+"\x3cdiv class\x3d'ensCenter' fit\x3e"+environment.translation.allow+"\x3c/div\x3e"+"\x3cpaper-ripple fit\x3e\x3c/paper-ripple\x3e"+"\x3c/button\x3e"+"\x3c/div\x3e"+"\x3c/div\x3e"};modal.setHTMLBindings=function(){var allowButton=document.getElementById("ensAllow");var denyButton=document.getElementById("ensDeny");if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableDoNotSellModal")){var doNotSellLink=
document.getElementById("ensDoNotSellModalLink");doNotSellLink.addEventListener("click",function(){modal.closeModal();gateway.openDoNotSellModal()})}if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableRequestDataModal")){var requestDataLink=document.getElementById("ensRequestDataModalLink");requestDataLink.addEventListener("click",function(){modal.closeModal();gateway.openRequestDataModal()})}if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,
environment,"enableDeleteDataModal")){var deleteDataLink=document.getElementById("ensDeleteDataModalLink");deleteDataLink.addEventListener("click",function(){modal.closeModal();gateway.openDeleteDataModal()})}allowButton.addEventListener("click",function(){modal.allowAll();closeViewedModal()});denyButton.addEventListener("click",function(){modal.denyAll();closeViewedModal()})};function closeViewedModal(){modal.closeModal();modal.modalViewed()}modal.init();return modal};function tagAccessManager_typeof(obj){"@babel/helpers - typeof";
if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")tagAccessManager_typeof=function _typeof(obj){return typeof obj};else tagAccessManager_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};return tagAccessManager_typeof(obj)}function tagAccessManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function tagAccessManager_defineProperties(target,
props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function tagAccessManager_createClass(Constructor,protoProps,staticProps){if(protoProps)tagAccessManager_defineProperties(Constructor.prototype,protoProps);if(staticProps)tagAccessManager_defineProperties(Constructor,staticProps);return Constructor}function tagAccessManager_defineProperty(obj,
key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var TagAccessManager=function(){function TagAccessManager(clientName){tagAccessManager_classCallCheck(this,TagAccessManager);tagAccessManager_defineProperty(this,"clientName",void 0);tagAccessManager_defineProperty(this,"ALLOWED_KEY",void 0);tagAccessManager_defineProperty(this,"BLOCKED_KEY",void 0);this.clientName=clientName;this.ALLOWED_KEY=clientName+
"_ENSIGHTEN_ALLOWED_URLS";this.BLOCKED_KEY=clientName+"_ENSIGHTEN_BLOCKED_URLS"}tagAccessManager_createClass(TagAccessManager,[{key:"isLocalStorageSupported",value:function isLocalStorageSupported(){try{return"localStorage"in window&&window["localStorage"]!=null&&(typeof localStorage==="undefined"?"undefined":tagAccessManager_typeof(localStorage))==="object"&&typeof localStorage.getItem==="function"&&typeof localStorage.setItem==="function"}catch(e){return false}}},{key:"allowTag",value:function allowTag(tag){if(this.validateTag(tag)&&
this.isLocalStorageSupported()){var allowedURLS=this.getAllowedTags();if(!this.isTagIncluded(allowedURLS,tag)){allowedURLS.push(tag);localStorage.setItem(this.ALLOWED_KEY,JSON.stringify(allowedURLS))}var blockedURLS=this.getBlockedTags();blockedURLS=blockedURLS.filter(function(element){return JSON.stringify(element)!==JSON.stringify(tag)});localStorage.setItem(this.BLOCKED_KEY,JSON.stringify(blockedURLS));return tag}else if(!this.isLocalStorageSupported())return Error("Local storage is either disabled or not supported in your browser.");
return Error("invalid tag")}},{key:"blockTag",value:function blockTag(tag){if(this.validateTag(tag)&&this.isLocalStorageSupported()){var blockedURLS=this.getBlockedTags();if(!this.isTagIncluded(blockedURLS,tag)){blockedURLS.push(tag);localStorage.setItem(this.BLOCKED_KEY,JSON.stringify(blockedURLS))}var allowedURLS=this.getAllowedTags();allowedURLS=allowedURLS.filter(function(element){return JSON.stringify(element)!==JSON.stringify(tag)});localStorage.setItem(this.ALLOWED_KEY,JSON.stringify(allowedURLS));
return tag}return Error("invalid tag")}},{key:"clearTags",value:function clearTags(){if(this.isLocalStorageSupported()){localStorage.setItem(this.ALLOWED_KEY,"");localStorage.setItem(this.BLOCKED_KEY,"")}}},{key:"getAllowedTags",value:function getAllowedTags(){if(this.isLocalStorageSupported())return localStorage.getItem(this.ALLOWED_KEY)?JSON.parse(localStorage.getItem(this.ALLOWED_KEY)):[];return[]}},{key:"getBlockedTags",value:function getBlockedTags(){if(this.isLocalStorageSupported())return localStorage.getItem(this.BLOCKED_KEY)?
JSON.parse(localStorage.getItem(this.BLOCKED_KEY)):[];return[]}},{key:"isTagInAllowedList",value:function isTagInAllowedList(tag){if(this.validateTag(tag))return this.isTagIncluded(this.getAllowedTags(),tag);return Error("invalid tag")}},{key:"isTagInBlockedList",value:function isTagInBlockedList(tag){if(this.validateTag(tag))return this.isTagIncluded(this.getBlockedTags(),tag);return Error("invalid tag")}},{key:"validateTag",value:function validateTag(tag){return tag&&tag.tag}},{key:"isTagIncluded",
value:function isTagIncluded(tags,tagForVerify){var isIncluded=false;for(var i=tags.length;i--;i>=0)if(tags[i].displayName===tagForVerify.displayName&&tags[i].tag===tagForVerify.tag){isIncluded=true;break}return isIncluded}}]);return TagAccessManager}();function setAllowPerTagOptOut(environment,featureToggles){var allowed=utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(featureToggles,environment,"allowPerTagOptOut");return allowed}var cookieModal_CookieModal=function CookieModal(cookieManager,
listManager,consentReporter,environment,gatewayData){var cookieModal=document.createElement("section");cookieModal.id="ensModalWrapper";var cookieVals=[];var modalHtmlString="";var allowPerTagOptOut=setAllowPerTagOptOut(environment,gatewayData.featureToggles);var ESC_KEYCODE=27;var previousFocusedElement;var cookieValsState=[];var injectModalDelay=100;var openModalDelay=injectModalDelay+50;var tagAccessManager=new TagAccessManager(gatewayData.info.name);var modalLoaded=function modalLoaded(){var oldCookies=
cookieManager.getCookiesFromTypes(["MODAL_LOADED"]);cookieManager.setCookie("MODAL_LOADED","1");var newCookies=cookieManager.getCookiesFromTypes(["MODAL_LOADED"]);consentReporter.sendReport(oldCookies,newCookies)};var modalViewed=function modalViewed(){var oldCookies=cookieManager.getCookiesFromTypes(["MODAL_VIEWED"]);cookieManager.setCookie("MODAL_VIEWED","1");var newCookies=cookieManager.getCookiesFromTypes(["MODAL_VIEWED"]);consentReporter.sendReport(oldCookies,newCookies)};var getCurrentCookieVal=
function getCurrentCookieVal(key){var checkBox=document.getElementById(key+"Slide");var retVal=0;if(checkBox&&checkBox.checked)retVal=1;return retVal};var allowOrBlockTagsForCategory=function allowOrBlockTagsForCategory(category){var tags=listManager.getList()[category]||[];var categoryCheckBox=document.getElementById(category+"Slide");var i=tags.length;for(;i--;i>=0){var slideId=generateTagSlideId(category,tags[i]);var tagCheckbox=document.getElementById(slideId);if(tagCheckbox&&categoryCheckBox)if(tagCheckbox.checked!==
categoryCheckBox.checked)tagAccessManager[tagCheckbox.checked?"allowTag":"blockTag"](tags[i])}};var saveNewCookieValues=function saveNewCookieValues(){var oldCookies=cookieManager.getCookiesFromTypes(gatewayData.cookieTypes);if(allowPerTagOptOut)tagAccessManager.clearTags();for(var i=0;i<gatewayData.cookieTypes.length;i++){if(allowPerTagOptOut)allowOrBlockTagsForCategory(gatewayData.cookieTypes[i]);cookieManager.setCookie(gatewayData.cookieTypes[i],getCurrentCookieVal(gatewayData.cookieTypes[i]))}var newCookies=
cookieManager.getCookiesFromTypes(gatewayData.cookieTypes);var categoryMap=cookieManager.getCategoryMapFromCookieTypes(gatewayData.cookieTypes);listManager.updateListValues(categoryMap);consentReporter.sendReport(oldCookies,newCookies)};var getCookieValsState=function getCookieValsState(){var cookieToggles=document.querySelectorAll(".ensCheckbox");for(var i=0;i<cookieToggles.length;i++)cookieValsState.push(cookieToggles[i].checked)};var resetCookieValsState=function resetCookieValsState(){cookieValsState=
[]};var setCookieValsState=function setCookieValsState(){if(cookieValsState.length===0)return;var cookieToggles=document.querySelectorAll(".ensCheckbox");for(var i=0;i<cookieToggles.length;i++)cookieToggles[i].checked=cookieValsState[i]};var openModal=function openModal(){utilities["utilities"].domReady(function(){setTimeout(function(){cookieModal.style.display="block";var parentWidth=window.innerWidth/2;var parentHeight=window.innerHeight/2;var elementWidth=parseInt(window.getComputedStyle(cookieModal).width)/
2;var elementHeight=parseInt(window.getComputedStyle(cookieModal).height)/2;cookieModal.style.left=parentWidth-elementWidth+"px";cookieModal.style.top=parentHeight-elementHeight+"px";onOpenModal();modalLoaded()},openModalDelay)})};var initializeFocus=function initializeFocus(){previousFocusedElement=document.activeElement;var firstEnabledToggle=document.querySelector(".ensCheckbox:enabled");if(firstEnabledToggle&&typeof firstEnabledToggle.focus==="function")firstEnabledToggle.focus()};var onOpenModal=
function onOpenModal(){document.body.addEventListener("keydown",escapeCloseModal);initializeFocus()};var escapeCloseModal=function escapeCloseModal(event){if(event.keyCode===ESC_KEYCODE){closeModal();setCookieValsState()}};var closeModal=function closeModal(){modalViewed();cookieModal.style.display="none";onCloseModal()};var cancelCloseModal=function cancelCloseModal(){gateway.cookieModal.closeModal();setCookieValsState()};var onCloseModal=function onCloseModal(){document.removeEventListener("keydown",
escapeCloseModal);if(previousFocusedElement&&typeof previousFocusedElement.focus==="function")previousFocusedElement.focus()};var getCheckedString=function getCheckedString(isChecked){if(isChecked)return" checked ";else return""};var shouldCategoryBeChecked=function shouldCategoryBeChecked(defaultVal,cookieKey){var shouldBeChecked=false;var localCookieVal=cookieManager.getCookie(cookieKey);if(defaultVal===1||localCookieVal==="1")shouldBeChecked=true;if(!localCookieVal&&defaultVal!==1||localCookieVal===
"0"&&defaultVal===1)shouldBeChecked=false;return shouldBeChecked};var shouldTagBeChecked=function shouldTagBeChecked(isParentChecked,tag){var shouldBeChecked;if(isParentChecked){shouldBeChecked=true;if(tagAccessManager.isTagInBlockedList(tag))shouldBeChecked=false}else{shouldBeChecked=false;if(tagAccessManager.isTagInAllowedList(tag))shouldBeChecked=true}return shouldBeChecked};var styleString=""+".ensCenter{"+"text-align: center;"+"}"+"#ensModalWrapper{"+"border: 1px solid #333;"+"position: fixed;"+
"max-width: 80%;"+"border: 1px solid #000;"+"display: none;"+"box-shadow: 5px 5px 5px grey;"+"background-color:#fff;"+"padding: 20px 0;"+"z-index: 9999;"+"}"+".ensModal {"+"font-family: Roboto, 'Helvetica Neue', Helvetica, Arial;"+"}"+".ensModal input[type\x3d'checkbox'] {"+"position: absolute !important;"+"height: 1px; "+"width: 1px;"+"overflow: hidden;"+"clip: rect(1px, 1px, 1px, 1px);"+"white-space: nowrap; /* added line */"+"}"+".ensModal input[type\x3d'checkbox']:not(:focus):not(:active) {"+
"}"+".ensModal input[type\x3d'checkbox']:checked ~ .toggle {"+"background: #fff;"+"left: 36px;"+"transition: .5s;"+"}"+".ensModal input[type\x3d'checkbox']:checked ~ .switch {"+"background: #43A047;"+"transition: .5s;"+"}"+".ensModal .switch {"+"display: block;"+"width: 50px;"+"height: 15px;"+"background: #939393;"+"border-radius: 10px;"+"position: absolute;"+"top: 0;"+"transition: .5s;"+"}"+".ensModal .toggle {"+"height: 17px;"+"width: 17px;"+"border-radius: 50%;"+"background: white;"+"position: absolute;"+
"top: -2px;"+"left: -2px;"+"box-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);"+"transition: .5s;"+"}"+".ensModal .card {"+"display: inline-block;"+"margin: 9px;"+"margin: 5px;"+"width: 50px;"+"height: 20px;"+"text-align: center;"+"position: relative;"+"float:right;"+"}"+".ensModal{"+"font-size: 18px;"+"color: #333;"+"padding: 20px;"+"}"+".ensToggleRow{"+"margin-bottom: 10px;"+"}"+".ensToggleLabel{"+"margin-right: 5px;"+"}"+".ensButtons{"+"clear: both;"+"margin-top: 15px;"+"float: right;"+"}"+".ensButtons .button{"+
"display: inline-block;"+"position: relative;"+"width: 120px;"+"height: 32px;"+"border-radius: 2px;"+"font-size: 0.9em;"+"background-color: #fff;"+"color: #646464;"+"margin-left: 20px;"+"}"+".ensButtons .button.grey {"+"background-color: #eee;"+"}"+".ensButtons .button.blue {"+"background-color: #2b5cac;"+"color: #fff;"+"}"+".ensButtons .button.raised {"+"transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);"+"transition-delay: 0.2s;"+"box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);"+"}"+".ensButtons .button.raised:active {"+
"box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);"+"transition-delay: 0s;"+"}"+".ensModal .ensTitle {"+"margin:5px;"+"width:95%;"+"color: #74736F;"+"position: absolute;"+"top:-5px;"+"left:-5px;"+"padding-left:5%;"+"padding-top:13px;"+"padding-bottom: 3px;"+"text-align: center;"+"}"+".ensModal .consentDescription {"+"color:#333;"+"font-size: 14px;"+"}"+".ensModal hr {"+"color: #C5C5C5"+"}"+".ensModal .description {"+"max-width:600px;"+"font-size: 12px;"+"marin-top:15px;"+"clear: both;"+"}"+".chevron::before {"+
"border-style: solid;"+"border-width: 2px 2px 0 0;"+"content: '';"+"display: inline-block;"+"height: 8px;"+"margin: 0 5px 2px 0;"+"position: relative;"+"width: 8px;"+"}"+".chevron.right:before {"+"transform: rotate(45deg);"+"}"+".chevron.bottom:before {"+"margin-left: 2px;"+"margin-bottom: 3px;"+"transform: rotate(135deg);"+"}"+".ensModal .ensTagsContent {"+"display: none;"+"padding: 0 0 0 20px;"+"}"+".ensModal .tagContainer {"+"color: #676767;"+"padding: 7px 0 7px 7px;"+"font-size: 15px;"+"}"+".contactInfoLink {"+
"display: block;"+"margin-bottom: 4px;"+"}"+".ensToggleRowWrapper {"+"max-height: 400px;"+"overflow: auto;"+"}";var getModalHtmlString=function getModalHtmlString(){return modalHtmlString};var setModalHtmlString=function setModalHtmlString(optVals,translation,showTrustedDomains,environment){modalHtmlString=""+"\x3cdiv class\x3d'ensModal' aria-label\x3d'Consent Configuration'\x3e"+"\x3cheader class\x3d'ensTitle' id\x3d'ensTitle'\x3e"+translation["consentTitle"]+"\x3c/header\x3e"+"\x3cdiv class\x3d'consentDescription' id\x3d'ensDescription'\x3e"+
translation["consentDescription"]+"\x3c/div\x3e"+"\x3chr\x3e"+"\x3cdiv class\x3d'ensToggleRowWrapper'\x3e";for(var propertyName in optVals)cookieVals.push(optVals[propertyName]);for(var prop in translation.cookies){var toggleLabelClass=allowPerTagOptOut?"ensToggleLabel chevron right":"ensToggleLabel";if(prop==="default"){if(showTrustedDomains===true)modalHtmlString+="\x3cdiv class\x3d'ensToggleRow' style\x3d'opacity: .5;'\x3e"+"\x3clabel class\x3d'"+toggleLabelClass+"'\x3e"+translation.cookies[prop]["title"]+
"\x3cdiv class\x3d'card'\x3e"+"\x3cinput class\x3d'ensCheckbox' aria-describedby\x3d'"+prop+"description'"+"type\x3d'checkbox' name\x3d'check' disabled checked/\x3e"+"\x3cspan class\x3d'switch'\x3e\x3c/span\x3e\x3cspan class\x3d'toggle'\x3e\x3c/span\x3e"+"\x3c/div\x3e"+"\x3c/label\x3e"+"\x3cdiv class\x3d'description' id\x3d'"+prop+"description'\x3e"+translation.cookies[prop]["description"]+"\x3c/div\x3e"+(allowPerTagOptOut?buildPerTagOptOutTemplate(prop,true):"")+"\x3c/div\x3e"+"\x3chr\x3e"}else{var isCategoryChecked=
shouldCategoryBeChecked(optVals[prop],prop);modalHtmlString+="\x3cdiv class\x3d'ensToggleRow'\x3e"+"\x3clabel for\x3d'"+prop+"Slide' class\x3d'"+toggleLabelClass+"'\x3e"+translation.cookies[prop]["title"]+"\x3cdiv class\x3d'card'\x3e"+"\x3cinput class\x3d'ensCheckbox' "+"aria-describedby\x3d'"+prop+"description'"+"type\x3d'checkbox' id\x3d'"+prop+"Slide' "+"name\x3d'"+prop+"Slide' "+getCheckedString(isCategoryChecked)+"/\x3e"+"\x3cspan class\x3d'switch'\x3e\x3c/span\x3e\x3cspan class\x3d'toggle'\x3e\x3c/span\x3e"+
"\x3c/div\x3e"+"\x3c/label\x3e"+"\x3cdiv class\x3d'description' id\x3d'"+prop+"description'\x3e"+translation.cookies[prop]["description"]+"\x3c/div\x3e"+(allowPerTagOptOut?buildPerTagOptOutTemplate(prop,isCategoryChecked):"")+"\x3c/div\x3e"+"\x3chr\x3e"}}modalHtmlString+="\x3c/div\x3e";if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableDoNotSellModal"))modalHtmlString+="\x3ca id\x3d'ensDoNotSellModalLink' class\x3d'contactInfoLink' href\x3d'javascript:void(0)'\x3e"+
translation["doNotSellModal"].link+"\x3c/a\x3e";if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableRequestDataModal"))modalHtmlString+="\x3ca id\x3d'ensRequestDataModalLink' class\x3d'contactInfoLink' href\x3d'javascript:void(0)'\x3e"+translation["requestDataModal"].link+"\x3c/a\x3e";if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableDeleteDataModal"))modalHtmlString+="\x3ca id\x3d'ensDeleteDataModalLink' class\x3d'contactInfoLink' href\x3d'javascript:void(0)'\x3e"+
translation["deleteDataModal"].link+"\x3c/a\x3e";modalHtmlString+="\x3cdiv class\x3d'ensButtons'\x3e"+"\x3cbutton id\x3d'ensCancel' class\x3d'button raised grey' tabindex\x3d'0' aria-label\x3d'Close Consent Modal'\x3e"+"\x3cdiv class\x3d'ensCenter'\x3e"+translation.cancel+"\x3c/div\x3e"+"\x3cpaper-ripple fit\x3e\x3c/paper-ripple\x3e"+"\x3c/button\x3e"+"\x3cbutton id\x3d'ensSave' class\x3d'button raised blue' tabindex\x3d'0' aria-label\x3d'Save Consent Preferences'\x3e"+"\x3cdiv class\x3d'ensCenter' fit\x3e"+
translation.save+"\x3c/div\x3e"+"\x3cpaper-ripple fit\x3e\x3c/paper-ripple\x3e"+"\x3c/button\x3e"+"\x3c/div\x3e"+"\x3c/div\x3e"};function updateCheckboxes(environment){var optVals=environment.optVals;var translation=environment.translation;for(var prop in translation.cookies)if(prop!=="default"){var isCategoryChecked=shouldCategoryBeChecked(optVals[prop],prop);var checkbox=document.getElementById(prop+"Slide");if(checkbox!=null)if(isCategoryChecked)checkbox.checked=true;else checkbox.checked=false}}
var isEnabledConsentModal=function isEnabledConsentModal(env){return env&&env.hasOwnProperty("enableConsentModal")?env.enableConsentModal:gatewayData.featureToggles.enableConsentModal};var isShowedTrustedDomains=function isShowedTrustedDomains(env){if(!utilities["utilities"].isWhitelist(gatewayData,env))return false;return env&&env.hasOwnProperty("showTrustedDomains")?env.showTrustedDomains:gatewayData.featureToggles.showTrustedDomains};var addEventListeners=function addEventListeners(){var saveButton=
document.getElementById("ensSave");var cancelButton=document.getElementById("ensCancel");var handleKeyCancel=function handleKeyCancel(event){var KEY_ENTER=13;var KEY_SPACE=32;switch(event.which){case KEY_ENTER:case KEY_SPACE:{event.stopPropagation();event.preventDefault();return cancelCloseModal()}}return true};var handleKeySave=function handleKeySave(event){var KEY_ENTER=13;var KEY_SPACE=32;switch(event.which){case KEY_ENTER:case KEY_SPACE:{event.stopPropagation();event.preventDefault();return saveCookies()}}return true};
var saveCookies=function saveCookies(){resetCookieValsState();getCookieValsState();saveNewCookieValues();closeModal()};var handleTabFocus=function handleTabFocus(){var checkboxes=document.querySelectorAll(".card input[type\x3dcheckbox]");for(var i=0;i<checkboxes.length;i++){var input=checkboxes[i];input.addEventListener("focus",function(){this.parentNode.style.outline="rgba(0, 103, 244, 0.247) auto 5px"});input.addEventListener("blur",function(){this.parentNode.style.outline=""})}};if(saveButton!=
null){saveButton.addEventListener("click",saveCookies);saveButton.addEventListener("keydown",handleKeySave)}if(cancelButton!=null){cancelButton.addEventListener("click",cancelCloseModal);cancelButton.addEventListener("keydown",handleKeyCancel)}if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableDoNotSellModal")){var doNotSellLink=document.getElementById("ensDoNotSellModalLink");if(doNotSellLink!=null)doNotSellLink.addEventListener("click",
function(){closeModal();gateway.openDoNotSellModal()})}if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableRequestDataModal")){var requestDataLink=document.getElementById("ensRequestDataModalLink");if(requestDataLink!=null)requestDataLink.addEventListener("click",function(){closeModal();gateway.openRequestDataModal()})}if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableDeleteDataModal")){var deleteDataLink=
document.getElementById("ensDeleteDataModalLink");if(deleteDataLink!=null)deleteDataLink.addEventListener("click",function(){closeModal();gateway.openDeleteDataModal()})}handleTabFocus();if(allowPerTagOptOut)addRowsEventsPerTagOptOut()};var update=function update(env,featureToggles){if(isEnabledConsentModal(env)){allowPerTagOptOut=setAllowPerTagOptOut(env,featureToggles);setModalHtmlString(env.optVals,env.translation,isShowedTrustedDomains(env),env);cookieModal.innerHTML=getModalHtmlString();if(document.getElementById("ensModalWrapper")==
null){var injectModal=function injectModal(){setTimeout(function(){if(!gatewayData.featureToggles.disableDefaultStyles)utilities["utilities"].addStyleElement(styleString);document.body.insertBefore(cookieModal,document.body.lastChild);setCookieModalWrapperAccessibilitySettings();addEventListeners();getCookieValsState()},injectModalDelay)};utilities["utilities"].domReady(injectModal)}else{updateCheckboxes(env);addEventListeners()}}};var setCookieModalWrapperAccessibilitySettings=function setCookieModalWrapperAccessibilitySettings(){var cookieModalWrapper=
document.getElementById("ensModalWrapper");cookieModalWrapper.setAttribute("role","dialog");cookieModalWrapper.setAttribute("aria-labelledby","ensTitle");cookieModalWrapper.setAttribute("aria-describedby","ensDescription");cookieModalWrapper.setAttribute("focusable","true");cookieModalWrapper.setAttribute("aria-modal","true")};var buildPerTagOptOutTemplate=function buildPerTagOptOutTemplate(category,isParentChecked){var tags=listManager.getList()[category]||[];var isDisabled="default"===category;
var template="\x3cdiv class\x3d'ensTagsContent'"+(isDisabled?" style\x3d'opacity: .5;'":"")+"\x3e";for(var i=0;i<tags.length;i++){var tagName=tags[i].displayName||tags[i].tag;var slideId=generateTagSlideId(category,tags[i]);var isTagChecked=shouldTagBeChecked(isParentChecked,tags[i]);template+="\x3cdiv class\x3d'tagContainer'\x3e"+"\x3clabel for\x3d'"+slideId+"' class\x3d'ensToggleLabel'\x3e"+tagName+"\x3cdiv class\x3d'card'\x3e"+"\x3cinput class\x3d'ensCheckbox' type\x3d'checkbox' id\x3d'"+slideId+
"' name\x3d'"+slideId+"'"+getCheckedString(isTagChecked)+(isDisabled?" disabled/\x3e":"/\x3e")+"\x3cspan class\x3d'switch'\x3e\x3c/span\x3e"+"\x3cspan class\x3d'toggle'\x3e\x3c/span\x3e"+"\x3c/div\x3e"+"\x3c/label\x3e";template+="\x3c/div\x3e"}template+="\x3c/div\x3e";return template};var addRowsEventsPerTagOptOut=function addRowsEventsPerTagOptOut(){var rows=document.getElementsByClassName("ensToggleRow");for(var i=0;i<rows.length;i++)rows[i].addEventListener("click",handleRowClick);function handleRowClick(evt){var targetClassName=
evt.target.className;if(targetClassName.indexOf("ensToggleLabel")>-1)handleExpandableEvent(evt);else if(targetClassName.indexOf("ensCheckbox")>-1)handleSwitchEvent(evt);return false}};var handleExpandableEvent=function handleExpandableEvent(event){var target=event.target;var tagsContainer=target.parentNode.querySelector(".ensTagsContent");if(tagsContainer)if(tagsContainer.style.display==="block"){tagsContainer.style.display="none";target.className=target.className.replace(/\bbottom\b/g,"right")}else{tagsContainer.style.display=
"block";target.className=target.className.replace(/\bright\b/g,"bottom")}event.preventDefault()};var handleKeySwitch=function handleKeySwitch(event){var KEY_ENTER=13;var KEY_SPACE=32;switch(event.which){case KEY_ENTER:case KEY_SPACE:{event.stopPropagation();event.preventDefault();return handleSwitchEvent(evt)}}return true};var handleSwitchEvent=function handleSwitchEvent(event){var target=event.target;var isChecked=target.checked;var parent=target.parentNode.parentNode.parentNode;if(parent.className.indexOf("ensToggleRow")>
-1){var tagsContainer=parent.querySelector(".ensTagsContent");if(tagsContainer){var checkboxes=tagsContainer.querySelectorAll(".ensCheckbox");for(var i=0;i<checkboxes.length;i++)checkboxes[i].checked=isChecked}}};var generateTagSlideId=function generateTagSlideId(category,tag){var tagName=tag.displayName||"";return(category+"-"+tagName+"-"+tag.tag+"-"+"slide").replace(/[,.]/g,"").replace(/\s/g,"-")};(function init(){update(environment,gatewayData.featureToggles)})();return{closeModal:closeModal,openModal:openModal,
onOpenModal:onOpenModal,update:update,isEnabledConsentModal:isEnabledConsentModal,updateCheckboxes:updateCheckboxes}};var consentUIManager_ConsentUIManager=function ConsentUIManager(gatewayData,environment,listManager,cookieManager,consentReporter){var consentModal=null;var init=function init(){if(gatewayData.featureToggles.enableGdprModal){var translatedPurposeList=listManager.getTranslatedList();consentModal=new noTogglesConsentModal_NoTogglesConsentModal(gatewayData,environment,translatedPurposeList,
cookieManager,listManager.updateListValues,consentReporter)}else consentModal=new cookieModal_CookieModal(cookieManager,listManager,consentReporter,environment,gatewayData)},getConsentModal=function getConsentModal(){return consentModal};init();return{getConsentModal:getConsentModal}};function Banner(gatewayData,environment,consentModal,cookieManager,consentReporter){var e=document.createElement("section");var bannerCopy=environment.translation.notificationBannerContent;var customBannerSet=false;
var previousFocusedElement;var that=this;var bannerMarkup;var bannerDisplayStyle;var modalDisplayStyle;this.bannerLoaded=function(){var oldCookies=cookieManager.getCookiesFromTypes(["BANNER_LOADED"]);cookieManager.setCookie("BANNER_LOADED","1");var newCookies=cookieManager.getCookiesFromTypes(["BANNER_LOADED"]);consentReporter.sendReport(oldCookies,newCookies)};this.bannerViewed=function(){var oldCookies=cookieManager.getCookiesFromTypes(["BANNER_VIEWED"]);cookieManager.setCookie("BANNER_VIEWED",
"1");var newCookies=cookieManager.getCookiesFromTypes(["BANNER_VIEWED"]);consentReporter.sendReport(oldCookies,newCookies)};this.checkCopyForLinks=function(){bannerCopy=bannerCopy.replace(/{{/gi,"\x3cspan id\x3d'ensModalLink' role\x3d'button' class\x3d'ensModalLink' aria-label\x3d'Consent Details Modal Open' tabindex\x3d'0'\x3e");bannerCopy=bannerCopy.replace(/}}/gi,"\x3c/span\x3e")};this.closeEnsBanner=function(){this.bannerViewed();var banner=document.getElementById("ensNotifyBanner");banner.style.display=
"none";this.onCloseEnsBanner()};this.onCloseEnsBanner=function(){if(previousFocusedElement&&typeof previousFocusedElement.focus==="function")previousFocusedElement.focus();document.body.removeEventListener("keydown",this.escapeBanner)};this.ensBannerShowModal=function(){this.closeEnsBanner();if(consentModal.openModal)consentModal.openModal()};this.openBannerCheck=function(){var ensBannerHasBeenViewed=cookieManager.getCookie("BANNER_VIEWED");if(!ensBannerHasBeenViewed)this.openEnsBanner()};this.openEnsBanner=
function(){var banner=document.getElementById("ensNotifyBanner");banner.style.display="block";var parentWidth=window.innerWidth/2;var elementWidth=parseInt(window.getComputedStyle(banner).width)/2;banner.style.left=parentWidth-elementWidth+"px";this.onOpenEnsBanner();this.bannerLoaded()};this.onOpenEnsBanner=function(){previousFocusedElement=document.activeElement;var link=document.querySelector(".ensModalLink");if(link!=null&&typeof link.focus==="function")link.focus();document.body.addEventListener("keydown",
this.escapeBanner)};this.styleString=""+".ensNotifyBanner{"+"background-color: #191B23;"+"color: #EDEDED;"+"opacity: 0.8;"+"width:60%;"+"border-radius: 10px;"+"padding:20px;"+"font-family: Roboto, 'Helvetica Neue', Helvetica, Arial;"+"position: fixed;"+"bottom:50px;"+"display: none;"+"z-index: 9999;"+"}"+".ensButtons{"+"clear: both;"+"margin-top: 15px;"+"float: right;"+"}"+".ensButtons .button{"+"display: inline-block;"+"position: relative;"+"width: 120px;"+"height: 32px;"+"border-radius: 2px;"+"font-size: 0.9em;"+
"background-color: #fff;"+"color: #646464;"+"margin-left: 20px;"+"text-align: center;"+"}"+".ensButtons .button{"+"cursor: pointer;"+"}"+".ensButtons .button.grey {"+"background-color: #eee;"+"}"+".ensButtons .button.blue {"+"background-color: #2b5cac;"+"color: #fff;"+"}"+".ensButtons .button.raised {"+"transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);"+"transition-delay: 0.2s;"+"box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);"+"}"+".ensButtons .button.raised:active {"+"box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);"+
"transition-delay: 0s;"+"}"+".ensClear{"+" clear:both;"+"}"+".ensModalLink{"+"  cursor: pointer;"+" text-decoration: underline;"+"}"+".ensModalLink:hover{"+"  color: #2b5cac;"+"}";this.setBannerCopy=function(copy){bannerCopy=copy;this.checkCopyForLinks()};this.setBannerMarkup=function(translation){bannerMarkup="\x3cdiv id\x3d'ensNotifyBanner' class\x3d'ensNotifyBanner' role\x3d'dialog' aria-label\x3d'Consent Banner' aria-describedby\x3d'ensBannerDescription'\x3e"+"\x3cdiv id\x3d'ensBannerDescription'\x3e"+
bannerCopy+"\x3c/div\x3e"+"\x3cdiv class\x3d'ensButtons'\x3e"+"\x3cbutton id\x3d'ensCloseBanner' class\x3d'button raised blue' aria-label\x3d'Close consent Widget'\x3e"+translation.close+"\x3c/button\x3e"+"\x3c/div\x3e"+"\x3cdiv class\x3d'ensClear'\x3e\x3c/div\x3e"+"\x3c/div\x3e"};this.isCustomBannerSet=function(){return customBannerSet};this.getBannerMarkup=function(){return bannerMarkup};this.isEnabledPrivacyNotice=function(env){return env&&env.hasOwnProperty("enablePrivacyNotice")?env.enablePrivacyNotice:
gatewayData.featureToggles.enablePrivacyNotice};this.isEnabledAutoShowModal=function(env){return env&&env.hasOwnProperty("shouldNotAutoShowModal")?!env.shouldNotAutoShowModal:!gatewayData.featureToggles.shouldNotAutoShowModal};this.update=function(env){if(this.isEnabledPrivacyNotice(env)){var banner=document.getElementById("ensNotifyBanner");var modal=document.getElementById("ensModalWrapper");if(banner==null){this.checkCopyForLinks();if(!this.isCustomBannerSet()){this.setBannerMarkup(env.translation);
e.innerHTML=bannerMarkup}var injectBanner=function injectBanner(){setTimeout(function(){if(!this.isCustomBannerSet()){document.body.insertBefore(e,document.body.lastChild);if(!gatewayData.featureToggles.disableDefaultStyles)utilities["utilities"].addStyleElement(this.styleString);this.addEventListeners.bind(this)()}this.openBannerCheck.bind(this)()}.bind(that),100)};utilities["utilities"].domReady(injectBanner)}else{bannerDisplayStyle=banner.style.display;modalDisplayStyle=modal!=null?modal.style.display:
"";this.setBannerCopy(env.translation.notificationBannerContent);this.setBannerMarkup(env.translation);e.innerHTML=bannerMarkup;if(bannerDisplayStyle==="block")this.openEnsBanner();if(modalDisplayStyle==="block")this.ensBannerShowModal();this.addEventListeners()}}else if(consentModal.isEnabledConsentModal(env)&&this.isEnabledAutoShowModal(env))setTimeout(function(){var ensModalHasBeenViewed=cookieManager.getCookie("MODAL_VIEWED");if(!ensModalHasBeenViewed)consentModal.openModal()},500)};this.addEventListeners=
function(){var openModalLink=document.getElementsByClassName("ensModalLink");var closeBannerButton=document.getElementById("ensCloseBanner");for(var i=0;i<openModalLink.length;i++){openModalLink[i].addEventListener("click",this.ensBannerShowModal.bind(this));openModalLink[i].addEventListener("keydown",this.handleKeyOpen.bind(this))}closeBannerButton.addEventListener("click",this.closeEnsBanner.bind(this));closeBannerButton.addEventListener("keydown",this.handleKeyClose.bind(this))};this.escapeBanner=
function(event){var KEY_ESC=27;if(event.keyCode===KEY_ESC)that.closeEnsBanner()};this.handleKeyOpen=function(event){var KEY_ENTER=13;var KEY_SPACE=32;switch(event.which){case KEY_ENTER:case KEY_SPACE:{event.stopPropagation();event.preventDefault();return this.ensBannerShowModal()}}return true};this.handleKeyClose=function(event){var KEY_ENTER=13;var KEY_SPACE=32;switch(event.which){case KEY_ENTER:case KEY_SPACE:{event.stopPropagation();event.preventDefault();return this.closeEnsBanner()}}return true};
this.init=function(){this.update(environment)};this.testObject={bannerViewed:this.bannerViewed,ensBannerShowModal:this.ensBannerShowModal,bannerLoaded:this.bannerLoaded};this.init()}var requestConfirmationModal_RequestConfirmationModal=function RequestConfirmationModal(environment,gatewayData,whichModal){var modalHtmlString="";var requestModalConfig={"doNotSellConfirmation":{"cssPrefix":"ensDoNotSellConfirmationModal","prevEventModal":"doNotSellModal","ariaLabel":"Do Not Sell Confirmation","prevModalFeatureToggle":"enableDoNotSellModal"},
"requestDataConfirmation":{"cssPrefix":"ensRequestDataConfirmationModal","prevEventModal":"requestDataModal","ariaLabel":"Request Data Confirmation","prevModalFeatureToggle":"enableRequestDataModal"},"deleteDataConfirmation":{"cssPrefix":"ensDeleteDataConfirmationModal","prevEventModal":"deleteDataModal","ariaLabel":"Delete Data Confirmation","prevModalFeatureToggle":"enableDeleteDataModal"}};var prevEventModal=requestModalConfig[whichModal].prevEventModal;var modalCSSPrefix=requestModalConfig[whichModal].cssPrefix;
var modalAriaLabel=requestModalConfig[whichModal].ariaLabel;var prevModalFeatureToggle=requestModalConfig[whichModal].prevModalFeatureToggle;var requestConfirmationModal=document.createElement("section");requestConfirmationModal.id=modalCSSPrefix+"Wrapper";requestConfirmationModal.style.display="none";var ESC_KEYCODE=27;var previousFocusedElement;var injectModalDelay=100;var openModalDelay=injectModalDelay+50;var openModal=function openModal(){utilities["utilities"].domReady(function(){setTimeout(function(){requestConfirmationModal.style.display=
"block";var parentWidth=window.innerWidth/2;var parentHeight=window.innerHeight/2;var elementWidth=parseInt(window.getComputedStyle(requestConfirmationModal).width)/2;var elementHeight=parseInt(window.getComputedStyle(requestConfirmationModal).height)/2;requestConfirmationModal.style.left=parentWidth-elementWidth+"px";requestConfirmationModal.style.top=parentHeight-elementHeight+"px";onOpenModal()},openModalDelay)})};var onOpenModal=function onOpenModal(){document.body.addEventListener("keydown",
escapeCloseModal);var initializeFocus=function initializeFocus(){previousFocusedElement=document.activeElement;var closeButton=document.getElementById(modalCSSPrefix+"Close");if(closeButton&&typeof closeButton.focus==="function")closeButton.focus()};initializeFocus()};var escapeCloseModal=function escapeCloseModal(event){if(event.keyCode===ESC_KEYCODE)closeModal()};var closeModal=function closeModal(){requestConfirmationModal.style.display="none";onCloseModal()};var onCloseModal=function onCloseModal(){document.removeEventListener("keydown",
escapeCloseModal);if(previousFocusedElement&&typeof previousFocusedElement.focus==="function")previousFocusedElement.focus()};var styleString=".ensCenter {"+"text-align: center;"+"}"+"#"+modalCSSPrefix+"Wrapper {"+"border: 1px solid #333;"+"position: fixed;"+"max-width: 80%;"+"border: 1px solid #000;"+"display: none;"+"box-shadow: 5px 5px 5px grey;"+"background-color:#fff;"+"padding: 20px 0;"+"z-index: 9999;"+"}"+"."+modalCSSPrefix+" {"+"font-family: Roboto, 'Helvetica Neue', Helvetica, Arial;"+"box-sizing: border-box;"+
"}"+"."+modalCSSPrefix+" input[type\x3d'checkbox'] {"+"position: absolute !important;"+"height: 1px; "+"width: 1px;"+"overflow: hidden;"+"clip: rect(1px, 1px, 1px, 1px);"+"white-space: nowrap; /* added line */"+"}"+"."+modalCSSPrefix+" .switch {"+"display: block;"+"width: 50px;"+"height: 15px;"+"background: #939393;"+"border-radius: 10px;"+"position: absolute;"+"top: 0;"+"transition: .5s;"+"}"+"."+modalCSSPrefix+"{"+"font-size: 18px;"+"color: #333;"+"padding: 20px;"+"}"+".ensToggleLabel \u00df{"+
"margin-right: 5px;"+"}"+".ensButtons {"+"clear: both;"+"margin-top: 15px;"+"float: right;"+"}"+".ensButtons .button{"+"display: inline-block;"+"position: relative;"+"width: 120px;"+"height: 32px;"+"border-radius: 2px;"+"font-size: 0.9em;"+"background-color: #fff;"+"color: #646464;"+"margin-left: 20px;"+"}"+".ensButtons .button.grey {"+"background-color: #eee;"+"}"+".ensButtons .button.blue {"+"background-color: #2b5cac;"+"color: #fff;"+"}"+".ensButtons .button.raised {"+"transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);"+
"transition-delay: 0.2s;"+"box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);"+"}"+".ensButtons .button.raised:active {"+"box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);"+"transition-delay: 0s;"+"}"+"."+modalCSSPrefix+" .ensTitle {"+"margin:5px;"+"width:95%;"+"color: #74736F;"+"position: absolute;"+"top:-5px;"+"left:-5px;"+"padding-left:5%;"+"padding-top:13px;"+"padding-bottom: 3px;"+"text-align: center;"+"}"+"."+modalCSSPrefix+" ."+modalCSSPrefix+"Description {"+"color:#333;"+"font-size: 14px;"+"margin-top: 5px;"+
"margin-bottom: 10px;"+"}"+"#"+modalCSSPrefix+"Wrapper .ensButtons {"+"float: none;"+"}"+"#"+modalCSSPrefix+"Close {"+"display: block;"+"margin: 0 auto;"+"}";var getModalHtmlString=function getModalHtmlString(){return modalHtmlString};var setModalHtmlString=function setModalHtmlString(translation){modalHtmlString=""+"\x3cdiv class\x3d'"+modalCSSPrefix+"' aria-label\x3d'"+modalAriaLabel+"'\x3e"+"\x3cheader class\x3d'ensTitle' id\x3d'"+modalCSSPrefix+"Title'\x3e"+translation[prevEventModal].title+"\x3c/header\x3e"+
"\x3cdiv class\x3d'"+modalCSSPrefix+"Description' id\x3d'"+modalCSSPrefix+"Description'\x3e"+translation[prevEventModal].confirmationDescription+"\x3c/div\x3e"+"\x3c/div\x3e";modalHtmlString+="\x3cdiv class\x3d'ensButtons'\x3e"+"\x3cbutton id\x3d'"+modalCSSPrefix+"Close' class\x3d'button raised grey' tabindex\x3d'0' aria-label\x3d'Close "+modalAriaLabel+" Modal'\x3e"+"\x3cdiv class\x3d'ensCenter'\x3e"+translation[prevEventModal].close+"\x3c/div\x3e"+"\x3cpaper-ripple fit\x3e\x3c/paper-ripple\x3e"+
"\x3c/button\x3e"+"\x3c/div\x3e"+"\x3c/div\x3e"};var isConfirmationModalEnabled=function isConfirmationModalEnabled(env){return env&&env.hasOwnProperty(prevModalFeatureToggle)?env[prevModalFeatureToggle]:gatewayData.featureToggles[prevModalFeatureToggle]};var addEventListeners=function addEventListeners(){var closeButton=document.getElementById(modalCSSPrefix+"Close");var handleKeyClose=function handleKeyClose(event){var KEY_ENTER=13;var KEY_SPACE=32;switch(event.which){case KEY_ENTER:case KEY_SPACE:{event.stopPropagation();
event.preventDefault();return closeModal()}}return true};closeButton.addEventListener("click",closeModal);closeButton.addEventListener("keydown",handleKeyClose)};var update=function update(env){if(isConfirmationModalEnabled(env)){setModalHtmlString(env.translation);requestConfirmationModal.innerHTML=getModalHtmlString();if(document.getElementById(modalCSSPrefix+"Wrapper")==null){var injectModal=function injectModal(){setTimeout(function(){if(!gatewayData.featureToggles.disableDefaultStyles)utilities["utilities"].addStyleElement(styleString);
document.body.insertBefore(requestConfirmationModal,document.body.lastChild);setConfirmationModalWrapperAccessibilitySettings();addEventListeners()},injectModalDelay)};utilities["utilities"].domReady(injectModal)}else addEventListeners()}};var setConfirmationModalWrapperAccessibilitySettings=function setConfirmationModalWrapperAccessibilitySettings(){var doNotSellModalWrapper=document.getElementById(modalCSSPrefix+"Wrapper");doNotSellModalWrapper.setAttribute("role","dialog");doNotSellModalWrapper.setAttribute("aria-labelledby",
modalCSSPrefix+"Title");doNotSellModalWrapper.setAttribute("aria-describedby",modalCSSPrefix+"Description");doNotSellModalWrapper.setAttribute("focusable","true");doNotSellModalWrapper.setAttribute("aria-modal","true")};(function init(){update(environment)})();return{closeModal:closeModal,openModal:openModal,onOpenModal:onOpenModal,update:update}};var contactInfoModal_ContactInfoModal=function ContactInfoModal(cookieManager,listManager,consentReporter,environment,gatewayData,whichModal,ccpaEventAPI){var modalHtmlString=
"";var allowPerTagOptOut=utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"allowPerTagOptOut");var autoDoNotSellAllCategories=utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"autoDoNotSellAllCategories");var ESC_KEYCODE=27;var previousFocusedElement;var modalConfig={"doNotSellModal":{"event":"doNotSellChanged","cssPrefix":"ensDoNotSellModal","ariaLabel":"Do Not Sell","featureToggle":"enableDoNotSellModal",
"cookieType":"DO_NOT_SELL_MODAL_VIEWED","loadedCookieType":"DO_NOT_SELL_MODAL_LOADED","requestConfirmationModalString":"doNotSellConfirmation","close":"Close"},"requestDataModal":{"event":"requestData","cssPrefix":"ensRequestDataModal","ariaLabel":"Request Data","featureToggle":"enableRequestDataModal","cookieType":"REQUEST_DATA_MODAL_VIEWED","loadedCookieType":"REQUEST_DATA_MODAL_LOADED","requestConfirmationModalString":"requestDataConfirmation","close":"Close"},"deleteDataModal":{"event":"deleteData",
"cssPrefix":"ensDeleteDataModal","ariaLabel":"Delete Data","featureToggle":"enableDeleteDataModal","cookieType":"DELETE_DATA_MODAL_VIEWED","loadedCookieType":"DELETE_DATA_MODAL_LOADED","requestConfirmationModalString":"deleteDataConfirmation","close":"Close"}};var modalEvent=modalConfig[whichModal].event;var modalCSSPrefix=modalConfig[whichModal].cssPrefix;var modalAriaLabel=modalConfig[whichModal].ariaLabel;var modalFeatureToggle=modalConfig[whichModal].featureToggle;var modalCookieType=modalConfig[whichModal].cookieType;
var loadedCookieType=modalConfig[whichModal].loadedCookieType;var requestConfirmationModal=new requestConfirmationModal_RequestConfirmationModal(environment,gatewayData,modalConfig[whichModal].requestConfirmationModalString);var contactInfoModal=document.createElement("section");contactInfoModal.id=modalCSSPrefix+"Wrapper";contactInfoModal.style.display="none";contactInfoModal.classList.add("contactInfoModalWrapper");var injectModalDelay=100;var openModalDelay=injectModalDelay+50;var tagAccessManager=
new TagAccessManager(gatewayData.info.name);var modalLoaded=function modalLoaded(){var oldCookies=cookieManager.getCookiesFromTypes([loadedCookieType]);cookieManager.setCookie(loadedCookieType,"1");var newCookies=cookieManager.getCookiesFromTypes([loadedCookieType]);consentReporter.sendReport(oldCookies,newCookies)};var modalViewed=function modalViewed(){var oldCookies=cookieManager.getCookiesFromTypes([modalCookieType]);cookieManager.setCookie(modalCookieType,"1");var newCookies=cookieManager.getCookiesFromTypes([modalCookieType]);
consentReporter.sendReport(oldCookies,newCookies)};var openModal=function openModal(){utilities["utilities"].domReady(function(){setTimeout(function(){contactInfoModal.style.display="block";var parentWidth=window.innerWidth/2;var parentHeight=window.innerHeight/2;var elementWidth=parseInt(window.getComputedStyle(contactInfoModal).width)/2;var elementHeight=parseInt(window.getComputedStyle(contactInfoModal).height)/2;contactInfoModal.style.left=parentWidth-elementWidth+"px";contactInfoModal.style.top=
parentHeight-elementHeight+"px";onOpenModal();modalLoaded()},openModalDelay)})};var onOpenModal=function onOpenModal(){document.body.addEventListener("keydown",escapeCloseModal);var firstName=document.getElementById(modalCSSPrefix+"FirstName");firstName.required=true;var lastName=document.getElementById(modalCSSPrefix+"LastName");lastName.required=true;var email=document.getElementById(modalCSSPrefix+"Email");email.required=true;var address=document.getElementById(modalCSSPrefix+"Address");address.required=
true;var initializeFocus=function initializeFocus(){previousFocusedElement=document.activeElement;var firstInput=document.querySelector("."+modalConfig[whichModal].cssPrefix+" input");if(firstInput&&typeof firstInput.focus==="function")firstInput.focus()};initializeFocus()};var escapeCloseModal=function escapeCloseModal(event){if(event.keyCode===ESC_KEYCODE)closeModal()};var closeModalClick=function closeModalClick(e){e.preventDefault();modalViewed();contactInfoModal.style.display="none";onCloseModal()};
var closeModal=function closeModal(){modalViewed();contactInfoModal.style.display="none";onCloseModal()};var onCloseModal=function onCloseModal(){document.removeEventListener("keydown",escapeCloseModal);var firstName=document.getElementById(modalCSSPrefix+"FirstName");firstName.required=false;var lastName=document.getElementById(modalCSSPrefix+"LastName");lastName.required=false;var email=document.getElementById(modalCSSPrefix+"Email");email.required=false;var address=document.getElementById(modalCSSPrefix+
"Address");address.required=false;if(previousFocusedElement&&typeof previousFocusedElement.focus==="function")previousFocusedElement.focus()};var styleString=""+".ensCenter {"+"text-align: center;"+"}"+".contactInfoModalWrapper {"+"border: 1px solid #333;"+"position: fixed;"+"max-width: 80%;"+"border: 1px solid #000;"+"display: none;"+"box-shadow: 5px 5px 5px grey;"+"background-color:#fff;"+"padding: 20px 0;"+"z-index: 9999;"+"}"+".contactInfoModal {"+"font-family: Roboto, 'Helvetica Neue', Helvetica, Arial;"+
"box-sizing: border-box;"+"}"+".contactInfoModal input[type\x3d'checkbox'] {"+"position: absolute !important;"+"height: 1px; "+"width: 1px;"+"overflow: hidden;"+"clip: rect(1px, 1px, 1px, 1px);"+"white-space: nowrap; /* added line */"+"}"+".contactInfoModal .switch {"+"display: block;"+"width: 50px;"+"height: 15px;"+"background: #939393;"+"border-radius: 10px;"+"position: absolute;"+"top: 0;"+"transition: .5s;"+"}"+".contactInfoModal {"+"font-size: 18px;"+"color: #333;"+"padding: 20px;"+"}"+".ensToggleLabel{"+
"margin-right: 5px;"+"}"+".ensButtons{"+"clear: both;"+"margin-top: 15px;"+"float: right;"+"}"+".ensButtons .button{"+"display: inline-block;"+"position: relative;"+"width: 120px;"+"height: 32px;"+"border-radius: 2px;"+"font-size: 0.9em;"+"background-color: #fff;"+"color: #646464;"+"margin-left: 20px;"+"}"+".ensButtons .button.grey {"+"background-color: #eee;"+"}"+".ensButtons .button.blue {"+"background-color: #2b5cac;"+"color: #fff;"+"}"+".ensButtons .button.raised {"+"transition: box-shadow 0.2s cubic-bezier(0.4, 0, 0.2, 1);"+
"transition-delay: 0.2s;"+"box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.26);"+"}"+".ensButtons .button.raised:active {"+"box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2);"+"transition-delay: 0s;"+"}"+".contactInfoModal .ensTitle {"+"margin:5px;"+"width:95%;"+"color: #74736F;"+"position: absolute;"+"top:-5px;"+"left:-5px;"+"padding-left:5%;"+"padding-top:13px;"+"padding-bottom: 3px;"+"text-align: center;"+"}"+".contactInfoModalDescription {"+"color:#333;"+"font-size: 14px;"+"margin-top: 5px;"+"margin-bottom: 10px;"+
"}"+".contactInfoModal hr {"+"color: #C5C5C5"+"}"+".contactInfoModal input[type\x3demail], .contactInfoModal textarea {"+"position: relative;"+"float: right;"+"font-size: 14px;"+"width: 250px;"+"}"+".contactInfoModal input[type\x3dtext] {"+"width: 120px;"+"font-size: 14px;"+"}"+".contactInfoModalNameContainer {"+"float: right;"+"}"+".contactInfoModal textarea {"+"margin-bottom: 10px;"+"height: 150px;"+"}"+".contactInfoModalRowWrapper {"+"clear: both;"+"margin-bottom: 10px;"+"}"+"#"+modalCSSPrefix+
"Link {"+"color: #2b5cac;"+"font-size: 15px;"+"}";var getModalHtmlString=function getModalHtmlString(){return modalHtmlString};var setModalHtmlString=function setModalHtmlString(translation){modalHtmlString=""+"\x3cdiv class\x3d'contactInfoModal "+modalCSSPrefix+"' aria-label\x3d'"+modalAriaLabel+" Modal'\x3e"+"\x3cheader class\x3d'ensTitle' id\x3d'"+modalCSSPrefix+"Title'\x3e"+translation[whichModal].title+"\x3c/header\x3e"+"\x3cdiv class\x3d'contactInfoModalDescription' id\x3d'"+modalCSSPrefix+
"Description'\x3e"+translation[whichModal].description+"\x3c/div\x3e"+"\x3cform\x3e"+"\x3cdiv class\x3d'contactInfoModalRowWrapper'\x3e"+"Name\x3cdiv class\x3d'contactInfoModalNameContainer'\x3e"+"\x3cinput type\x3d'text' id\x3d'"+modalCSSPrefix+"FirstName' name\x3d'firstName' aria-label\x3d'First Name' placeholder\x3d'First' style\x3d'margin-right: 4px;' /\x3e"+"\x3cinput type\x3d'text' id\x3d'"+modalCSSPrefix+"LastName' name\x3d'lastName' aria-label\x3d'Last Name' placeholder\x3d'Last' /\x3e"+"\x3c/div\x3e"+
"\x3c/div\x3e"+"\x3cdiv class\x3d'contactInfoModalRowWrapper'\x3e"+"\x3clabel for\x3d'"+modalCSSPrefix+"Email'\x3eEmail \x3cinput type\x3d'email' id\x3d'"+modalCSSPrefix+"Email' name\x3d'email' placeholder\x3d'john@doe.com' /\x3e\x3c/label\x3e"+"\x3c/div\x3e"+"\x3cdiv class\x3d'contactInfoModalRowWrapper'\x3e"+"\x3clabel for\x3d'"+modalCSSPrefix+"Address'\x3eAddress \x3ctextarea id\x3d'"+modalCSSPrefix+"Address' name\x3d'address'\x3e\x3c/textarea\x3e\x3c/label\x3e"+"\x3c/div\x3e"+"\x3cdiv class\x3d'contactInfoModalRowWrapper'\x3e"+
"\x3clabel for\x3d'"+modalCSSPrefix+"Comments'\x3eComments \x3ctextarea id\x3d'"+modalCSSPrefix+"Comments' name\x3d'comments'\x3e\x3c/textarea\x3e\x3c/label\x3e"+"\x3c/div\x3e";modalHtmlString+="\x3cdiv class\x3d'ensButtons'\x3e"+"\x3cbutton id\x3d'"+modalCSSPrefix+"Cancel' class\x3d'button raised grey' tabindex\x3d'0' aria-label\x3d'Close "+modalAriaLabel+" Modal'\x3e"+"\x3cdiv class\x3d'ensCenter'\x3e"+translation.cancel+"\x3c/div\x3e"+"\x3cpaper-ripple fit\x3e\x3c/paper-ripple\x3e"+"\x3c/button\x3e"+
"\x3cbutton type\x3d'submit' id\x3d'"+modalCSSPrefix+"Save' class\x3d'button raised blue' tabindex\x3d'0' aria-label\x3d'Save "+modalAriaLabel+" Preferences'\x3e"+"\x3cdiv class\x3d'ensCenter' fit\x3e"+translation.save+"\x3c/div\x3e"+"\x3cpaper-ripple fit\x3e\x3c/paper-ripple\x3e"+"\x3c/button\x3e"+"\x3c/div\x3e"+"\x3c/div\x3e"+"\x3c/form\x3e"};var isModalEnabled=function isModalEnabled(env){return env&&env.hasOwnProperty(modalFeatureToggle)?env[modalFeatureToggle]:gatewayData.featureToggles[modalFeatureToggle]};
var addEventListeners=function addEventListeners(){var saveButton=document.getElementById(modalCSSPrefix+"Save");var cancelButton=document.getElementById(modalCSSPrefix+"Cancel");var handleKeyCancel=function handleKeyCancel(event){var KEY_ENTER=13;var KEY_SPACE=32;switch(event.which){case KEY_ENTER:case KEY_SPACE:{event.stopPropagation();event.preventDefault();return closeModal()}}return true};var handleKeySave=function handleKeySave(event){var KEY_ENTER=13;var KEY_SPACE=32;switch(event.which){case KEY_ENTER:case KEY_SPACE:{return openRequestConfirmationModal(event)}}return true};
saveButton.addEventListener("keydown",handleKeySave);saveButton.addEventListener("click",openRequestConfirmationModal);cancelButton.addEventListener("click",closeModalClick);cancelButton.addEventListener("keydown",handleKeyCancel)};var openRequestConfirmationModal=function openRequestConfirmationModal(event){var form=document.querySelector("#"+modalCSSPrefix+"Wrapper form");if(form&&form.checkValidity()){event.preventDefault();var firstName=document.getElementById(modalCSSPrefix+"FirstName");firstName=
firstName.value;var lastName=document.getElementById(modalCSSPrefix+"LastName");lastName=lastName.value;var email=document.getElementById(modalCSSPrefix+"Email");email=email.value;var address=document.getElementById(modalCSSPrefix+"Address");address=address.value;var comments=document.getElementById(modalCSSPrefix+"Comments");comments=comments.value;var contactInfo={"dt":Date.now(),"firstName":firstName,"lastName":lastName,"email":email,"address":address,"comments":comments};if(whichModal==="doNotSellModal"&&
autoDoNotSellAllCategories)blockAllCategories();ccpaEventAPI.sendCCPAEvent(modalEvent,contactInfo);closeModal();requestConfirmationModal.openModal()}};var blockAllCategories=function blockAllCategories(){var oldCookies=cookieManager.getCookiesFromTypes(gatewayData.cookieTypes);if(allowPerTagOptOut)tagAccessManager.clearTags();for(var i=0;i<gatewayData.cookieTypes.length;i++)cookieManager.setCookie(gatewayData.cookieTypes[i],0);var newCookies=cookieManager.getCookiesFromTypes(gatewayData.cookieTypes);
consentReporter.sendReport(oldCookies,newCookies);var categoryMap=cookieManager.getCategoryMapFromCookieTypes(gatewayData.cookieTypes);listManager.updateListValues(categoryMap);var cookieModalCheckboxes=document.querySelectorAll(".card input[type\x3dcheckbox]");if(cookieModalCheckboxes.length>0)for(var x=0;x<cookieModalCheckboxes.length;x++)cookieModalCheckboxes[x].checked=false};var update=function update(env){if(isModalEnabled(env)){setModalHtmlString(env.translation);contactInfoModal.innerHTML=
getModalHtmlString();allowPerTagOptOut=utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,env,"allowPerTagOptOut");autoDoNotSellAllCategories=utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,env,"autoDoNotSellAllCategories");if(document.getElementById(modalCSSPrefix+"Wrapper")==null){var injectModal=function injectModal(){setTimeout(function(){if(!gatewayData.featureToggles.disableDefaultStyles)utilities["utilities"].addStyleElement(styleString);
document.body.insertBefore(contactInfoModal,document.body.lastChild);setModalWrapperAccessibilitySettings();addEventListeners()},injectModalDelay)};utilities["utilities"].domReady(injectModal)}else addEventListeners()}};var setModalWrapperAccessibilitySettings=function setModalWrapperAccessibilitySettings(){var contactInfoModalWrapper=document.getElementById(modalCSSPrefix+"Wrapper");contactInfoModalWrapper.setAttribute("role","dialog");contactInfoModalWrapper.setAttribute("aria-labelledby",modalCSSPrefix+
"Title");contactInfoModalWrapper.setAttribute("aria-describedby",modalCSSPrefix+"Description");contactInfoModalWrapper.setAttribute("focusable","true");contactInfoModalWrapper.setAttribute("aria-modal","true")};(function init(){update(environment)})();return{closeModal:closeModal,openModal:openModal,onOpenModal:onOpenModal,update:update,isModalEnabled:isModalEnabled}};function CCPAEventAPI(consentReporter,listManager,cookieManager,tagAccessManager,gatewayData,environment){function sendCCPAEvent(eventName,
contactInfo){if(typeof eventName!=="string"||!/doNotSellChanged|requestData|deleteData/i.test(eventName)||contactInfo==null)return;var reportEvent=buildCCPAEvent(eventName,contactInfo);if(eventName==="doNotSellChanged"&&utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"autoDoNotSellAllCategories"))blockAllCategories();consentReporter.addContactInfoEvent(reportEvent)}function buildCCPAEvent(eventName,contactInfo){var reportEvent={"event":eventName,
"dt":Date.now(),"firstName":contactInfo.firstName,"lastName":contactInfo.lastName,"email":contactInfo.email,"address":contactInfo.address,"comments":contactInfo.comments};return reportEvent}function blockAllCategories(){var oldCookies=cookieManager.getCookiesFromTypes(gatewayData.cookieTypes);if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"allowPerTagOptOut"))tagAccessManager.clearTags();for(var i=0;i<gatewayData.cookieTypes.length;i++)cookieManager.setCookie(gatewayData.cookieTypes[i],
0);var newCookies=cookieManager.getCookiesFromTypes(gatewayData.cookieTypes);consentReporter.sendReport(oldCookies,newCookies);var categoryMap=cookieManager.getCategoryMapFromCookieTypes(gatewayData.cookieTypes);listManager.updateListValues(categoryMap)}return{sendCCPAEvent:sendCCPAEvent}}var consentWidget_ConsentWidget=function ConsentWidget(environment,gatewayData){var that=this;this.widgetString="";this.styleString=""+".consentWidget {"+"border-radius: 2px;"+"font-size:10px;"+"position: fixed;"+
"bottom: 0px;"+"right: 5%;"+"cursor: default;"+"background-color: #323232;"+"z-index: 3;"+"display: block;"+" font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;"+"}"+".consentWidget__text {"+"padding: 14px 12px;"+"vertical-align: middle;"+"color: #fff;"+"float: left;"+"}";this.sectionElement=document.createElement("section");this.sectionElement.id="ensConsentWidget";this.sectionElement.className="consentWidget";this.sectionElement.setAttribute("aria-label","Cookie Consent Widget");var isEnabledConsentModal=
function isEnabledConsentModal(env){return env&&env.hasOwnProperty("enableConsentModal")?env.enableConsentModal:gatewayData.featureToggles.enableConsentModal};this.update=function(environment){if(isEnabledConsentModal(environment)){that.setWidgetString(environment);that.sectionElement.innerHTML=that.getWidgetString();if(document.getElementById("ensConsentWidget")==null)utilities["utilities"].domReady(that.injectWidget)}};this.setWidgetString=function(environment){that.widgetString="\x3cdiv class\x3d'consentWidget__text' id\x3d'consentWidget__text' tabindex\x3d0 role\x3d'button' aria-label\x3d'Open Cookie Consent Preferences '\x3e"+
environment.translation["consentWidgetCopy"]+"\x3c/div\x3e"};this.getWidgetString=function(){return that.widgetString};this.injectWidget=function(){setTimeout(function(){if(!gatewayData.featureToggles.disableDefaultStyles)utilities["utilities"].addStyleElement(that.styleString);document.body.insertBefore(that.sectionElement,document.body.lastChild);that.setHTMLBindings()},100)};this.setHTMLBindings=function(){document.getElementById("ensConsentWidget").addEventListener("click",updateConsent);document.getElementById("ensConsentWidget").addEventListener("keydown",
function(event){var KEY_ENTER=13;var KEY_SPACE=32;switch(event.which){case KEY_ENTER:case KEY_SPACE:{event.stopPropagation();event.preventDefault();if(Bootstrapper.gateway.openModal)Bootstrapper.gateway.openModal()}}return true});function updateConsent(){if(Bootstrapper.gateway.openModal)Bootstrapper.gateway.openModal()}};this.update(environment);return this};var src_reporter=__webpack_require__(35);var tagConfigInit=function(){var tagConfig={img:{elementObserver:true,processAttribute:"src",previousProcessAttribute:"__src",
enswatcher:true},image:{elementObserver:true,processAttribute:"src",previousProcessAttribute:"__src",enswatcher:true},script:{elementObserver:true,processAttribute:"src",previousProcessAttribute:"__src"},iframe:{elementObserver:true,processAttribute:"src",previousProcessAttribute:"__src"},a:{elementObserver:true,processAttribute:"href",previousProcessAttribute:"__href",featureFlag:"monitorAnchorTags"},form:{processAttribute:"action",previousProcessAttribute:"__action",featureFlag:"monitorFormAction"},
link:{processAttribute:"href",previousProcessAttribute:"__href",featureFlag:"enableCSSMonitoring",enswatcher:true},elementObserverTags:[],processElementTags:[],enswatchTags:[]};addTagToArray(tagConfig,"elementObserver","elementObserverTags");addTagToArray(tagConfig,"processAttribute","processElementTags");addTagToArray(tagConfig,"enswatcher","enswatchTags");return tagConfig}();function addTagToArray(tagConfig,guardfield,arrayToUpdate){for(var tag in tagConfig)if(typeof tagConfig[tag][guardfield]!==
"undefined"&&tagConfig[tag][guardfield]!==false)tagConfig[arrayToUpdate].push(tag)}var mutationObserverFactory_MutationObserverFactory=function MutationObserverFactory(featureToggles,environment,domProcessor){window.ensClientConfig.ensCreateElement=document.createElement;var iFramesRemovedFromDoc=false;var removeAllIFramesFromDoc=function removeAllIFramesFromDoc(){var allIFrames=document.querySelectorAll("iframe");for(var i=0;i<allIFrames.length;i++){var iframe=allIFrames[i];if(utilities["utilities"].validateRemoveChild(iframe))iframe.parentNode.removeChild(iframe)}iFramesRemovedFromDoc=
true};var ensMutationObserver=new MutationObserver(function(mutations){for(var index=0;index<mutations.length;index++){if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(featureToggles,environment,"removeAllIFrames")&&!iFramesRemovedFromDoc)removeAllIFramesFromDoc();var mutation=mutations[index];if(mutation.type==="attributes")domProcessor.processElement("mutationObserverA",mutation.target);if(mutation.type==="childList"){var mutationLength=mutation.addedNodes.length;for(var i=0;i<mutationLength;i++){var item;
if(Object.prototype.toString.call(mutation.addedNodes)==="[object Array]")item=mutation.addedNodes[i];else item=mutation.addedNodes.item(i);domProcessor.processElement("mutationObserverCL",item)}var removedNodes=mutation.removedNodes.length;for(var x=0;x<removedNodes;x++){var removedElement;if(Object.prototype.toString.call(mutation.removedNodes)==="[object Array]")removedElement=mutation.removedNodes[x];else removedElement=mutation.removedNodes.item(x);var removedElementName=removedElement.nodeName.toLowerCase();
if(tagConfigInit.enswatchTags.indexOf(removedElementName)>-1&&(typeof tagConfigInit[removedElementName].featureFlag==="undefined"||utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(featureToggles,environment,tagConfigInit[removedElementName].featureFlag)))if(Object.isExtensible(removedElement)){if(!removedElement.enswatch)Object.defineProperty(removedElement,"enswatch",utilities["utilities"].watcher);try{removedElement.enswatch("src",function(prop,old,curr){if(prop==="src"){var src=curr;
domProcessor.processURL(curr,this.tagName.toLowerCase(),"Removed_NodeModified",function(modifiedUrl){src=modifiedUrl});return src}})}catch(e){console.log("Unable to attach enswatch to selected element")}}}}}});var watchTheDOM=function watchTheDOM(){var docBody=document;var innerHTMLObservCfg={attributes:true,childList:true,subtree:true,characterData:false};innerHTMLObservCfg.attributeFilter=getAttributeFilter(featureToggles,tagConfigInit);if(featureToggles.isObservingStyle)innerHTMLObservCfg.attributeFilter.push("style");
ensMutationObserver.observe(docBody,innerHTMLObservCfg);var oldImageSetAttribute=HTMLImageElement.prototype.setAttribute;HTMLImageElement.prototype.setAttribute=function(name,value,bypass){var cur=value;var elementNode=this;var tagName=elementNode.tagName===undefined?null:elementNode.tagName.toLowerCase();if(!bypass&&tagName!=null&&name===tagConfigInit[tagName].processAttribute)cur=domProcessor.processURL(value,tagName,"HTMLImage_SETATTRIBUTE");return oldImageSetAttribute.call(this,name,cur)};var oldIFrameSetAttribute=
HTMLIFrameElement.prototype.setAttribute;HTMLIFrameElement.prototype.setAttribute=function(name,value,bypass){var cur=value;if(!bypass&&name==="src"||name==="ng-src"){var elementNode=this;if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(featureToggles,environment,"removeAllIFrames"))if(utilities["utilities"].validateRemoveChild(elementNode))elementNode.parentNode.removeChild(elementNode);else elementNode=null;else domProcessor.processURL(value,this.tagName.toLowerCase(),"HTMLIFRAME_SETATTRIBUTE",
function(modifiedUrl){cur=modifiedUrl;if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(featureToggles,environment,"removeIFrameOnBlock")&&domProcessor.isVoidURL(modifiedUrl))if(utilities["utilities"].validateRemoveChild(elementNode))elementNode.parentNode.removeChild(elementNode);else elementNode=null;return cur})}return oldIFrameSetAttribute.call(this,name,cur)};var oldAnchorSetAttribute=HTMLAnchorElement.prototype.setAttribute;HTMLAnchorElement.prototype.setAttribute=function(name,
value,bypass){var cur=value;var elementNode=this;var tagName=elementNode.tagName===undefined?null:elementNode.tagName.toLowerCase();if(!bypass&&name==="href"&&tagName!=null&&utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(featureToggles,environment,tagConfigInit[tagName].featureFlag))cur=domProcessor.processURL(value,tagName,"HTMLANCHOR_SETATTRIBUTE");return oldAnchorSetAttribute.call(this,name,cur)};var elementPrototype=Element.prototype;if(utilities["utilities"].isIE)elementPrototype=
HTMLElement.prototype;var descriptor=Object.getOwnPropertyDescriptor(elementPrototype,"innerHTML");if(descriptor.configurable){var originalSet=descriptor.set;Object.defineProperty(elementPrototype,"innerHTML",{set:function set(val){var isTrustedHTMLObject=isTrustedHTML(val);var unwrappedValue=isTrustedHTMLObject?unwrapTrustedHTML(val):""+val;var newUnwrappedValue=domProcessor.processHTML("innerHTML",unwrappedValue);var new_value=isTrustedHTMLObject&&newUnwrappedValue===unwrappedValue?val:newUnwrappedValue;
return originalSet.call(this,new_value)}})}};var oldLinkSetAttribute=HTMLLinkElement.prototype.setAttribute;HTMLLinkElement.prototype.setAttribute=function(name,value,bypass){var cur=value;var elementNode=this;var tagName=elementNode.tagName===undefined?null:elementNode.tagName.toLowerCase();if(!bypass&&name==="href"&&tagName!=null&&utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(featureToggles,environment,tagConfigInit[tagName].featureFlag))cur=domProcessor.processURL(value,tagName,
"HTMLLINK_SETATTRIBUTE");return oldLinkSetAttribute.call(this,name,cur)};document.createElement=function(tagName){var element=Function.prototype.apply.call(window.ensClientConfig.ensCreateElement,document,arguments);if(tagConfigInit.enswatchTags.indexOf(tagName)>-1&&(typeof tagConfigInit[tagName].featureFlag==="undefined"||utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(featureToggles,environment,tagConfigInit[tagName].featureFlag)))if(Object.isExtensible(element)){if(!element.enswatch)Object.defineProperty(element,
"enswatch",utilities["utilities"].watcher);try{element.enswatch(tagConfigInit[tagName].processAttribute,function(prop,old,curr){var src=curr;try{if(curr instanceof URL)src=curr.href}catch(e){console.log(e)}domProcessor.processURL(curr,this.tagName.toLowerCase(),tagName+"_DOMAttrModified",function(modifiedUrl){src=modifiedUrl});return src})}catch(e){console.log(e)}}if(featureToggles.isObservingStyle||tagConfigInit.processElementTags.indexOf(tagName)>-1){var config={attributes:true,childList:false,
characterData:false};config.attributeFilter=getAttributeFilter(featureToggles,tagConfigInit);ensMutationObserver.observe(element,config)}return element};window.Image=function(w,h){var img=document.createElement("img");if(typeof w!=="undefined")img.setAttribute("width",w);if(typeof h!=="undefined")img.setAttribute("height",h);return img};function isTrustedHTML(val){var isTrusted=false;if(window.trustedTypes)isTrusted=val instanceof TrustedHTML;return isTrusted}function unwrapTrustedHTML(trustedHTMLObj){return trustedHTMLObj.toString()}
function getAttributeFilter(featureToggles,tagConfig){var attributeFilter=[];for(var tag in tagConfig)if(attributeFilter.indexOf(tagConfig[tag].processAttribute)===-1&&(typeof tagConfig[tag].featureFlag==="undefined"||utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(featureToggles,environment,tagConfig[tag].featureFlag)))attributeFilter.push(tagConfig[tag].processAttribute);return attributeFilter}function updateEnvironment(env){environment=env;if(environment)watchTheDOM()}var init=function(){watchTheDOM()}();
return{updateEnvironment:updateEnvironment}};function XhrManager(domProcessor){var open=window.XMLHttpRequest.prototype.open,send=window.XMLHttpRequest.prototype.send,voidURL="//javascript:;";function openReplacement(method,url,async,user,password){url=processURL(url,this);if(url&&url!==voidURL){this.url=url;arguments[1]=url;return open.apply(this,arguments)}this.setRequestHeader=function(){};this.send=function(){}}function sendReplacement(value){var url=this.url;if(typeof this.url!=="undefined"&&
this.url!=="")domProcessor.processURLAndBody(url,value,"xhr",utilities["utilities"].apiToSource("xhr"),function(modifiedUrl,modifiedRequestBody){url=modifiedUrl;value=modifiedRequestBody});else url=processURL(url,this);return send.apply(this,[value])}function processURL(url,xhr){return domProcessor.processURL(url,"xhr",utilities["utilities"].apiToSource("xhr"))}var resetHandlers=function resetHandlers(){window.XMLHttpRequest.prototype.send=send;window.XMLHttpRequest.prototype.open=open};window.XMLHttpRequest.prototype.send=
sendReplacement;window.XMLHttpRequest.prototype.open=openReplacement;return{resetHandlers:resetHandlers}}function FetchManager(domProcessor){var originalFetch=window.fetch,originalRequest=window.Request;var fetchSupported=typeof window.fetch!=="undefined"&&typeof window.Request!=="undefined";function newFetch(request,config){if(typeof request==="string"||request instanceof String){var originalURL=request;request=domProcessor.processURL(request,"fetch",utilities["utilities"].apiToSource("fetch"));
if(domProcessor.isVoidURL(request))return reject(originalURL)}if(request instanceof window.Request)if(request.ensBlocked===true)return reject("");return originalFetch.apply(this,arguments)}function newRequest(url,options){if(domProcessor.isVoidURL(url)){this.ensBlocked=true;return}if(options&&options.body)domProcessor.processURLAndBody(url,options.body,"request",utilities["utilities"].apiToSource("request"),function(modifiedUrl,modifiedRequestBody){url=modifiedUrl;options.body=modifiedRequestBody});
else domProcessor.processURL(url,"request",utilities["utilities"].apiToSource("request"),function(modifiedUrl){url=modifiedUrl});if(domProcessor.isVoidURL(url)){this.ensBlocked=true;return}return new originalRequest(url,options)}function reject(url){return Promise.reject(new Error(url+" fetch blocked by privacy-gateway"))}var resetHandlers=function resetHandlers(){window.fetch=originalFetch;window.Request=originalRequest;if(typeof originalRequest!=="undefined")window.Request.prototype=originalRequest.prototype};
if(fetchSupported){window.fetch=newFetch;window.Request=newRequest;window.Request.prototype=originalRequest.prototype}return{resetHandlers:resetHandlers}}var src_utilities=__webpack_require__(2);var ensLogger=function(){var consoleLoggingEnabled=false,checkForConsoleLoggingParam=function checkForConsoleLoggingParam(){var hash,queryStringObject={};var hashes=window.location.href.slice(window.location.href.indexOf("?")+1).split("\x26");for(var i=0;i<hashes.length;i++){hash=hashes[i].split("\x3d");queryStringObject[hash[0]]=
hash[1]}if(queryStringObject["ensLogger"]&&queryStringObject["ensLogger"]==="true")enableConsoleLogging()},disableConsoleLogging=function disableConsoleLogging(){setConsoleLoggingState(false)},enableConsoleLogging=function enableConsoleLogging(){setConsoleLoggingState(true)},getConsoleLoggingState=function getConsoleLoggingState(){return consoleLoggingEnabled},init=function init(){checkForConsoleLoggingParam()},consoleLog=function consoleLog(){if(consoleLoggingEnabled&&window.console)console.log(arguments)},
setConsoleLoggingState=function setConsoleLoggingState(state){consoleLoggingEnabled=state};init();return{disableConsoleLogging:disableConsoleLogging,enableConsoleLogging:enableConsoleLogging,getConsoleLoggingState:getConsoleLoggingState,consoleLog:consoleLog}}();window.ensLogger=ensLogger;var elementObserver_elementObserver=function elementObserver(domProcessor){var elementTypes=["Anchor","Area","Body","Button","Canvas","Div","Form","Frame","Head","Html","IFrame","Input","Label","LI","Link","Map",
"OList","Option","Paragraph","Pre","Span","Table","TableCell","TableCol","TableRow","TableSection","Template","UList","Unknown"];var nodeMethods=["appendChild","insertBefore","replaceChild","removeChild"];var elementMethods=["append","prepend"];if(document.insertAdjacentElement||window.Element&&Element.prototype.insertAdjacentElement||window.HTMLElement&&HTMLElement.prototype.insertAdjacentElement)elementMethods.push("insertAdjacentElement");function observeElementHelper(){utilities["utilities"].each(elementTypes,
function(type){if(window["HTML"+type+"Element"]&&window["HTML"+type+"Element"].prototype)utilities["utilities"].each(elementMethods,function(method){overrideHelper(window["HTML"+type+"Element"].prototype,method)});else src_utilities["a"].couldNotBind("HTML"+type+"Element")})}if(window.Node&&window.Node.prototype&&window.Node.prototype.appendChild)utilities["utilities"].each(nodeMethods,src_utilities["a"].bind(overrideHelper,null,window.Node.prototype));else src_utilities["a"].couldNotBind("Node");
if(window.Element&&window.Element.prototype&&window.Element.prototype.appendChild)utilities["utilities"].each(elementMethods,src_utilities["a"].bind(overrideHelper,null,window.Element.prototype));else src_utilities["a"].couldNotBind("Element");if(utilities["utilities"].isNative(document.createElement("div").appendChild)){var div=document.createElement("div");var proto=div;var iterator=0;while(!Object.prototype.hasOwnProperty.call(proto,"appendChild")){proto=Object.getPrototypeOf(proto);if(iterator++>
5){src_utilities["a"].couldNotBind("div.appendChild");break}}utilities["utilities"].each(elementMethods,src_utilities["a"].bind(overrideHelper,null,proto));div=proto=iterator=null}if(utilities["utilities"].isNative(document.createElement("div").appendChild))observeElementHelper();function overrideHelper(object,fnName){if(!object||!object[fnName]||utilities["utilities"].isFunctionOverridden(object,fnName)||object+""==="[Interface prototype object]")return false;var method=object[fnName];var proxiedMethod=
function proxiedMethod(){var args=Array.prototype.slice.call(arguments);try{var node=args[0];if(typeof node==="string")node=args[1];var tagName=typeof this.tagName==="string"?this.tagName.toLowerCase():"";var argTagName=typeof node.tagName==="string"?node.tagName.toLowerCase():"";if(tagConfigInit.elementObserverTags.indexOf(tagName)===-1&&tagConfigInit.elementObserverTags.indexOf(argTagName)===-1){if(domProcessor.getIsObservingStyle()){node=domProcessor.processElement(fnName,node);node.__gateway=
null}return Function.prototype.apply.call(method,this,args)}else if((gateway.removeAllIFrames||gateway.removeIFrameOnBlock)&&argTagName==="iframe")return Function.prototype.apply.call(method,this,args);else{node=domProcessor.processElement(fnName,node);node.__gateway=null;if(node)return Function.prototype.apply.call(method,this,args)}}catch(error){ensLogger.consoleLog("Privacy Gateway Error",error);if(window.Bootstrapper&&typeof window.Bootstrapper.reportException==="function")window.Bootstrapper.reportException(error);
return Function.prototype.apply.call(method,this,args)}};try{object[fnName]=proxiedMethod;utilities["utilities"].markFunctionOverridden(object,fnName)}catch(e){console.log(e)}}return{overrideHelper:overrideHelper,observeElementHelper:observeElementHelper}};var writeLnObserver_writeLnObserver=function writeLnObserver(domProcessor){var writeln=document.writeln;document.writeln=function(){var aggregateHTML="";for(var i=0;i<arguments.length;i++)aggregateHTML+=domProcessor.processHTML("writeln",arguments[i]);
Function.prototype.call.call(writeln,document,aggregateHTML);return aggregateHTML};return!utilities["utilities"].isNative(document.writeln)};var writeObserver_writeObserver=function writeObserver(domProcessor){var write=document.write;document.write=function(){var aggregateHTML="";for(var i=0;i<arguments.length;i++)aggregateHTML+=domProcessor.processHTML("write",arguments[i]);Function.prototype.call.call(write,document,aggregateHTML);return aggregateHTML};return!utilities["utilities"].isNative(document.write)};
function NavigatorSendBeaconManager(nexusURL,domProcessor){var privateSendBeacon=window.navigator.sendBeacon;var publicSendBeacon=function publicSendBeacon(url,data){return window.navigator.sendBeacon(url,data)};function newSendBeacon(url,data){if(typeof privateSendBeacon==="undefined")return;if(typeof url==="string"||url instanceof String){if(url.indexOf(nexusURL)!==-1)return privateSendBeacon.apply(this,[url,data]);if(data!==undefined){domProcessor.processURLAndBody(url,data,"sendBeacon",utilities["utilities"].apiToSource("sendBeacon"),
function(modifiedUrl,modifiedRequestBody){url=modifiedUrl;data=modifiedRequestBody});if(domProcessor.isVoidURL(url))return}else{url=domProcessor.processURL(url,"sendBeacon",utilities["utilities"].apiToSource("sendBeacon"));if(domProcessor.isVoidURL(url))return}}return privateSendBeacon.apply(this,[url,data])}function resetHandlers(){window.navigator.sendBeacon=privateSendBeacon}window.navigator.sendBeacon=newSendBeacon;return{resetHandlers:resetHandlers,sendBeacon:publicSendBeacon}}var cssManager_CssManager=
function CssManager(featureToggles,environment,domProcessor){var filterSheet=null;var cssLoadBlocker=null;var sanitizeInc=0;var blockCount=0;var seenUrl=[];var disabledCssHash={};var matchURLRegEx=/(url\s*\("?'?)(?=(.[^\(|^\|^"|^')]*))/i;var domContentLoadedListener;var loadListener;var observer=new MutationObserver(function(mutations){utilities["utilities"].each(mutations,function(mutation){if(mutation.addedNodes.length>0&&mutation.addedNodes[0].localName==="link"||mutation.attributeName==="link"){var skipscan=
0;if(mutation.addedNodes.length>0&&mutation.addedNodes[0].classList.length>0)if(mutation.addedNodes[0].classList==="__css_exfil_protection_filtered_styles")skipscan=1;if(skipscan===0){var node=mutation.addedNodes[0];if(node)node.addEventListener("load",function(){scanCssSingle(document.styleSheets[document.styleSheets.length-1])})}}})});domContentLoadedListener=function domContentLoadedListener(){for(var i=0;i<document.styleSheets.length;i++)disabledCssHash[window.btoa(document.styleSheets[i].href)]=
document.styleSheets[i].disabled;cssLoadBlocker=document.createElement("style");cssLoadBlocker.innerText=buildContentLoadBlockerCSS();cssLoadBlocker.className="__tmp_css_exfil_protection_load_blocker";document.head.appendChild(cssLoadBlocker);filterSheet=createFilterSheet(filterSheet);incrementSanitize();scanCss()};loadListener=function loadListener(){decrementSanitize()};var observerConfig={attributes:true,childList:true,subtree:true,characterData:true,attributeFilter:["href"]};if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(featureToggles,
environment,"enableCSSMonitoring"))startObserving();function startObserving(){observer.observe(document,observerConfig);window.addEventListener("DOMContentLoaded",domContentLoadedListener,false);window.addEventListener("load",loadListener,false)}function stopObserving(){observer.disconnect();window.removeEventListener("DOMContentLoaded",domContentLoadedListener);window.removeEventListener("load",loadListener)}function scanCssSingle(cssStylesheet){filterSheet=document.createElement("style");filterSheet.className=
"__css_exfil_protection_filtered_styles";filterSheet.innerText="";document.head.appendChild(filterSheet);var selectors=[];var selectorcss=[];var rules=getCSSRules(cssStylesheet);if(rules==null){incrementSanitize();getCrossDomainCSS(cssStylesheet)}else{incrementSanitize();handleImportedCSS(rules);var _selectors=parseCSSRules(rules);filterCss(_selectors[0],_selectors[1]);if(checkCSSDisabled(cssStylesheet))enableCSS(cssStylesheet);decrementSanitize()}}function scanCss(){var sheets=document.styleSheets;
var sheets_length=sheets.length;var checkRulesInit2=function checkRulesInit2(currentSheet){rules=getCSSRules(currentSheet);if(rules==null)setTimeout(checkRulesInit2,1E3);else{incrementSanitize();handleImportedCSS(rules);var _selectors=parseCSSRules(rules);filterCss(_selectors[0],_selectors[1]);if(checkCSSDisabled(currentSheet))enableCSS(currentSheet);decrementSanitize()}};for(var i=0;i<sheets_length;i++){var rules=getCSSRules(sheets[i]);var sheet=sheets[i];if(rules==null){incrementSanitize();getCrossDomainCSS(sheet);
if(sheets[i].href==null)setTimeout(checkRulesInit2,1E3,sheet);else{incrementSanitize();getCrossDomainCSS(sheets[i])}}else{incrementSanitize();handleImportedCSS(rules);var _selectors=parseCSSRules(rules);filterCss(_selectors[0],_selectors[1]);if(checkCSSDisabled(sheets[i]))enableCSS(sheets[i]);decrementSanitize()}}}function handleImportedCSS(rules){if(rules!=null)for(var r=0;r<rules.length;r++)if(Object.prototype.toString.call(rules[r])==="[object CSSImportRule]"){incrementSanitize();var _rules=getCSSRules(rules[r].styleSheet);
if(_rules==null)getCrossDomainCSS(rules[r].styleSheet);else{var _selectors=parseCSSRules(_rules);filterCss(_selectors[0],_selectors[1]);decrementSanitize()}}else r=rules.length}function getCSSRules(_sheet){var rules=null;try{rules=_sheet.rules||_sheet.cssRules}catch(e){if(e.name!=="SecurityError"){console.log("Error loading rules:");console.log(e)}}return rules}function parseCSSRules(rules){var selectors=[];var selectorcss=[];var r=0;if(rules!=null)for(r=0;r<rules.length;r++){var selectorText=null;
if(rules[r].selectorText!=null)selectorText=rules[r].selectorText.toLowerCase();var cssText=null;if(rules[r].cssText!=null)cssText=rules[r].cssText.toLowerCase();if(cssText!=null&&cssText.indexOf("url")!==-1&&(cssText.indexOf("https://")!==-1||cssText.indexOf("http://")!==-1||cssText.indexOf("//")!==-1)&&cssText.indexOf("xmlns\x3d'http://")===-1&&urlAllowed(cssText,rules[r].selectorText)!==true){selectors.push(rules[r].selectorText);selectorcss.push(cssText)}}if(selectors[0]!=null)if(rules[0]!=null)disableCSS(rules[0].parentStyleSheet);
return[selectors,selectorcss]}function urlAllowed(cssText,selectorText){var isAllowed=true;var url=getHTMLUrl(cssText);var parsedURL=domProcessor.processURL(url,selectorText,"CSS_MANAGER");isAllowed=!domProcessor.isVoidURL(parsedURL);return isAllowed}function getHTMLUrl(html){var url=html.match(matchURLRegEx);url=url[2];return url}function getCrossDomainCSS(orig_sheet){var rules;var url=orig_sheet.href;if(url!=null)if(seenUrl.indexOf(url)===-1)seenUrl.push(url);else{decrementSanitize();return}var xhr=
new XMLHttpRequest;xhr.open("GET",url,true);xhr.onreadystatechange=function(){if(xhr.readyState===4){var sheet=document.createElement("style");sheet.innerText=xhr.responseText;document.head.appendChild(sheet);rules=getCSSRules(sheet.sheet);if(rules==null)setTimeout(function checkRulesInit(){rules=getCSSRules(sheet.sheet);if(rules==null)setTimeout(checkRulesInit,10);else{handleImportedCSS(rules);var _selectors=parseCSSRules(rules);filterCss(_selectors[0],_selectors[1]);sheet.disabled=true;if(utilities["utilities"].validateRemoveChild(sheet))sheet.parentNode.removeChild(sheet);
if(checkCSSDisabled(orig_sheet))enableCSS(orig_sheet);decrementSanitize();return rules}},10);else{handleImportedCSS(rules);var _selectors=parseCSSRules(rules);filterCss(_selectors[0],_selectors[1]);sheet.disabled=true;if(utilities["utilities"].validateRemoveChild(sheet))sheet.parentNode.removeChild(sheet);if(checkCSSDisabled(orig_sheet))enableCSS(orig_sheet);decrementSanitize();return rules}}};xhr.send()}function filterCss(selectors,selectorcss){for(var s in selectors){if(typeof selectorcss[s]===
"string"&&typeof selectorcss[s].indexOf==="function"){if(selectorcss[s].indexOf("background")!==-1)filterSheet.sheet.insertRule(selectors[s]+" { background-image:none !important; }",filterSheet.sheet.cssRules.length);if(selectorcss[s].indexOf("list-style")!==-1)filterSheet.sheet.insertRule(selectors[s]+" { list-style: inherit !important; }",filterSheet.sheet.cssRules.length);if(selectorcss[s].indexOf("cursor")!==-1)filterSheet.sheet.insertRule(selectors[s]+" { cursor: auto !important; }",filterSheet.sheet.cssRules.length);
if(selectorcss[s].indexOf("content")!==-1)filterSheet.sheet.insertRule(selectors[s]+" { content: normal !important; }",filterSheet.sheet.cssRules.length)}blockCount++}return filterSheet}function disableCSS(_sheet){if(_sheet)_sheet.disabled=true}function enableCSS(_sheet){if(_sheet&&!disabledCssHash[window.btoa(_sheet.href)]){_sheet.disabled=false;window.dispatchEvent(new Event("resize"))}}function checkCSSDisabled(_sheet){if(_sheet)return _sheet.disabled}function disableAndRemoveCSS(_sheet){if(_sheet){_sheet.disabled=
true;if(utilities["utilities"].validateRemoveChild(_sheet))_sheet.parentNode.removeChild(_sheet)}}function incrementSanitize(){sanitizeInc++}function decrementSanitize(){sanitizeInc--;if(sanitizeInc<=0)disableAndRemoveCSS(cssLoadBlocker)}function buildContentLoadBlockerCSS(){var csstext="input,input ~ * { background-image:none !important; list-style: inherit !important; cursor: auto !important; content:normal !important; } input::before,input::after,input ~ *::before, input ~ *::after { content:normal !important; }";
return csstext}function createFilterSheet(){filterSheet=document.createElement("style");filterSheet.className="__css_exfil_protection_filtered_styles";filterSheet.innerText="";document.head.appendChild(filterSheet);return filterSheet}function updateEnvironment(env){environment=env;stopObserving();if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(featureToggles,environment,"enableCSSMonitoring"))startObserving()}return{disableAndRemoveCSS:disableAndRemoveCSS,filterCss:filterCss,parseCSSRules:parseCSSRules,
getCSSRules:getCSSRules,createFilterSheet:createFilterSheet,updateEnvironment:updateEnvironment}};function ensRequest_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function ensRequest_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,
descriptor.key,descriptor)}}function ensRequest_createClass(Constructor,protoProps,staticProps){if(protoProps)ensRequest_defineProperties(Constructor.prototype,protoProps);if(staticProps)ensRequest_defineProperties(Constructor,staticProps);return Constructor}function ensRequest_defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var EnsRequest=function(){function EnsRequest(destination){ensRequest_classCallCheck(this,
EnsRequest);this.destination=destination;ensRequest_defineProperty(this,"type",void 0);ensRequest_defineProperty(this,"start",+new Date);ensRequest_defineProperty(this,"end",-1);ensRequest_defineProperty(this,"source",null);ensRequest_defineProperty(this,"status",null);ensRequest_defineProperty(this,"reasons",[]);ensRequest_defineProperty(this,"dataPatterns",[]);ensRequest_defineProperty(this,"list",[]);ensRequest_defineProperty(this,"id",void 0)}ensRequest_createClass(EnsRequest,[{key:"addReason",
value:function addReason(reason){this.reasons.push(reason)}},{key:"hasReason",value:function hasReason(reason){if(this.reasons.length>0)return(new RegExp(this.reasons.join("|"))).test(reason);return false}},{key:"numReasons",value:function numReasons(){return this.reasons.length}}]);return EnsRequest}();var windowOpenManager=function windowOpenManager(domProcessor){var originalWindowOpen=window.open;window.open=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=
arguments[_key];var url=args[0];if(url!=null){domProcessor.processURL(url,"windowOpen","Window_Open_Called",function(modifiedUrl){url=modifiedUrl});if(domProcessor.isVoidURL(url))return false;args[0]=url}return originalWindowOpen.apply(null,args)}};function historyEntry_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function historyEntry_defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,
enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var HistoryEntry=function HistoryEntry(request,node){historyEntry_classCallCheck(this,HistoryEntry);historyEntry_defineProperty(this,"request",void 0);historyEntry_defineProperty(this,"node",void 0);this.request=request;this.node=node};function historyEntryReporter_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function historyEntryReporter_defineProperties(target,
props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function historyEntryReporter_createClass(Constructor,protoProps,staticProps){if(protoProps)historyEntryReporter_defineProperties(Constructor.prototype,protoProps);if(staticProps)historyEntryReporter_defineProperties(Constructor,staticProps);return Constructor}
function historyEntryReporter_defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var historyEntryReporter_HistoryEntryReporter=function(){function HistoryEntryReporter(history,reporter){historyEntryReporter_classCallCheck(this,HistoryEntryReporter);this.history=history;this.reporter=reporter;historyEntryReporter_defineProperty(this,"ensLogger",void 0);this.ensLogger=ensLogger;setInterval(this.historyGarbageCollector,
250)}historyEntryReporter_createClass(HistoryEntryReporter,[{key:"getHistory",value:function getHistory(){return this.history}},{key:"createHistoryEntry",value:function createHistoryEntry(request,node){if(!node.__reference)this.history.before[request.id]=new HistoryEntry(request,node)}},{key:"resourceComplete",value:function resourceComplete(node,id,status){id=id||node.__gateway;var before=this.history.before[id];if(!before)return false;var request=before.request;request.end=+new Date;request.status=
status;this.history.complete[id]=new HistoryEntry(request,node);this.ensLogger.consoleLog("resourceComplete: ",status,": ",request);this.reporter.addResource(request);delete this.history.before[id]}},{key:"historyGarbageCollector",value:function historyGarbageCollector(){for(var id in this.history.before){if(!this.history.before.hasOwnProperty(id))continue;var timeStamp=+new Date;if(this.history.before[id].request!==undefined&&timeStamp-this.history.before[id].request.start>5E3){this.resourceComplete(this.history.before.nodeRef,
id,"timeout");delete this.history.before[id]}}}}]);return HistoryEntryReporter}();function styleRequestTracker_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}var styleRequestTracker_StyleRequestTracker=function StyleRequestTracker(featureToggles,domProcessor){styleRequestTracker_classCallCheck(this,StyleRequestTracker);var voidURL="//javascript:;";var matchURLRegEx=/(url\s*\("?'?)(?=(.[^\(|^\|^"|^')]*))/i;this.processElementStyle=
function(elementNode,source){if(this.getIsObservingStyle()&&elementHasCSSUrl(elementNode)){var url=getElementUrl(elementNode);var requestType=elementNode.tagName.toLowerCase();domProcessor.processURL(url,requestType,source,function(modifiedUrl){elementNode.style=replaceElementStyle(elementNode,modifiedUrl)})}return elementNode.style};this.processHTMLStyle=function(source,html){var containsStyle=/style\s*=/i.test(html);if(this.getIsObservingStyle()&&containsStyle&&htmlHasCSSUrl(html)){var tags=findTagsWithStyle(html);
if(tags)utilities["utilities"].each(tags,function(tag){var styleUrl=getHTMLUrl(tag);if(styleUrl){var tagName=getTagName(tag);domProcessor.processURL(styleUrl,tagName,source,function(modifiedUrl){html=html.replace(styleUrl,modifiedUrl)})}})}return html};this.getIsObservingStyle=function(){return featureToggles.isObservingStyle};function replaceElementStyle(elementNode,blockString){var styleAttribute=elementNode.getAttribute("style");var url=getElementUrl(elementNode);var oldURL=url;url=url.replace(url,
blockString);styleAttribute=styleAttribute.replace(oldURL,url);return styleAttribute}function elementHasCSSUrl(elementNode){if(typeof elementNode.getAttribute!=="function")return false;var styleAttribute=elementNode.getAttribute("style");if(elementNode.tagName==null||styleAttribute==null)return false;var url=styleAttribute.match(matchURLRegEx);if(url==null||url[2]===""||url[2]===voidURL||url[2].indexOf(voidURL)!==-1)return false;return true}function htmlHasCSSUrl(html){var url=html.match(matchURLRegEx);
if(url==null||url[2]===""||url[2]===voidURL||url[2].indexOf(voidURL)!==-1)return false;return true}function getElementUrl(elementNode){var styleAttribute=elementNode.getAttribute("style");var url=styleAttribute.match(matchURLRegEx);url=url[2];return url}function getHTMLUrl(html){var url=html.match(matchURLRegEx);if(url&&url.length>2)return url[2];return null}function getTagName(htmlTag){var match=htmlTag.match(/(<\s*(\w*)[^>]+style\s*=\s*(.*?)[^>]*>)/i);if(match&&match.length>2)return match[2];return null}
function findTagsWithStyle(html){return html.match(/(<\s*(\w*)[^>]+style\s*=\s*(.*?)[^>]*>)/ig)}};var array_from=__webpack_require__(37);var array_from_default=__webpack_require__.n(array_from);var urlPonyFill=__webpack_require__(1);function sslManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function sslManager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=
descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function sslManager_createClass(Constructor,protoProps,staticProps){if(protoProps)sslManager_defineProperties(Constructor.prototype,protoProps);if(staticProps)sslManager_defineProperties(Constructor,staticProps);return Constructor}function sslManager_defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,
enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var sslEnforcement;(function(sslEnforcement){sslEnforcement["Block"]="Block";sslEnforcement["Rewrite"]="Rewrite"})(sslEnforcement||(sslEnforcement={}));var sslManager_SSLManager=function(){function SSLManager(gatewayData,environment){sslManager_classCallCheck(this,SSLManager);sslManager_defineProperty(this,"gatewayData",void 0);sslManager_defineProperty(this,"environment",void 0);sslManager_defineProperty(this,"sslEnforcementMode",
void 0);sslManager_defineProperty(this,"insecureProtocolRegex",/http:|ws:/i);this.gatewayData=gatewayData;this.environment=environment;this.sslEnforcementMode=this.fallbackOrReturnEnforcementMode()}sslManager_createClass(SSLManager,[{key:"updateEnvironment",value:function updateEnvironment(env){this.environment=env;this.sslEnforcementMode=this.fallbackOrReturnEnforcementMode()}},{key:"allowRequest",value:function allowRequest(locationProtocol,protocol,request){var SSLCheckPasses=true;if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,
this.environment,"requireSSL")){if((locationProtocol==="https:"||this.gatewayData.sslConfig.sslProtocolOverride===true)&&this.insecureProtocolRegex.test(protocol))SSLCheckPasses=false;if(!SSLCheckPasses)request.addReason("SSL")}return SSLCheckPasses}},{key:"shouldRewriteProtocol",value:function shouldRewriteProtocol(request){var protocol=(new urlPonyFill["a"](request.destination,window.location)).protocol;var shouldRewrite=false;if(this.insecureProtocolRegex.test(protocol))if(this.sslEnforcementMode===
sslEnforcement.Rewrite&&!request.hasReason("Whitelist")&&!request.hasReason("Blacklist")&&request.hasReason("SSL"))shouldRewrite=true;return shouldRewrite}},{key:"rewriteProtocol",value:function rewriteProtocol(urlString){urlString=urlString.replace(/^http:\/\//i,"https://");urlString=urlString.replace(/^ws:\/\//i,"wss://");return urlString}},{key:"fallbackOrReturnEnforcementMode",value:function fallbackOrReturnEnforcementMode(){if(!this.gatewayData.sslConfig&&(!this.environment||!this.environment.sslEnforcementMode))return sslEnforcement.Block;
else return utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(this.gatewayData.sslConfig,this.environment,"sslEnforcementMode")}}]);return SSLManager}();function dataGovernanceManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function dataGovernanceManager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=
true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function dataGovernanceManager_createClass(Constructor,protoProps,staticProps){if(protoProps)dataGovernanceManager_defineProperties(Constructor.prototype,protoProps);if(staticProps)dataGovernanceManager_defineProperties(Constructor,staticProps);return Constructor}function dataGovernanceManager_defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,
configurable:true,writable:true});else obj[key]=value;return obj}var dataGovernanceManager_DataGovernanceManager=function(){function DataGovernanceManager(enabled,dataMonitoringParams,environment){dataGovernanceManager_classCallCheck(this,DataGovernanceManager);dataGovernanceManager_defineProperty(this,"enabled",void 0);dataGovernanceManager_defineProperty(this,"dataMonitoringParams",void 0);dataGovernanceManager_defineProperty(this,"environment",void 0);dataGovernanceManager_defineProperty(this,
"blockURLParamsRegex",void 0);dataGovernanceManager_defineProperty(this,"activeMonitoringParams",void 0);dataGovernanceManager_defineProperty(this,"dataMonitoringAllowedDomainsRegex",void 0);dataGovernanceManager_defineProperty(this,"mode",void 0);dataGovernanceManager_defineProperty(this,"maskCharacter",void 0);dataGovernanceManager_defineProperty(this,"base64Pattern",/((?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?)/g);this.enabled=enabled;this.dataMonitoringParams=dataMonitoringParams;
this.environment=environment;this.updateEnvironment(environment)}dataGovernanceManager_createClass(DataGovernanceManager,[{key:"validateActivateMonitoring",value:function validateActivateMonitoring(activeMonitoringParams){if(activeMonitoringParams){activeMonitoringParams.mode=activeMonitoringParams.mode||"block";activeMonitoringParams.blockURLParamsRegex=activeMonitoringParams.blockURLParamsRegex||[];activeMonitoringParams.domainsAllowed=activeMonitoringParams.domainsAllowed||[];activeMonitoringParams.monitorBase64Data=
activeMonitoringParams.monitorBase64Data||false;activeMonitoringParams.maskCharacter=activeMonitoringParams.maskCharacter||"~";activeMonitoringParams.processRequestBody=activeMonitoringParams.processRequestBody||false}return activeMonitoringParams}},{key:"getActiveMonitoringParams",value:function getActiveMonitoringParams(){var activeMonitoringParams;if(this.environment&&this.environment.hasOwnProperty("dataMonitoring"))activeMonitoringParams=this.validateActivateMonitoring(this.environment.dataMonitoring);
else activeMonitoringParams=this.validateActivateMonitoring(this.dataMonitoringParams)||{};return activeMonitoringParams}},{key:"updateEnvironment",value:function updateEnvironment(env){this.environment=env;this.activeMonitoringParams=this.getActiveMonitoringParams();var regexArray=this.getBlockURLParamsRegexArray(this.activeMonitoringParams);this.blockURLParamsRegex=utilities["utilities"].arrayToRegex(regexArray);this.dataMonitoringAllowedDomainsRegex=utilities["utilities"].arrayToRegex(this.activeMonitoringParams.domainsAllowed);
this.mode=this.activeMonitoringParams.mode||"block";this.maskCharacter=this.activeMonitoringParams.maskCharacter||"~"}},{key:"isDataPatternReported",value:function isDataPatternReported(activeMonitoringParams){return activeMonitoringParams.blockURLParamsRegex!=null&&activeMonitoringParams.blockURLParamsRegex.length>0&&typeof activeMonitoringParams.blockURLParamsRegex[0].regex==="string"}},{key:"allowRequest",value:function allowRequest(request,hostName,requestBody){var dataMonitoringCheckPasses;var url=
request.destination;if(this.enabled){dataMonitoringCheckPasses=true;var decodedURLString=utilities["utilities"].decodeUriComponent(url);if(this.activeMonitoringParams.monitorBase64Data)dataMonitoringCheckPasses=!this.checkForBase64Data(url,request);if(dataMonitoringCheckPasses)dataMonitoringCheckPasses=!this.blockURLParamsRegex.test(decodedURLString);if(this.activeMonitoringParams.processRequestBody)if(requestBody){var body=requestBody;if(body instanceof FormData)if(utilities["utilities"].isIE)body=
"";else body=this.formDataToString(body);else if(!utilities["utilities"].isIE&&body instanceof URLSearchParams)body=body.toString();if(this.activeMonitoringParams.monitorBase64Data)dataMonitoringCheckPasses=!this.checkForBase64Data(body,request);if(dataMonitoringCheckPasses)dataMonitoringCheckPasses=!this.blockURLParamsRegex.test(body);this.findMatchedDataPatterns(this.activeMonitoringParams.blockURLParamsRegex,request,body)}if(dataMonitoringCheckPasses===false&&this.activeMonitoringParams.domainsAllowed.length>
0)dataMonitoringCheckPasses=this.dataMonitoringAllowedDomainsRegex.test(hostName);if(!dataMonitoringCheckPasses){request.addReason("DATA_MONITORING");if(this.isDataPatternReported(this.activeMonitoringParams))this.findMatchedDataPatterns(this.activeMonitoringParams.blockURLParamsRegex,request,decodedURLString)}}return dataMonitoringCheckPasses}},{key:"getMaskedUrl",value:function getMaskedUrl(url){if(url)return this.editQueryString(url,utilities["utilities"].repeatString(this.maskCharacter,10));return url}},
{key:"getRedactedUrl",value:function getRedactedUrl(url){if(url)return this.editQueryString(url,"");return url}},{key:"getMaskedData",value:function getMaskedData(data){if(data)return this.editData(data,utilities["utilities"].repeatString(this.maskCharacter,10));return data}},{key:"getRedactedData",value:function getRedactedData(data){if(data)return this.editData(data,"");return data}},{key:"shouldMaskData",value:function shouldMaskData(request){var shouldMask=false;if(this.mode==="mask"&&request.hasReason("DATA_MONITORING"))shouldMask=
true;return shouldMask}},{key:"shouldRedactData",value:function shouldRedactData(request){var shouldRedact=false;if(this.mode==="redact"&&request.hasReason("DATA_MONITORING"))shouldRedact=true;return shouldRedact}},{key:"shouldMaskUrl",value:function shouldMaskUrl(request){var shouldMask=false;if(this.mode==="mask"&&!request.hasReason("Whitelist")&&!request.hasReason("Blacklist")&&request.hasReason("DATA_MONITORING"))shouldMask=true;return shouldMask}},{key:"shouldRedactUrl",value:function shouldRedactUrl(request){var shouldRedact=
false;if(this.mode==="redact"&&!request.hasReason("Whitelist")&&!request.hasReason("Blacklist")&&request.hasReason("DATA_MONITORING"))shouldRedact=true;return shouldRedact}},{key:"editPath",value:function editPath(path,replacementString,isRedacted){if(path.indexOf(";")>-1)path=this.editSemiColonDelimitedPath(path,replacementString,isRedacted);var pathArray=path.split("/");for(var i=0;i<pathArray.length;i++)if(pathArray[i]!==""&&this.blockURLParamsRegex.test&&this.blockURLParamsRegex.test(pathArray[i])){pathArray[i]=
pathArray[i].replace(this.blockURLParamsRegex,replacementString);pathArray[i]=utilities["utilities"].encodeUriComponent(pathArray[i]);if(this.mode==="redact"&&pathArray[i]===""){pathArray.splice(i,1);i--}}else if(this.activeMonitoringParams.monitorBase64Data&&pathArray[i].length>4&&this.base64Pattern.test(pathArray[i]))try{var decodedString=window.atob(pathArray[i]);if(this.blockURLParamsRegex.test&&this.blockURLParamsRegex.test(decodedString)){pathArray[i]=pathArray[i].replace(this.base64Pattern,
replacementString);pathArray[i]=utilities["utilities"].encodeUriComponent(pathArray[i]);if(this.mode==="redact"&&pathArray[i]===""){pathArray.splice(i,1);i--}}}catch(e){}var newPath=pathArray.join("/");return newPath}},{key:"formDataToString",value:function formDataToString(formData){var parameters=[];var es,e,pair;for(es=formData.entries();!(e=es.next()).done&&(pair=e.value);)parameters.push(pair[0]+"\x3d"+pair[1]);return parameters.join("\x26")}},{key:"editBase64String",value:function editBase64String(queryString,
replacementStringChars){var newStringVal=queryString;var found=queryString.match(this.base64Pattern);for(var i in found){if(found[i].length<4)continue;var decodedString=window.atob(found[i]);if(this.blockURLParamsRegex.test(decodedString))newStringVal=queryString.replace(found[i],replacementStringChars)}return newStringVal}},{key:"editData",value:function editData(data,replacementString){if(this.activeMonitoringParams.processRequestBody)if(data instanceof String||typeof data==="string"){if(this.activeMonitoringParams.monitorBase64Data)data=
this.editBase64String(data,replacementString);if(this.blockURLParamsRegex.test)while(this.blockURLParamsRegex.test(data))data=data.replace(this.blockURLParamsRegex,replacementString)}else if(data instanceof FormData){if(!utilities["utilities"].isIE){var newData=new FormData;var es,e,pair;for(es=data.entries();!(e=es.next()).done&&(pair=e.value);){var key=this.editData(pair[0],replacementString);var value=this.editData(pair[1],replacementString);newData.append(key,value)}data=newData}}else if(!utilities["utilities"].isIE&&
data instanceof URLSearchParams){var _newData=new URLSearchParams;var _es,_e,_pair;for(_es=data.entries();!(_e=_es.next()).done&&(_pair=_e.value);){var _key=this.editData(_pair[0],replacementString);var _value=this.editData(_pair[1],replacementString);_newData.append(_key,_value)}data=_newData}return data}},{key:"editQueryString",value:function editQueryString(urlString,replacementStringChars){if(!this.enabled||!utilities["utilities"].isValidUrl(urlString))return urlString;var isRedacted=this.mode===
"redact";var replacementString=replacementStringChars;if(replacementStringChars==="")replacementString="";var queryString=urlString.split("?")[1];var url=new urlPonyFill["a"](urlString);url.pathname=this.editPath(url.pathname,replacementString,isRedacted);if(typeof queryString==="string"&&queryString!==""){if(this.activeMonitoringParams.monitorBase64Data)queryString=this.editBase64String(queryString,replacementString);var searchParams=queryString.split("\x26");if(searchParams.length>0){url.search=
this.editSearchParams(searchParams,replacementString,isRedacted);if(isRedacted&&url.search==="")url.href=url.href.replace("?","")}}return url.href}},{key:"getBlockURLParamsRegexArray",value:function getBlockURLParamsRegexArray(activeMonitoringParams){var regexArray=[];if(!this.isDataPatternReported(activeMonitoringParams))return activeMonitoringParams.blockURLParamsRegex||[];else for(var i=0;i<activeMonitoringParams.blockURLParamsRegex.length;i++)regexArray.push(activeMonitoringParams.blockURLParamsRegex[i].regex);
return regexArray}},{key:"findMatchedDataPatterns",value:function findMatchedDataPatterns(blockURLParamsRegex,request,decodedURLString){for(var i=0;i<blockURLParamsRegex.length;i++){var regex=new RegExp(blockURLParamsRegex[i].regex);if(regex.test&&regex.test(decodedURLString)){var matchedDataPattern=blockURLParamsRegex[i].name;request.dataPatterns.push(matchedDataPattern)}}}},{key:"checkForBase64Data",value:function checkForBase64Data(url,request){var found=url.match(this.base64Pattern);for(var i in found){if(found[i].length<
4)continue;var decodedString=window.atob(found[i]);if(this.blockURLParamsRegex.test(decodedString)){this.findMatchedDataPatterns(this.activeMonitoringParams.blockURLParamsRegex,request,decodedString);request.dataPatterns.push("base64");return true}}return false}},{key:"editSemiColonDelimitedPath",value:function editSemiColonDelimitedPath(path,replacementString,isRedacted){var pathEntriesArray=path.split("/");pathEntriesArray=pathEntriesArray.filter(function(param){return typeof param==="string"&&
param!==""});var newPath="";var that=this;utilities["utilities"].each(pathEntriesArray,function(pathEntry){var pathKeyValueArray=pathEntry.split(";");utilities["utilities"].each(pathKeyValueArray,function(param){var paramArray=param.split("\x3d");var key=paramArray[0];var unDecodedUriComponent=paramArray[1]||"";var isBlockedParams=undefined;var value=utilities["utilities"].decodeUriComponent(unDecodedUriComponent);if(typeof key==="string"&&key!==""&&that.blockURLParamsRegex.test)while(that.blockURLParamsRegex.test(key)){isBlockedParams=
isRedacted?true:false;key=key.replace(that.blockURLParamsRegex,replacementString)}if(typeof value==="string"&&value!==""&&that.blockURLParamsRegex.test)while(that.blockURLParamsRegex.test(value)){isBlockedParams=isRedacted?true:false;value=value.replace(that.blockURLParamsRegex,replacementString)}if(typeof key==="string"&&typeof value==="string"){value=utilities["utilities"].encodeUriComponent(value);if(isBlockedParams&&isRedacted)newPath+="";else if(value===""&&!isBlockedParams)newPath+=key+";";
else newPath+=key+"\x3d"+value+";"}})});newPath=newPath.slice(0,-1);return newPath}},{key:"editSearchParams",value:function editSearchParams(searchParams,replacementString,isRedacted){var newQueryString="";searchParams=searchParams.filter(function(param){return typeof param==="string"&&param!==""});var that=this;utilities["utilities"].each(searchParams,function(param){var paramArray=param.split("\x3d");var key=paramArray[0];var unDecodedUriComponent=paramArray[1]||"";var isBlockedParams;var value=
utilities["utilities"].decodeUriComponent(unDecodedUriComponent);if(typeof key==="string"&&key!==""&&that.blockURLParamsRegex.test)while(that.blockURLParamsRegex.test(key)){isBlockedParams=isRedacted?true:false;key=key.replace(that.blockURLParamsRegex,replacementString)}if(typeof value==="string"&&value!==""&&that.blockURLParamsRegex.test)while(that.blockURLParamsRegex.test(value)){isBlockedParams=isRedacted?true:false;value=value.replace(that.blockURLParamsRegex,replacementString)}if(typeof key===
"string"&&typeof value==="string"){value=utilities["utilities"].encodeUriComponent(value);if(isBlockedParams&&isRedacted)newQueryString+="";else if(value===""&&!isBlockedParams)newQueryString+=key+"\x26";else newQueryString+=key+"\x3d"+value+"\x26"}});newQueryString=newQueryString.slice(0,-1);return newQueryString}}]);return DataGovernanceManager}();function protoManager_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");
}function protoManager_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function protoManager_createClass(Constructor,protoProps,staticProps){if(protoProps)protoManager_defineProperties(Constructor.prototype,protoProps);if(staticProps)protoManager_defineProperties(Constructor,
staticProps);return Constructor}function protoManager_defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var ProtoManager=function(){function ProtoManager(){protoManager_classCallCheck(this,ProtoManager)}protoManager_createClass(ProtoManager,null,[{key:"allowProtocolAndBypassProcessing",value:function allowProtocolAndBypassProcessing(protoString,request,featureToggles){var requestType=
request.type;var allowed=this.protoRegex.test(protoString)&&this.allowedProtocols[protoString]!==undefined&&(!this.allowedProtocols[protoString].additionalAllowConditions||this.allowedProtocols[protoString].additionalAllowConditions(featureToggles,requestType));if(!allowed)this.addBlockReasonToRequest(protoString,request);return allowed}},{key:"isBlockedRequestBypassed",value:function isBlockedRequestBypassed(protoString){return this.requestBypassRegex.test(protoString)}},{key:"addBlockReasonToRequest",
value:function addBlockReasonToRequest(protoString,request){if(request&&typeof request.addReason==="function"&&this.allowedProtocols[protoString]!==undefined){var blockReason=this.allowedProtocols[protoString].blockReason;request.addReason(blockReason)}}}]);return ProtoManager}();protoManager_defineProperty(ProtoManager,"allowedProtocols",{"about:":{blockReason:"ABOUT_PROTOCOL"},"blob:":{blockReason:"BLOB_PROTOCOL"},"chrome-extension:":{additionalAllowConditions:function additionalAllowConditions(featureToggles){return!featureToggles.blockExtensions},
blockReason:"CHROME_BROWSER_EXTENSION"},"data:":{additionalAllowConditions:function additionalAllowConditions(featureToggles,requestType){return requestType==="img"||requestType==="script"&&featureToggles.disableDataProtocolJavascriptRequests},blockReason:"DATA_PROTOCOL"},"hblob:":{blockReason:"HBLOB_PROTOCOL"},"moz-extension:":{additionalAllowConditions:function additionalAllowConditions(featureToggles){return!featureToggles.blockExtensions},blockReason:"MOZ_BROWSER_EXTENSION"},"safari-extension:":{additionalAllowConditions:function additionalAllowConditions(featureToggles){return!featureToggles.blockExtensions},
blockReason:"SAFARI_BROWSER_EXTENSION"},"tel:":{blockReason:"TEL_PROTOCOL"}});protoManager_defineProperty(ProtoManager,"protoRegex",new RegExp(Object.keys(ProtoManager.allowedProtocols).join("|"),"i"));protoManager_defineProperty(ProtoManager,"requestBypassRegex",new RegExp("chrome-extension:|safari-extension:|moz-extension:","i"));function urlProcessor_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function urlProcessor_defineProperties(target,
props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function urlProcessor_createClass(Constructor,protoProps,staticProps){if(protoProps)urlProcessor_defineProperties(Constructor.prototype,protoProps);if(staticProps)urlProcessor_defineProperties(Constructor,staticProps);return Constructor}function urlProcessor_defineProperty(obj,
key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var urlProcessor_UrlProcessor=function(){function UrlProcessor(gatewayData,environment,listManager,historyEntryReporter){urlProcessor_classCallCheck(this,UrlProcessor);this.gatewayData=gatewayData;this.environment=environment;this.listManager=listManager;this.historyEntryReporter=historyEntryReporter;urlProcessor_defineProperty(this,"sslManager",void 0);
urlProcessor_defineProperty(this,"dataGovernanceManager",void 0);urlProcessor_defineProperty(this,"protoManager",void 0);this.sslManager=new sslManager_SSLManager(gatewayData,environment);this.dataGovernanceManager=new dataGovernanceManager_DataGovernanceManager(gatewayData.featureToggles.enableDataMonitoring,gatewayData.dataMonitoring,environment);this.protoManager=ProtoManager}urlProcessor_createClass(UrlProcessor,[{key:"updateEnvironment",value:function updateEnvironment(newEnvironment){this.environment=
newEnvironment;this.dataGovernanceManager.updateEnvironment(newEnvironment);this.sslManager.updateEnvironment(newEnvironment)}},{key:"processURL",value:function processURL(url,requestType,source,onUrlModifiedFn){var _this=this;var node={};return this.processURLInternal(url,null,requestType,source,node,onUrlModifiedFn,function(requestId){_this.historyEntryReporter.resourceComplete(node,requestId,"allowed")})}},{key:"processURLAndBody",value:function processURLAndBody(url,requestBody,requestType,source,
onUrlModifiedFn){var _this2=this;var node={};this.processURLInternal(url,requestBody,requestType,source,node,onUrlModifiedFn,function(requestId){_this2.historyEntryReporter.resourceComplete(node,requestId,"allowed")})}},{key:"isVoidURL",value:function isVoidURL(url){var voidURL="javascript:";return typeof url!=="string"||url===""||url.indexOf(voidURL)!==-1}},{key:"isValidURL",value:function isValidURL(url){try{new urlPonyFill["a"](url,window.location)}catch(e){return false}return true}},{key:"createEventHandler",
value:function createEventHandler(timeStamp,status){var _this3=this;return function(){_this3.historyEntryReporter.resourceComplete(_this3,timeStamp,status)}}},{key:"processURLInternal",value:function processURLInternal(url,requestBody,requestType,source,node,onUrlModifiedFn,onAllowedfn){var processedUrl=url;if(this.isVoidURL(processedUrl)||!this.isValidURL(processedUrl))return processedUrl;var timeStamp=+new Date;var request=new EnsRequest("");request.id=timeStamp;request.source=source;request.type=
requestType;request.destination=(new urlPonyFill["a"](processedUrl,window.location)).href;if(!this.onBefore(request,requestBody,node)){var modifiedUrl=this.getBlockedSrcString(request.type,request);var modifiedRequestBody=this.getBlockedRequestBody(request,requestBody);if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"enableFiltering")){if(typeof onUrlModifiedFn==="function")onUrlModifiedFn(modifiedUrl,modifiedRequestBody);processedUrl=
modifiedUrl}this.sendBlockReport(request,node)}else onAllowedfn(request.id);return processedUrl}},{key:"sendBlockReport",value:function sendBlockReport(request,node){var status="blocked";if(this.dataGovernanceManager.shouldMaskUrl(request))status="masked";if(this.dataGovernanceManager.shouldRedactUrl(request))status="redact";if(this.sslManager.shouldRewriteProtocol(request))status="rewrite";this.historyEntryReporter.resourceComplete(node,request.id,status)}},{key:"onBefore",value:function onBefore(request,
requestBody,node){this.historyEntryReporter.createHistoryEntry(request,node);return this.allowRequest(request,requestBody)}},{key:"allowRequest",value:function allowRequest(request,requestBody){var shouldAllowRequest=true;var url=request.destination,urlToParse=new urlPonyFill["a"](url,window.location)||window.location,locationProtocol=window.location.protocol,hostName=urlToParse.hostname,pathName=urlToParse.pathname,protocol=urlToParse.protocol;var protocolAllowed=this.protoManager.allowProtocolAndBypassProcessing(protocol,
request,this.gatewayData.featureToggles);if(protocolAllowed)return true;else if(this.protoManager.isBlockedRequestBypassed(protocol))return false;var SSLCheckPasses=true;if(url!=="")SSLCheckPasses=this.sslManager.allowRequest(locationProtocol,protocol,request);var targetListCheckPasses=true;var dataMonitoringCheckPasses=true;dataMonitoringCheckPasses=this.dataGovernanceManager.allowRequest(request,hostName,requestBody);if(this.environment)targetListCheckPasses=this.listManager.allowRequest(hostName,
request,pathName);if(targetListCheckPasses===false||SSLCheckPasses===false||dataMonitoringCheckPasses===false)shouldAllowRequest=false;return shouldAllowRequest}},{key:"getBlockedSrcString",value:function getBlockedSrcString(tagName,request){var blockedSrcString=request.destination;var getPerTagBlockString=function getPerTagBlockString(){if(tagName==="img")return"";else return"//javascript:;"};if(this.sslManager.shouldRewriteProtocol(request)){blockedSrcString=this.sslManager.rewriteProtocol(request.destination);
if(request.reasons.length===1)return blockedSrcString}else if(request.hasReason("SSL"))return getPerTagBlockString();if(this.dataGovernanceManager.shouldMaskUrl(request))return this.dataGovernanceManager.getMaskedUrl(blockedSrcString);else if(this.dataGovernanceManager.shouldRedactUrl(request))return this.dataGovernanceManager.getRedactedUrl(blockedSrcString);else return getPerTagBlockString()}},{key:"getBlockedRequestBody",value:function getBlockedRequestBody(request,requestBody){if(this.dataGovernanceManager.shouldMaskData(request))return this.dataGovernanceManager.getMaskedData(requestBody);
else if(this.dataGovernanceManager.shouldRedactData(request))return this.dataGovernanceManager.getRedactedData(requestBody);else return requestBody}}]);return UrlProcessor}();function domProcessor_typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol")domProcessor_typeof=function _typeof(obj){return typeof obj};else domProcessor_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":
typeof obj};return domProcessor_typeof(obj)}function domProcessor_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");}function domProcessor_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function domProcessor_createClass(Constructor,
protoProps,staticProps){if(protoProps)domProcessor_defineProperties(Constructor.prototype,protoProps);if(staticProps)domProcessor_defineProperties(Constructor,staticProps);return Constructor}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,
superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,
result)}}function _possibleConstructorReturn(self,call){if(call&&(domProcessor_typeof(call)==="object"||typeof call==="function"))return call;return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;
try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function domProcessor_defineProperty(obj,key,value){if(key in obj)Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});else obj[key]=value;return obj}var domProcessor_DomProcessor=
function(_UrlProcessor){_inherits(DomProcessor,_UrlProcessor);var _super=_createSuper(DomProcessor);function DomProcessor(gatewayData,environment,listManager,historyEntryReporter){var _this;domProcessor_classCallCheck(this,DomProcessor);_this=_super.call(this,gatewayData,environment,listManager,historyEntryReporter);domProcessor_defineProperty(_assertThisInitialized(_this),"events",["load","abort","error"]);domProcessor_defineProperty(_assertThisInitialized(_this),"styleRequestTracker",void 0);_this.styleRequestTracker=
new styleRequestTracker_StyleRequestTracker(_this.gatewayData.featureToggles,_assertThisInitialized(_this));return _this}domProcessor_createClass(DomProcessor,[{key:"getIsObservingStyle",value:function getIsObservingStyle(){return this.styleRequestTracker.getIsObservingStyle()}},{key:"processElement",value:function processElement(source,elementNode){var processed=elementNode.tagName;var timeStamp=+new Date;if(typeof processed==="undefined"||processed===null||elementNode===null)return elementNode;
this.styleRequestTracker.processElementStyle(elementNode,source);var tagName=elementNode.tagName.toLowerCase();if(this.hasElementBeenProcessed(elementNode,tagName))return elementNode;elementNode.__gateway=timeStamp;if((utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"removeIFrameOnBlock")||utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,"removeAllIFrames"))&&tagName==="iframe")if(utilities["utilities"].validateRemoveChild(elementNode)){elementNode.parentNode.removeChild(elementNode);
elementNode=null;return elementNode}else{elementNode=null;return elementNode}if(tagConfigInit[tagName]){if(tagConfigInit[tagName].featureFlag===undefined||utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,tagConfigInit[tagName].featureFlag))this.processElementByAttribute(elementNode,source,tagConfigInit[tagName].processAttribute,function(modifiedUrl){elementNode[tagConfigInit[tagName].processAttribute]=modifiedUrl});elementNode[tagConfigInit[tagName].previousProcessAttribute]=
elementNode[tagConfigInit[tagName].processAttribute]}this.processElementChildren(source,elementNode);processed=timeStamp=tagName=null;return elementNode}},{key:"processHTML",value:function processHTML(source,html){for(var tagName in tagConfigInit){var tagInfo=tagConfigInit[tagName];if(typeof tagInfo.processAttribute!=="undefined"&&(typeof tagInfo.featureFlag==="undefined"||utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,this.environment,tagConfigInit[tagName].featureFlag))){var regex=
new RegExp(tagInfo.processAttribute+"\\s*\x3d","i");if(regex.test(html))html=this.processHTMLAttribute(source,html,[tagName],tagInfo.processAttribute)}}html=this.styleRequestTracker.processHTMLStyle(source,html);return html}},{key:"processElementChildren",value:function processElementChildren(source,elementNode){var _this2=this;if(elementNode.children)utilities["utilities"].each(array_from_default()(elementNode.children),function(node){_this2.processElement(source,node)})}},{key:"processHTMLAttribute",
value:function processHTMLAttribute(source,html,tagsToProcess,attribute){var _this3=this;var parsedTagsList=tagsToProcess.join("|");var regexString="(\x3c\\s*("+parsedTagsList+")[^\x3e]+"+attribute+"\\s*\x3d\\s*(.*?)[^\x3e]*\x3e)";function findTagsWithSrc(html){return html.match(new RegExp(regexString,"ig"))}function getSrcUrl(htmlTag){var urlRegex="\\s*"+attribute+"\\s*\x3d\\s*('|\")?(.*?)(\\1)(\\s|/\x3e|\x3e|;|$)";var match=htmlTag.match(new RegExp(urlRegex,"i"));if(match&&match.length>2)return match[2].trim();
return null}function getTagName(htmlTag){var match=htmlTag.match(new RegExp(regexString,"i"));if(match&&match.length>2)return match[2];return null}function findIFrames(html){var regex="(\x3c\\s*(iframe)\\s(.*?)*\x3e)(.*?)(\x3c\\s*/\\s*iframe\x3e)+";return html.match(new RegExp(regex,"ig"))}function removeAllIFrames(html){var allIFrames=findIFrames(html);for(var i=0;i<allIFrames.length;i++){var foundIFrame=allIFrames[i];html=html.replace(foundIFrame,"")}return html}if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(this.gatewayData.featureToggles,
this.environment,"removeAllIFrames")&&findIFrames(html))html=removeAllIFrames(html);var tags=findTagsWithSrc(html);if(tags)utilities["utilities"].each(tags,function(tag){var src=getSrcUrl(tag);if(src){var tagName=getTagName(tag);_this3.processURL(src,tagName,source,function(modifiedUrl){if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(_this3.gatewayData.featureToggles,_this3.environment,"removeIFrameOnBlock")&&tagName!==null&&tagName.toLowerCase()==="iframe"){var replaceRegExpChars=
/[.*+?^${}()|[\]\\]/g;var regex="(\x3c\\s*(iframe)[^\x3e]+src\\s*\x3d\\s*(('|\"|`)?"+src.replace(replaceRegExpChars,"\\$\x26")+")[^\x3e]*\x3e)(.*?)(\x3c\\s*/\\s*iframe\x3e)";regex=new RegExp(regex,"i");html=html.replace(regex,"")}else html=html.replace(src,modifiedUrl)})}});return html}},{key:"processElementByAttribute",value:function processElementByAttribute(elementNode,source,attribute,onUrlModifiedFn){var _this4=this;var elementSrc=attribute!==undefined?elementNode[attribute]:elementNode.src;
var url=typeof elementSrc==="string"?elementSrc:"";var requestType=elementNode.tagName.toLowerCase();return this.processURLInternal(url,null,requestType,source,elementNode,onUrlModifiedFn,function(requestId){if(elementNode.addEventListener)utilities["utilities"].each(_this4.events,function(event){elementNode.addEventListener(event,_this4.createEventHandler(requestId,event),false)});else if(elementNode.attachEvent)utilities["utilities"].each(_this4.events,function(event){elementNode.attachEvent("on"+
event,_this4.sendBlockReport(requestId,event))})})}},{key:"hasElementBeenProcessed",value:function hasElementBeenProcessed(elementNode,tagName){var hasElementBeenProcessed=false;if(elementNode.__gateway)if(tagConfigInit.processElementTags.indexOf(tagName)===-1)hasElementBeenProcessed=true;else if(tagConfigInit[tagName]&&elementNode[tagConfigInit[tagName].previousProcessAttribute]===elementNode[tagConfigInit[tagName].processAttribute])hasElementBeenProcessed=true;return hasElementBeenProcessed}}]);
return DomProcessor}(urlProcessor_UrlProcessor);var gateway_Gateway=function Gateway(gatewayData,gatewayConfig){var banner,doNotSellModal,requestDataModal,deleteDataModal,ccpaEventAPI,consentWidget,consentUIManager,cookieManager,consentReporter,environment,environmentManager,cookieTypes=[],defaultCategory="default",gatewayHasEnvironment,listManager,modal={},options,reporter,tagAccessManager,cssManager,mutationObservers,domProcessor,historyEntryReporter,gatewayInternal={};gatewayData.featureToggles.disableDefaultStyles=
gatewayData.featureToggles.disableDefaultStyles===undefined?false:gatewayData.featureToggles.disableDefaultStyles;gatewayData.featureToggles.enableDataMonitoring=gatewayData.featureToggles.enableDataMonitoring||false;gatewayData.featureToggles.disableXHRManager=gatewayData.featureToggles.disableXHRManager||false;gatewayData.featureToggles.disableSendBeaconReporting=gatewayData.featureToggles.disableSendBeaconReporting===undefined?true:gatewayData.featureToggles.disableSendBeaconReporting;modal.openModal=
function(){if(gatewayHasEnvironment===false)throw new Error("Ensighten API Error: No gateway environment found, the modal cannot work without it.");else throw new Error("Ensighten API Error: You must first register your modal before you can call it. Use Bootstrapper.gateway.setOpenModal to register a function that opens your modal.");};var history={before:{},complete:{}};var closeBanner=function closeBanner(){try{banner.closeEnsBanner()}catch(err){throw new Error("Ensighten API error:  Your banner is not initialized in your client config "+
err);}};options={clientName:gatewayData.info.name,enableFiltering:gatewayData.featureToggles.enableFiltering};function resetEnvironment(){cookieManager.deleteCookie("LOCALE");environmentManager.setEnvironment();setEnvironment(environmentManager.getActiveEnvironment())}function updateEnvironment(env){setEnvironment(env);modal.update(env,gatewayData.featureToggles);banner.update(env);if(gatewayData.featureToggles.consentWidget)consentWidget.update(env);consentReporter.setEnvironment(env);reporter.setEnvironment(env);
var activeEnvironmentCookieTypes=getActiveEnvironmentCookieTypes(env);listManager.updateEnvironment(env,cookieManager.getCategoryMapFromCookieTypes(activeEnvironmentCookieTypes));if(cssManager)cssManager.updateEnvironment(env);mutationObservers.updateEnvironment(env);domProcessor.updateEnvironment(env)}function getLog(){var log=[{location:window.location.href||null},{cookie:document.cookie||null}];if(window.JSON){for(var id in history.complete)log.push({resource:history.complete[id].request});if(console&&
console.dir)console.dir(log);alert(JSON.stringify(log))}}function modalDomCleanup(){if(gatewayData.featureToggles.enableConsentModal){var domElement=document.getElementById("ensModalWrapper");if(utilities["utilities"].validateRemoveChild(domElement))domElement.parentElement.removeChild(domElement)}}function bannerDomCleanup(){var domElement=document.getElementById("ensNotifyBanner");if(utilities["utilities"].validateRemoveChild(domElement))domElement.parentElement.removeChild(domElement)}function setOpenModal(clientDefinedOverrideFunction){modal.openModal=
clientDefinedOverrideFunction;modalDomCleanup()}function setOpenBanner(clientDefinedOverrideFunction){banner.customElementSet=true;banner.openEnsBanner=clientDefinedOverrideFunction;bannerDomCleanup()}function openBanner(){try{banner.openEnsBanner()}catch(err){if(gatewayHasEnvironment===false)throw new Error("Ensighten API Error: No gateway environment found, the banner cannot work without it."+err);else throw new Error("Ensighten API error:  Your banner is not initialized in your client config "+
err);}}function openModal(){try{modal.openModal()}catch(err){if(gatewayHasEnvironment===false)throw new Error("Ensighten API Error: No gateway environment found, the modal cannot work without it."+err);else throw new Error("Ensighten API error:  Your modal is not initialized in your client config "+err);}}function sendCCPAEvent(eventName,contactInfo){try{ccpaEventAPI.sendCCPAEvent(eventName,contactInfo)}catch(err){if(gatewayHasEnvironment===false)throw new Error("Ensighten API Error: No gateway environment found, the modal cannot work without it."+
err);else throw new Error("Ensighten API error:  Your modal is not initialized in your client config "+err);}}function openDoNotSellModal(){try{doNotSellModal.openModal()}catch(err){if(gatewayHasEnvironment===false)throw new Error("Ensighten API Error: No gateway environment found, the do not sell modal cannot work without it."+err);else throw new Error("Ensighten API error: Your do not sell modal is not initialized in your client config "+err);}}function openRequestDataModal(){try{requestDataModal.openModal()}catch(err){if(gatewayHasEnvironment===
false)throw new Error("Ensighten API Error: No gateway environment found, the request data modal cannot work without it."+err);else throw new Error("Ensighten API error: Your request data modal is not initialized in your client config "+err);}}function openDeleteDataModal(){try{deleteDataModal.openModal()}catch(err){if(gatewayHasEnvironment===false)throw new Error("Ensighten API Error: No gateway environment found, the delete data modal cannot work without it."+err);else throw new Error("Ensighten API error: Your delete data modal is not initialized in your client config "+
err);}}function setEnvironment(env){environment=env;gatewayInternal.environment=env}var getActiveEnvironmentCookieTypes=function getActiveEnvironmentCookieTypes(activeEnvironment){var activeEnvironmentCookieTypes=[];if(activeEnvironment&&activeEnvironment.optVals)activeEnvironmentCookieTypes=Object.keys(activeEnvironment.optVals);return activeEnvironmentCookieTypes};function getVersion(){var ensGatewayVersion={};ensGatewayVersion.version="2.3.425";return ensGatewayVersion.version}var consentCookies=
{getCookie:function getCookie(cookieType){return cookieManager.getCookie(cookieType)},setCookie:function setCookie(cookieType,value){var oldCookies=cookieManager.getCookiesFromTypes([cookieType]);cookieManager.setCookie(cookieType,value);var newCookies=cookieManager.getCookiesFromTypes([cookieType]);if(consentReporter!=null)consentReporter.sendReport(oldCookies,newCookies);if(gatewayData.featureToggles.enableConsentModal)modal.updateCheckboxes(environment)},setCookies:function setCookies(cookies){var cookieTypes=
[];for(var key in cookies)cookieTypes.push(key);var oldCookies=cookieManager.getCookiesFromTypes(cookieTypes);cookieManager.setCookies(cookies);var newCookies=cookieManager.getCookiesFromTypes(cookieTypes);if(consentReporter!=null)consentReporter.sendReport(oldCookies,newCookies);if(gatewayData.featureToggles.enableConsentModal)modal.updateCheckboxes(environment)},getCookieTypes:function getCookieTypes(){return cookieTypes},calculateCookieDomain:function calculateCookieDomain(domain){return cookieManager.calculateCookieDomain(domain)},
setCookieDomain:function setCookieDomain(newCookieDomain){cookieManager.setCookieDomain(newCookieDomain)},getCookieDomain:function getCookieDomain(){return cookieManager.getCookieDomain()}};var enableGateway=true;var isInitialized=false;var init=function(){cookieManager=new cookieManager_CookieManager(gatewayData.info.name,gatewayData.getCookie,gatewayData.setCookie);tagAccessManager=new TagAccessManager(gatewayData.info.name);environmentManager=new environmentManager_EnvironmentManager(document,
gatewayData.environmentConfigs,gatewayData.defaultEnv,gatewayData.info.name,cookieManager);if(gatewayData.featureToggles.enableEnvironmentMatching===true&&environmentManager.getActiveEnvironment()==null){enableGateway=false;return}var activeEnvironment=environmentManager.getActiveEnvironment();var activeEnvironmentCookieTypes=getActiveEnvironmentCookieTypes(activeEnvironment);setEnvironment(activeEnvironment);environmentManager.registerEnvironmentChangeCallback(updateEnvironment);listManager=new listManager_ListManager(environment,
gatewayData,defaultCategory,cookieManager.getCategoryMapFromCookieTypes(activeEnvironmentCookieTypes),tagAccessManager.getAllowedTags(),tagAccessManager.getBlockedTags());environmentManager.registerEnvironmentChangeCallback(function(){var activeEnvironment=environmentManager.getActiveEnvironment();var activeEnvironmentCookieTypes=getActiveEnvironmentCookieTypes(activeEnvironment);listManager.updateListValues(cookieManager.getCategoryMapFromCookieTypes(activeEnvironmentCookieTypes))});if(environment){gatewayHasEnvironment=
true;var navigatorSendBeaconManager;consentReporter=new src_consentReporter["a"](new window.Image,environment.name||"",gatewayData.libraryPackage,environment.optVals,gatewayData.info.clientId,gatewayData.info.name,gatewayData.info.publishPath,utilities["utilities"].isWhitelist(gatewayData,environment)?"whitelist":"blacklist",gatewayData.cookieTypes,getVersion(),gatewayData.featureToggles.enableReporting,cookieManager,gatewayData.info.nexus||"nexus.ensighten.com",gatewayData.onConsent,gatewayData.featureToggles.disableSendBeaconReporting,
!utilities["utilities"].IE&&navigatorSendBeaconManager?navigatorSendBeaconManager.sendBeacon:null);cookieTypes=gatewayData.cookieTypes||function(){var result=[];for(var key in whitelist)if(key!==defaultCategory)result.push(key);return result}();consentUIManager=new consentUIManager_ConsentUIManager(gatewayData,environment,listManager,cookieManager,consentReporter);modal=consentUIManager.getConsentModal();ccpaEventAPI=new CCPAEventAPI(consentReporter,listManager,cookieManager,tagAccessManager,gatewayData,
environment);if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableDoNotSellModal"))doNotSellModal=new contactInfoModal_ContactInfoModal(cookieManager,listManager,consentReporter,environment,gatewayData,"doNotSellModal",ccpaEventAPI);if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableRequestDataModal"))requestDataModal=new contactInfoModal_ContactInfoModal(cookieManager,listManager,consentReporter,
environment,gatewayData,"requestDataModal",ccpaEventAPI);if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableDeleteDataModal"))deleteDataModal=new contactInfoModal_ContactInfoModal(cookieManager,listManager,consentReporter,environment,gatewayData,"deleteDataModal",ccpaEventAPI);banner=new Banner(gatewayData,environment,modal,cookieManager,consentReporter);if(gatewayData.featureToggles.consentWidget)consentWidget=new consentWidget_ConsentWidget(environment,
gatewayData)}else gatewayHasEnvironment=false;var options=null;var reportingFilterRegex=null;if(gatewayData.featureToggles.enableAllowedDomainsReporting===false)reportingFilterRegex=listManager.getAlwaysAllowedListRegex();reporter=new src_reporter["a"](window.Image,gatewayData.info.clientId,gatewayData.info.publishPath,gatewayData.featureToggles.enableFiltering,getVersion(),gatewayData.featureToggles.enableReporting,gatewayData.featureToggles.enablePerformanceModeReporting,gatewayData.reportingOptions||
{maxUrlSize:32E3,reportInterval:2500},gatewayData.info.nexus||"nexus.ensighten.com",reportingFilterRegex,environment,gatewayData.featureToggles.disableSendBeaconReporting,!utilities["utilities"].IE&&navigatorSendBeaconManager?navigatorSendBeaconManager.sendBeacon:null);reporter.setCookies(getPrivacyCookies());var billingResource=new EnsRequest("");billingResource.type="billing";billingResource.source="";billingResource.status="";utilities["utilities"].domReady(function(){reporter.sendBillingBeacon(billingResource)});
if(!options)options={enableFiltering:false};historyEntryReporter=new historyEntryReporter_HistoryEntryReporter(history,reporter);domProcessor=new domProcessor_DomProcessor(gatewayData,environment,listManager,historyEntryReporter);if(gatewayData.featureToggles.disableXHRManager===false){new XhrManager(domProcessor);if(!utilities["utilities"].isIE){new FetchManager(domProcessor);navigatorSendBeaconManager=new NavigatorSendBeaconManager(gatewayData.info.nexus||"nexus.ensighten.com",domProcessor)}}cssManager=
new cssManager_CssManager(gatewayData.featureToggles,environment,domProcessor);mutationObservers=new mutationObserverFactory_MutationObserverFactory(gatewayData.featureToggles,environment,domProcessor,domProcessor);elementObserver_elementObserver(domProcessor);writeObserver_writeObserver(domProcessor);writeLnObserver_writeLnObserver(domProcessor);if(utilities["utilities"].getEnvironmentOverrideOrGlobalDefault(gatewayData.featureToggles,environment,"enableWindowOpenOverride"))windowOpenManager(domProcessor);
gatewayConfig.unbound.script=document.all&&!document.addEventListener;isInitialized=true}();if(!enableGateway){isInitialized=false;return{isInitialized:isInitialized}}function getPrivacyCookies(){var cookies={};function cookieHelper(key){var cookieVal=consentCookies.getCookie(key);if(cookieVal!==undefined)cookies[key]=cookieVal}var types=consentCookies.getCookieTypes();for(var i=0;i<types.length;i++)cookieHelper(types[i]);cookieHelper("MODAL_VIEWED");cookieHelper("BANNER_VIEWED");cookieHelper("LOCALE");
return cookies}var allowTag=function allowTag(tag){tagAccessManager.allowTag(tag);updatePreferences();return tag};var blockTag=function blockTag(tag){tagAccessManager.blockTag(tag);updatePreferences();return tag};var getFilteredList=function getFilteredList(){var filteredTagList=listManager.getFilteredList();return filteredTagList};var getList=function getList(){var tagList=listManager.getList();if(tagAccessManager.isLocalStorageSupported()){tagList["CUSTOM_ALLOW"]=tagAccessManager.getAllowedTags();
tagList["CUSTOM_BLOCK"]=tagAccessManager.getBlockedTags()}return tagList};var isWhitelist=function isWhitelist(){return utilities["utilities"].isWhitelist(gatewayData,environment)};var clearTags=function clearTags(){tagAccessManager.clearTags();updatePreferences()};var updatePreferences=function updatePreferences(){var activeEnvironment=environmentManager.getActiveEnvironment();var activeEnvironmentCookieTypes=getActiveEnvironmentCookieTypes(activeEnvironment);listManager.updateListValues(cookieManager.getCategoryMapFromCookieTypes(activeEnvironmentCookieTypes),
tagAccessManager.getAllowedTags(),tagAccessManager.getBlockedTags())};gatewayInternal.isInitialized=isInitialized;gatewayInternal.cookieModal=modal;gatewayInternal.consentCookies=consentCookies;gatewayInternal.banner=banner;gatewayInternal.closeBanner=closeBanner;gatewayInternal.environment=environment;gatewayInternal.environmentManager=environmentManager;gatewayInternal.getLog=getLog;gatewayInternal.getList=getList;gatewayInternal.getFilteredList=getFilteredList;gatewayInternal.getVersion=getVersion;
gatewayInternal.history=history;gatewayInternal.isWhitelist=isWhitelist;gatewayInternal.allowTag=allowTag;gatewayInternal.blockTag=blockTag;gatewayInternal.clearTags=clearTags;gatewayInternal.modal=modal;gatewayInternal.sendCCPAEvent=sendCCPAEvent;gatewayInternal.doNotSellModal=doNotSellModal;gatewayInternal.openDoNotSellModal=openDoNotSellModal;gatewayInternal.requestDataModal=requestDataModal;gatewayInternal.openRequestDataModal=openRequestDataModal;gatewayInternal.deleteDataModal=deleteDataModal;
gatewayInternal.openDeleteDataModal=openDeleteDataModal;gatewayInternal.openBanner=openBanner;gatewayInternal.openModal=openModal;gatewayInternal.options=options;gatewayInternal.reporter=reporter;gatewayInternal.resetEnvironment=resetEnvironment;gatewayInternal.setOpenModal=setOpenModal;gatewayInternal.setOpenBanner=setOpenBanner;gatewayInternal.updatePreferences=updatePreferences;gatewayInternal.enableCSSMonitoring=gatewayData.featureToggles.enableCSSMonitoring===true;gatewayInternal.monitorFormAction=
gatewayData.featureToggles.monitorFormAction===true;gatewayInternal.monitorAnchorTags=gatewayData.featureToggles.monitorAnchorTags===true;gatewayInternal.removeIFrameOnBlock=gatewayData.featureToggles.removeIFrameOnBlock===true;gatewayInternal.removeAllIFrames=gatewayData.featureToggles.removeAllIFrames===true;return gatewayInternal}}])},3375628,[3459704],576305,[576304]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.notify("014 - Session-specific Storage on page load");Bootstrapper.SessionStorageItem=function(existingStorageItem,pageSessionID){this.ca=existingStorageItem&&existingStorageItem.ca||"",this.cs=existingStorageItem&&existingStorageItem.cs||"",this.id=existingStorageItem&&existingStorageItem.id||"",this.pa=this.id===pageSessionID?existingStorageItem&&
existingStorageItem.pa:"none",this.ps=this.id===pageSessionID?existingStorageItem&&existingStorageItem.ps:"none",this.lu=existingStorageItem&&existingStorageItem.lu||(new Date).getTime(),this.old=existingStorageItem&&existingStorageItem.old||false,this.apps=existingStorageItem&&existingStorageItem.apps||{},this.sites=existingStorageItem&&existingStorageItem.sites||{},this.updateCurrentStatus=function(application,site,date){if(this.ca!==application)this.pa=this.ca;if(this.cs!==site)this.ps=this.cs;
this.ca=application,this.cs=site,this.lu=date||(new Date).getTime(),this.old=true},this.addApplication=function(application,url,date,id){this.apps[application]={a:application,ep:url,vn:1,lv:"First Visit",id:id,lu:date||(new Date).getTime()}},this.addSite=function(site,url,date,id){this.sites[site]={s:site,ep:url,vn:1,lv:"First Visit",id:id,lu:date||(new Date).getTime()}},this.updateApplication=function(application,url,date,id){if(this.apps[application])this.apps[application]={ep:url,vn:this.apps[application].vn+
1,lv:this.calculateDaysSinceLastVisit(this.apps[application].lu,date),id:id,lu:date};else Bootstrapper.notify("014 - Application name "+application+" not in session-specific storage item.")},this.updateSite=function(site,url,date,id){if(this.sites[site])this.sites[site]={ep:url,vn:this.sites[site].vn+1,lv:this.calculateDaysSinceLastVisit(this.sites[site].lu,date),id:id,lu:date};else Bootstrapper.notify("014 - Site name "+site+" not in session-specific storage item.")},this.calculateDaysSinceLastVisit=
function(lastVisit,currentVisit){var diff=Math.floor((currentVisit-lastVisit)/(1E3*3600*24));return diff>0?diff:"Same Day"}};Bootstrapper.sessionTrackingHelper={setApplicationSpecificEvent:false,setSiteSpecificEvent:false,createNew:function(application,site,url,sessionID,date){try{var storageItemValue=new Bootstrapper.SessionStorageItem({ca:application,pa:"",cs:site,ps:"",date:date,id:sessionID,old:false,apps:{},sites:{}},undefined);storageItemValue.addApplication(application,url,date,sessionID);
storageItemValue.addSite(site,url,date,sessionID);return storageItemValue}catch(error){Bootstrapper.analyticsError.report(error,"014 - createNew")}},createFromExisting:function(storageItem,application,site,url,sessionID,date){try{var storageItemValue=new Bootstrapper.SessionStorageItem(JSON.parse(storageItem),sessionID);if(storageItemValue.apps.hasOwnProperty(application)&&storageItemValue.apps[application].id!==sessionID){storageItemValue.updateApplication(application,url,date,sessionID);Bootstrapper.sessionTrackingHelper.setApplicationSpecificEvent=
true}else if(!storageItemValue.apps.hasOwnProperty(application)){storageItemValue.addApplication(application,url,date,sessionID);Bootstrapper.sessionTrackingHelper.setApplicationSpecificEvent=true}if(storageItemValue.sites.hasOwnProperty(site)&&storageItemValue.sites[site].id!==sessionID){storageItemValue.updateSite(site,url,date,sessionID);Bootstrapper.sessionTrackingHelper.setSiteSpecificEvent=true}else if(!storageItemValue.sites.hasOwnProperty(site)){storageItemValue.addSite(site,url,date,sessionID);
Bootstrapper.sessionTrackingHelper.setSiteSpecificEvent=true}return storageItemValue}catch(error){Bootstrapper.analyticsError.report(error,"014 - createFromExisting")}},updateSessionItem:function(application,site,date){try{Bootstrapper.sessionHelperObject.updateCurrentStatus(application,site,date);if(site.indexOf("myAudi")>-1)Bootstrapper.analyticsStorage.setPrefixedCookie("vn",JSON.stringify(Bootstrapper.sessionHelperObject),1E3*60*60*24*365*2);else Bootstrapper.analyticsStorage.setVisitorItem("vn",
JSON.stringify(Bootstrapper.sessionHelperObject))}catch(error){Bootstrapper.analyticsError.report(error,"014 - updateSessionItem");var debug=[];var args=Array.prototype.slice.call(arguments);args.unshift("updateCurrentStatus arguments:");debug.push(args.join(","));typeof Bootstrapper.analyticsStorage.setPrefixedCookie==="function"?debug.push("setPrefixedCookie available"):debug.push("setPrefixedCookie not available");typeof Bootstrapper.analyticsStorage.setCookie==="function"?debug.push("setCookie available"):
debug.push("setCookie not available");debug.unshift("014");Bootstrapper.setVariable("014-debugging",debug.join("|"))}}}},3324283,[3451528,3451787],637898,[538643,538648]);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;(function(){var style=document.createElement("style");style.type="text/css";style.innerHTML='/* Hide old banner */\nhtml body .gbp-cookieinfo.js-cookieinfolayer {\n\tdisplay: none !important;\n}\n\n#ensNotifyBanner,\nhtml #ensModalWrapper .ensModal,\nhtml #ensModalWrapper .ensModal .ensTitle,\nhtml #ensModalWrapper .ensToggleLabel,\nhtml #ensModalWrapper .description {\n\tfont-family: AudiType-Normal,Helvetica,Arial,sans-serif !important;\n}\n\n#ensNotifyBanner,\nhtml #ensModalWrapper {\n\t-webkit-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n#ensNotifyBanner *,\nhtml #ensModalWrapper * {\n\t-webkit-box-sizing: inherit;\n\tbox-sizing: inherit;\n}\n#ensNotifyBanner :active,\n#ensNotifyBanner :focus,\n#ensModalWrapper :active,\n#ensModalWrapper :focus {\n\toutline: 0 !important;\n}\n\n/* BANNER STYLES */\ndiv.ensModalBackdrop {\n\tbackground-color: #000;\n\tbackground-color: rgba(0, 0, 0, .4);\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: none;\n\tposition: fixed; top: 0; left: 0; z-index: 9998;\n}\n#ensNotifyBanner[style*\x3d"block"] ~ .ensModalBackdrop.banner,\n#ensModalWrapper[style*\x3d"block"] ~ .ensModalBackdrop {\n\tdisplay: block;\n}\n#ensNotifyBanner,\nhtml #ensModalWrapper {\n\tbackground-color: #fff;\n\tborder: 0;\n\tbox-shadow: 0 16px 28px 0 rgba(0,0,0,0.22),0 25px 55px 0 rgba(0,0,0,0.21);\n\tborder-radius: 4px;\n\tcolor: #1f1f1f;\n\theight: auto;\n\tz-index: 9999;\n\twidth: 650px; min-width:650px; max-width: 80%;\n}\n#ensNotifyBanner {\n    max-height: 90%;\n\topacity: 1;\n\toverflow-y: auto;\n\tposition: fixed; top: 35%; bottom: auto; left: 10% !important;\n\twidth: 80%; min-width: 80%;\n}\n#ensNotifyBanner a {\n\tcolor: #1f1f1f;\n\ttext-decoration: underline;\n}\n#ensNotifyBanner \x3e div:nth-child(1) {\n\tdisplay: inline-block;\n\tfont-size: 1.6rem;\n\tline-height: 2.6rem;\n\tmargin-bottom: 10px;\n}\n#ensNotifyBanner .ensButtons {\n\tclear: none;\n\tdisplay: block;\n\tfloat: none;\n\tmargin: 0 0 0 20px;\n}\n\n#ensNotifyBanner #ensCloseBanner,\n#ensNotifyBanner #ens-priv-manage-preferences,\n#ensNotifyBanner .ens-priv-btn-secondary,\nhtml #ensModalWrapper .ensButtons .button {\n\talign-items: center;\n\tbackground: none;\n\tborder: 0;\n\tborder-radius: 0;\n\tbox-shadow: none;\n\tcolor: #fff;\n\tcursor: pointer;\n\tfont-size: 1.6rem;\n\tfont-style: normal;\n\tfont-weight: 400;\n\theight: auto;\n\tjustify-content: center;\n\tline-height: 2.6rem;\n\tmargin: 10px 0;\n\tpadding: 15px 30px;\n\ttext-align: center;\n\twidth: 100%;\n\t-webkit-transition: border-color .3s,background-color .3s ease-in-out,color .3s ease-in-out,opacity .3s ease-in-out;\n\t-o-transition: border-color .3s,background-color .3s ease-in-out,color .3s ease-in-out,opacity .3s ease-in-out;\n    transition: border-color .3s,background-color .3s ease-in-out,color .3s ease-in-out,opacity .3s ease-in-out;\n    white-space: nowrap;\n}\n#ensNotifyBanner #ensCloseBanner,\n#ensNotifyBanner #ens-priv-manage-preferences,\n#ensNotifyBanner .ens-priv-btn-secondary {\n    display: block;\n}\nhtml #ensModalWrapper .ensButtons .button {\n    display: flex;\n    flex: 1;\n    margin-left: 20px;\n    min-width: 240px; width: auto;\n}\n#ensNotifyBanner #ensCloseBanner:hover,\n#ensNotifyBanner #ens-priv-manage-preferences:hover,\n#ensNotifyBanner .ens-priv-btn-secondary:hover,\nhtml #ensModalWrapper .ensButtons .button:hover {\n\topacity: .7;\n}\n#ensNotifyBanner .ensClear {\n\tdisplay: none;\n}\n#ensNotifyBanner .ensModalLink:hover {\n\topacity: .7;\n}\n\n\n/* MODAL STYLES */\nhtml #ensModalWrapper {\n\tbackground-color: #fff;\n\tborder: 0;\n\tbox-shadow: 0 16px 28px 0 rgba(0,0,0,0.22),0 25px 55px 0 rgba(0,0,0,0.21);\n\tborder-radius: 4px;\n\theight: auto;\n\tmargin-left: -325px;\n\tpadding: 0;\n\tposition: fixed; top: 50px !important; left: 50% !important; z-index: 9999;\n\twidth: 650px; min-width:650px; max-width: 80%;\n}\nhtml #ensModalWrapper .ensModal {\n\tfont-size: 18px;\n\tcolor: #333;\n\toverflow-y: auto;\n\tpadding: 20px 40px 0;\n}\nhtml #ensModalWrapper .ensModal .ensTitle {\n\tcolor: #1f1f1f;\n\tfont-size: 18px;\n\tfont-weight: 500;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: relative; top: 0; left: 0;\n\ttext-align: center;\n\twidth: 100%;\n}\nhtml #ensModalWrapper .ensModal .icon,\nhtml #ensModalWrapper .ensModal .titleText {\n\tdisplay: inline-block; vertical-align: middle;\n}\nhtml #ensModalWrapper .ensModal .icon {\n\tmargin-right: 20px;\n\tposition: relative; top: 3px;\n}\nhtml #ensModalWrapper .consentDescription {\n\tcolor: #1f1f1f;\n\tfont-size: 14px;\n\tline-height: 1.7;\n\tmargin: 10px 0 20px;\n}\nhtml #ensModalWrapper hr {\n\tdisplay: none;\n}\n#ensModalWrapper .ensToggleRowWrapper {\n\tmax-height: 100%;\n\toverflow-y: auto;\n}\nhtml #ensModalWrapper .ensToggleRow {\n\tborder-color: #ddd;\n\tborder-style: solid;\n\tborder-width: 1px 0 0 0;\n\tmargin-bottom: 20px;\n\topacity: 1 !important;\n\tpadding-top: 15px;\n\ttext-align: left;\n}\nhtml #ensModalWrapper .ensToggleRow.hide {\n\tdisplay: none !important;\n}\nhtml #ensModalWrapper .ensToggleLabel {\n\tfont-size: 16px;\n\tfont-weight: 500;\n}\nhtml #ensModalWrapper .ensToggleRow:first-child .card {\n\tdisplay: none;\n}\n#ensModalWrapper .card {\n\tcursor: pointer;\n\toutline: none !important;\n}\nhtml #ensModalWrapper .ensModal .switch {\n\tbackground-color: #bbb;\n\tmargin-left: -1px;\n}\nhtml #ensModalWrapper .ensModal input[type\x3d\'checkbox\']:checked ~ .switch {\n\tbackground: #000 !important;\n}\n#ensModalWrapper .ensToggleRow .toggle {\n\tbox-shadow: 1px 1px 7px grey !important;\n\tdisplay: block !important;\n\theight: 25px !important;\n\twidth: 25px !important;\n\ttop: -5px !important;\n}\nhtml #ensModalWrapper .ensModal input[type\x3d\'checkbox\']:checked ~ .toggle {\n\tleft: 25px !important;\n}\nhtml #ensModalWrapper .description {\n\tcolor: #1f1f1f !important;\n\tfont-size: 13px !important;\n\tline-height: 1.7;\n\tmargin-top: 0;\n\tpadding-right: 70px !important;\n\tmax-width: 600px;\n}\nhtml #ensModalWrapper .ensToggleRow:first-child .description {\n\tpadding-right: 0 !important;\n}\n#ensModalWrapper .ensButtons {\n\tdisplay: flex;\n\tpadding: 0 40px 20px;\n}\n#ensNotifyBanner #ensCloseBanner,\nhtml #ensModalWrapper .ensButtons #ensSave {\n\tbackground-color: #000;\n\tborder: 1px solid #000;\n\tcolor: #fff;\n}\n#ensNotifyBanner #ens-priv-manage-preferences,\n#ensNotifyBanner .ens-priv-btn-secondary,\nhtml #ensModalWrapper .ensButtons .button.raised.grey {\n\tbackground-color: #fff;\n\tborder: 1px solid #1f1f1f;\n\tcolor: #1f1f1f;\n}\n#toggleRow-donottrack {\n\tdisplay: none !important;\n}\n.privacy-dnt #ensNotifyBanner[style*\x3d"block"] {\n\tdisplay: none !important;\n}\n.privacy-dnt #ensModalWrapper .card {\n\tcursor: not-allowed;\n}\n#ensModalWrapper .chevron::before,\n#ensModalWrapper .ensModal .ensTagsContent {\n\tdisplay: none !important;\n}\n#ens-accept-all-link {\n\tdisplay: block;\n\ttext-align: center;\n}\n/*body.nm-ensBanner-isVisible {\n\theight: 100% !important;\n\toverflow-y: hidden !important;\n}*/\n\n@media (min-width: 768px) {\n\t#ensNotifyBanner[style*\x3d"block"] {\n\t\tdisplay: -webkit-box !important;\n\t\tdisplay: -webkit-flex !important;\n\t\tdisplay: -ms-flexbox !important;\n\t\tdisplay: flex !important;\n\t\t-webkit-box-align: center;\n\t\t-webkit-align-items: center;\n\t\t-ms-flex-align: center;\n\t\talign-items: center;\n\t\t-webkit-box-pack: center;\n\t\t-webkit-justify-content: center;\n\t\t-ms-flex-pack: center;\n\t\tjustify-content: center;\n\t\tpadding: 24px 30px;\n\t}\n\t#ensNotifyBanner \x3e div:nth-child(1) {\n\t\tmargin-bottom: 0;\n\t\tmargin-right: 0;\n\t}\n}\n\n/* MOBILE STYLES */\n@media (max-width: 1024px) {\n\t#ensNotifyBanner {\n\t\tborder-radius: 0;\n\t\tmin-width: 100%;\n\t\tbottom: 0; top: auto; left: 0 !important;\n\t}\n}\n@media (max-width: 767px) {\n\thtml #ensModalWrapper {\n\t\tborder-bottom-left-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\t\tbox-shadow: none;\n\t\tmax-height: 100%;\n\t\tmargin-left: 0;\n\t\tmax-height: 90%;\n\t\toverflow-y: auto;\n\t\tposition: fixed; left: 0 !important; bottom: 0 !important; top: auto !important;\n\t\twidth: 100%; min-width: 100%; max-width: 100%;\n\t}\n\thtml #ensModalWrapper .ensModal {\n\t\tpadding: 20px;\n\t}\n\t#ensNotifyBanner .ensButtons,\n\t#ensModalWrapper .ensButtons {\n        display: block;\n        margin: 0;\n\t\ttext-align: center;\n\t\twidth: 100%;\n\t}\n    #ensNotifyBanner #ensCloseBanner,\n    #ensNotifyBanner #ens-priv-manage-preferences,\n\t#ensNotifyBanner .ens-priv-btn-secondary,\n\t#ensModalWrapper #ensCancel,\n\t#ensModalWrapper #ensSave {\n\t\tdisplay: block;\n\t\tflex: none;\n\t\tmargin-left: 0;\n        width: 100%;\n        white-space: initial;\n\t}\n\t#ensModalWrapper .ensButtons {\n\t\tclear: none;\n\t\tfloat: none;\n\t\tmargin: 0;\n\t\ttext-align: center;\n\t}\n\thtml #ensModalWrapper .ensButtons .button {\n\t\tmargin: 10px 10px 0;\n\t\tmin-width: 120px;\n\t}\n}';document.head.appendChild(style)})()},
3252063,[3375628],576306,[576305]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(Bootstrapper.Cookies.test("ens_privacy_test"))return Bootstrapper.Cookies.test("AUDI_ENSIGHTEN_PRIVACY_Performance")?Bootstrapper.Cookies.get("AUDI_ENSIGHTEN_PRIVACY_Performance"):"0";else return Bootstrapper.Cookies.test("AUDI_ENSIGHTEN_PRIVACY_Performance")?Bootstrapper.Cookies.get("AUDI_ENSIGHTEN_PRIVACY_Performance"):
"1"},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Ensighten Privacy Consent",collection:"Cookie",source:"Manage",priv:"false"},{id:"56313"})},56313)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;(function(){try{var apiVersion="v0.50.1";var enableInternalTrafficURLPing=false;var checkInternalTrafficURL="https://nexus.ensighten.com/audi/999_internal_traffic_filter/Bootstrap.js";var internalTrafficQueryParameter="internal_traffic_enabled";var internalTrafficFilterFetchTimeout=3E3;var internalTrafficFilterFetchOptions={method:"HEAD",mode:"no-cors"};var internalTrafficFilterLocalStorageKey=
"internal_traffic_enabled";var webAnalyticsDispatchEventName="audiWebAnalyticsEvent";(function(){if(typeof window.CustomEvent==="function")return false;function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:undefined};var evt=document.createEvent("CustomEvent");evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt}CustomEvent.prototype=window.Event.prototype;window.CustomEvent=CustomEvent})();var trying=function(f,fallbackValue){try{return f()}catch(e){return fallbackValue}};
var fetchWithTimeout=function(url,options,timeout){var fetchPromise=fetch(url,options);fetchPromise.then(function(response){if(response.status>=200&&response.status<300)throw new Error("Error "+response.status+": "+response.statusText);});var timeoutPromise=new Promise(function(x,reject){setTimeout(function(){reject(new Error("timeout"))},timeout)});return Promise.race([fetchPromise,timeoutPromise])};var isDebugMode=function(){return trying(function(){return localStorage.getItem("ens_debug")==="true"},
false)};var debug=function(){if(isDebugMode())console.debug.apply(this,Array.prototype.concat.apply(["[ANALYTICS]"],arguments))};var merge_inplace=function(target,source){for(var key in source)try{if(typeof source[key]==="object")target[key]=merge_inplace(target[key],source[key]);else target[key]=source[key]}catch(e){target[key]=source[key]}return target};var merge=function(target,source){return merge_inplace(clone(target),source)};var clone=function(obj){return JSON.parse(JSON.stringify(obj))};var cleanText=
function(str){return typeof str==="string"?str.replace(/[\u21b5|\s]+/g," ").trim():str};var fireInternalTrafficCall=function(){Bootstrapper.ensEvent.trigger("internal_traffic")};var setInternalTrafficVariable=function(){Bootstrapper.setVariable(internalTrafficFilterLocalStorageKey,true)};var checkInternalTraffic=function(){if(isDebugMode()){debug("Internal traffic detected based on debug cookie");setInternalTrafficVariable()}else if(trying(function(){return localStorage.getItem(internalTrafficFilterLocalStorageKey)===
"true"},false)){debug("Internal traffic detected based on local storage entry "+internalTrafficFilterLocalStorageKey);setInternalTrafficVariable()}else if(location.search.indexOf(internalTrafficQueryParameter+"\x3d")!=-1){debug("Internal traffic detected based on query parameter "+internalTrafficQueryParameter);setInternalTrafficVariable()}else if(enableInternalTrafficURLPing)try{fetchWithTimeout(checkInternalTrafficURL,internalTrafficFilterFetchOptions,internalTrafficFilterFetchTimeout).then(function(){debug('Internal traffic resource available \x3d\x3e "normal" user')}).catch(function(e){debug("Internal traffic resource blocked \x3d\x3e internal user (tester, developer, etc.)");
fireInternalTrafficCall()})}catch(e){debug("Internal traffic resource error \x3d\x3e internal user (tester, developer, etc.)");fireInternalTrafficCall()}};debug("Nano API "+apiVersion);var historicDataLayer=[];var preConsent=undefined;var privacyGateWayExists=undefined;var checkConsent=function(type){try{if(document.cookie.indexOf("AUDI_ENSIGHTEN_PRIVACY_"+type+"\x3d1")>-1)return true}catch(e){}if(privacyGateWayExists===undefined)return false;if(privacyGateWayExists===true)if(window.gateway&&window.gateway.consentCookies&&
typeof window.gateway.consentCookies.getCookie==="function")return window.gateway.consentCookies.getCookie(type)==="1";else return false;return true};var checkEventConsent=function(){return true};var checkConsentMultiple=function(types){return types.map(function(item){return checkConsent(item)}).reduce(function(consent,item){return consent=consent&&item},true)};var registerRule=Bootstrapper.registerRule;var tag018=undefined;var tag018id=556658;Bootstrapper.registerRule=function(rule){if(rule.deploymentId===
tag018id){debug("[Nano API] Default registration of 018 Tag prevented \x3d\x3e analytics tag chain disabled");tag018=rule;return}else registerRule(rule)};var optinStore={dataLayerReady:false,doReplace:false,optinEvent:undefined};var callEnsighten=function(evt,dataLayer){if(Bootstrapper.ensightenOptions.publishPath==="nemo"&&evt.eventInfo.eventAction==="video")return;var dataLayerKey="_audiDataLayer";window[dataLayerKey]=dataLayer;var clonedEvent=clone(evt);window[dataLayerKey].event=[clonedEvent];
if(clonedEvent.attributes){clonedEvent.attributes.label=cleanText(clonedEvent.attributes.label);clonedEvent.attributes.value=cleanText(clonedEvent.attributes.value);clonedEvent.attributes.pos=cleanText(clonedEvent.attributes.pos)}if(window[dataLayerKey].page&&window[dataLayerKey].page.pageInfo)window[dataLayerKey].page.pageInfo.pageName=cleanText(window[dataLayerKey].page.pageInfo.pageName);if(!checkEventConsent()){debug("[No Consent] \x3e ignoring event",clonedEvent);return}var action=clonedEvent.eventInfo.eventAction;
if(action==="opt-in")if(optinStore.dataLayerReady===false){debug("[DLReady] No prior page_load detected: optin event stored and aborted");optinStore.optinEvent=clonedEvent;optinStore.doReplace=true;return}if(action==="page_load"&&optinStore.doReplace===true&&optinStore.optinEvent){debug("[DLReady] Overwriting pageload with stored optin");window[dataLayerKey].event=[optinStore.optinEvent];action=optinStore.optinEvent.eventInfo.eventAction;optinStore.doReplace=false}if(action)try{var cleanTrigger="clean-"+
Bootstrapper.ensightenOptions.publishPath;debug("Trigger Ensighten action:",cleanTrigger);Bootstrapper.ensEvent.trigger(cleanTrigger)}catch(e){debug("workaround ran into an error")}action=window[dataLayerKey].event[0].eventInfo.eventAction;if(action){debug("Trigger Ensighten action:",action);Bootstrapper.ensEvent.trigger(action)}else debug("No eventAction found in event",evt);window.dispatchEvent(new CustomEvent(webAnalyticsDispatchEventName,{detail:window[dataLayerKey]}))};var handleHistoricDataLayerEvents=
function(){debug("Handle "+historicDataLayer.length+" historic data layer events");for(var i=0;i<historicDataLayer.length;i++){var item=historicDataLayer[i];var evt=item[0];var dataLayer=item[1];debug("From historic data layer:",evt,dataLayer);callEnsighten(evt,dataLayer)}};var onReadyCallbackQueue=function(){var q=[];return{add:function(callback,argsArray){q.push({cb:callback,args:argsArray})},run:function(){debug("[Nano API]: All dependencies ready. Triggering",q.length,"callbacks");q.forEach(function(e){try{e.cb.apply(undefined,
e.args)}catch(err){debug("[Nano API]: Error running callback",err)}});q.length=0}}}();onReadyCallbackQueue.add(function(){if(preConsent===true){debug("[Nano API]: Previous consent detected. Handling History");handleHistoricDataLayerEvents()}else debug("[Nano API]: No previous consent deteced. Ignoring history.")});var dependecies={ensighten:Bootstrapper.hasPageSpecificCompletion(),adobe:false};var checkDepencies=function(){var r=true;for(var key in dependecies)r=r&&dependecies[key];return r};var ensightenReadyCallback=
function(){debug("[Nano API]: Ensighten dependency ready");dependecies.ensighten=true;if(window.gateway&&window.gateway.isInitialized===true&&typeof gateway.cookieModal.isEnabledConsentModal==="function"&&gateway.cookieModal.isEnabledConsentModal())privacyGateWayExists=true;else privacyGateWayExists=false;try{checkInternalTraffic()}catch(e){debug("[WARN] check internal traffic failed",e)}preConsent=checkEventConsent();Bootstrapper.setVariable("preConsent",preConsent);if(checkDepencies())onReadyCallbackQueue.run()};
if(!dependecies.ensighten)Bootstrapper.bindPageSpecificCompletion(ensightenReadyCallback);else ensightenReadyCallback();var adobeReadyCallback=function(){var currentConsents={"Functional":checkConsent("Functional"),"Marketing":checkConsent("Marketing")};var analyticsConsent=checkConsent("Performance")||Bootstrapper.data.resolve("Manage.Personalization.consent")(currentConsents);debug("[Nano API]: Analytics dependency ready. Analytics opted in?",analyticsConsent);dependecies.adobe=true;if(analyticsConsent){debug("[Nano API] Registering 018 \x3d\x3e analytics tag chain enabled");
registerRule(tag018)}if(checkDepencies())onReadyCallbackQueue.run()};var consentBannerCloseCallback=function(optinEvent){Bootstrapper.nanoAPI.addOnReadyCallback(function(){window.digitalData=window.digitalData||{};window.digitalData.event=window.digitalData.event||[];window.digitalData.event.push(optinEvent)});var currentConsents={"Functional":checkConsent("Functional"),"Marketing":checkConsent("Marketing")};if(checkConsent("Performance")||Bootstrapper.data.resolve("Manage.Personalization.consent")(currentConsents))Bootstrapper.ensEvent.trigger("enable-analytics");
else if(checkEventConsent())adobeReadyCallback()};Bootstrapper.nanoAPI={adobeReadyCallback:adobeReadyCallback,addOnReadyCallback:onReadyCallbackQueue.add,checkConsent:checkConsent,checkEventConsent:checkEventConsent,checkConsentMultiple:checkConsentMultiple,consentBannerCloseCallback:consentBannerCloseCallback};var handleWebAnalyticsEvents=function(){try{for(var j=0;j<arguments.length;j++){var item=arguments[j];var cloned=merge(window.digitalData,item);for(var i=0;i<item.event.length;i++){var evt=
item.event[i];if(evt&&evt.eventInfo&&evt.eventInfo.eventAction==="page_load"){debug("[DLReady] dataLayer ready");optinStore.dataLayerReady=true}if(checkDepencies()){debug("Depencies ready, call trigger action directly",evt,cloned);callEnsighten(evt,cloned)}else{debug("Depencies not ready yet... push to queue",evt,cloned);historicDataLayer.push([evt,cloned])}}}}catch(e){debug("[ERROR] in handleWebAnalyticsEvents()",e)}};window.webAnalytics=window.webAnalytics||[];window.webAnalyticsEvent=window.webAnalyticsEvent||
undefined;window.webAnalytics.push=function(arg){try{debug("CUSTOM WEBANALYTICS DATA",arg);window.webAnalyticsEvent=arg;handleWebAnalyticsEvents.apply(this,arguments);return Array.prototype.push.apply(this,arguments)}catch(err){debug("CUSTOM WEBANALYTICS ERROR",err)}};window.digitalData=window.digitalData||{};window.digitalData.event=window.digitalData.event||[];window.digitalData.event.push=function(){try{handleWebAnalyticsEvents({event:arguments});return Array.prototype.push.apply(this,arguments)}catch(e){debug("[ERROR] in window.digitalData.event.push()",
e)}};var handlePreviouslyPushedEvents=function(source){var previouslyPushedEvents=source.splice(0,source.length);if(previouslyPushedEvents.length>0){debug("WARNING: Detected previously pushed events: ",previouslyPushedEvents,"Please ensure that Bootstrapper is loaded *before* the first push.");source.push.apply(source,previouslyPushedEvents)}};handlePreviouslyPushedEvents(window.webAnalytics);handlePreviouslyPushedEvents(window.digitalData.event)}catch(e){debug("[ERROR] in NanoApi",e)}})()},3451787,
538648);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var currentHost=document.location.hostname;if(currentHost==="www.progress.audi"||currentHost==="www.audibusinessinnovation.com"){var currentSite=document.location.pathname.split("/").pop();var legalSites=["legal.html","legal-notice.html","privacy-policy.html","cookie-policy.html"];for(var i=0;i<legalSites.length;i++)if(legalSites[i].indexOf(currentSite)!=-1){var css=".ensNotifyBannerWrapper { display: none; }",
head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css";if(style.styleSheet)style.styleSheet.cssText=css;else style.appendChild(document.createTextNode(css));head.appendChild(style)}}}catch(e){}var init=function(){var cookies=function(){return{"domain":function(){if(window.gateway&&gateway.consentCookies)return gateway.consentCookies.getCookieDomain();else return location.host}(),"get":function(a,c){for(var b=document.cookie.split(";"),
d=0;d<b.length;d++){var e=b[d].replace(/^\s+/,"").split("\x3d");if(e[0]===a)return c?e[1]:decodeURIComponent(e[1])}return""},"set":function(a,c,b){document.cookie=a+"\x3d"+encodeURIComponent(c)+(b?";expires\x3d"+b:"")+";path\x3d/;domain\x3d"+this.domain;return this.get(a)===c},"remove":function(a){document.cookie=a+'\x3d"";expires\x3d'+(new Date(0)).toUTCString()+";path\x3d/;domain\x3d"+this.domain;return this.get(a)===""?true:false}}}();var updateToggleRows=function(dntEnabled){Bootstrapper.bindDOMParsed(function(){var modal=
document.getElementById("ensModalWrapper"),toggleRows=document.querySelectorAll("#ensModalWrapper .ensToggleRow"),toggleLabels=document.querySelectorAll("#ensModalWrapper .ensToggleRow \x3e .ensToggleLabel .ensCheckbox");for(var i=0;i<toggleRows.length;i++){var currentToggleRow=toggleRows[i],currentToggleLabel=toggleLabels[i],id=currentToggleLabel.id.replace(/Slide/g,"").replace(/ /g,"").toLowerCase();id=id||"required";currentToggleLabel.parentNode.parentNode.parentNode.id="toggleRow-"+id;var tagsContent=
currentToggleRow.getElementsByClassName("ensTagsContent")[0];if(tagsContent){var numTagsContent=tagsContent.getElementsByClassName("tagContainer");if(numTagsContent.length===0)currentToggleRow.classList.add("hide")}}var btnContainer=document.querySelectorAll("#ensModalWrapper .ensButtons")[0];if(btnContainer)document.getElementById("ensModalWrapper").appendChild(btnContainer);if(dntEnabled){var checkboxes=document.querySelectorAll('#ensModalWrapper input[type\x3d"checkbox"]');for(var i=0;i<checkboxes.length;i++){var currentCheckbox=
checkboxes[i];currentCheckbox.checked=false;currentCheckbox.setAttribute("disabled","disabled")}var dntMessage=document.querySelectorAll("#toggleRow-donottrack .description")[0]?document.querySelectorAll("#toggleRow-donottrack .description")[0].innerHTML:"";if(dntMessage){var referenceNode=document.querySelectorAll("#ensModalWrapper .ensTitle")[0],newEl=document.createElement("p");newEl.classList.add("consentDescription");newEl.innerHTML="\x3cstrong\x3e"+dntMessage+"\x3c/strong\x3e";referenceNode.parentNode.insertBefore(newEl,
referenceNode.nextSibling)}}else{var target=modal.getElementsByClassName("ensTitle")[0],titleText=document.createElement("span"),icon=document.createElement("i");titleText.classList.add("ensTitleText");titleText.innerHTML=target.innerHTML;target.innerHTML="";icon.classList.add("icon");icon.innerHTML='\x3csvg id\x3d"logo" viewBox\x3d"0 0 90 32" width\x3d"80" height\x3d"80"\x3e\x3cpath d\x3d"M15.401 2C7.84 2.25 1.876 8.475 2.002 15.986c.126 7.51 6.295 13.534 13.862 13.534 7.566 0 13.735-6.023 13.861-13.534C29.851 8.475 23.888 2.25 16.325 2h-.924zm19.41 0c-7.563.25-13.526 6.475-13.4 13.986.126 7.51 6.295 13.534 13.862 13.534 7.566 0 13.735-6.023 13.861-13.534C49.26 8.475 43.297 2.25 35.734 2h-.924zm19.408 0c-7.562.25-13.525 6.475-13.4 13.986.127 7.51 6.296 13.534 13.863 13.534 7.566 0 13.735-6.023 13.861-13.534C68.67 8.475 62.706 2.25 55.143 2h-.924zm19.41 0c-7.563.25-13.526 6.475-13.4 13.986.126 7.51 6.295 13.534 13.862 13.534 7.566 0 13.735-6.023 13.861-13.534C88.078 8.475 82.115 2.25 74.552 2h-.924z" stroke\x3d"#000" stroke-width\x3d"3.584" fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3c/path\x3e\x3c/svg\x3e';
target.appendChild(icon);target.appendChild(titleText);var cancelBtn=modal.getElementsByClassName("button")[0];cancelBtn.removeAttribute("onclick");var dntCheckbox=document.querySelectorAll('#ensModalWrapper .ensCheckbox[name\x3d"Do Not TrackSlide"]')[0];if(dntCheckbox)dntCheckbox.checked=true;var openModalLink=document.getElementsByClassName("ensModalLink"),onClickEv=function(e){e.preventDefault();document.getElementById("ensNotifyBanner").style.display="none";gateway.openModal()};for(var i=0;i<
openModalLink.length;i++){var currentOpenModalLink=openModalLink[i],newModalLink=document.createElement("a");newModalLink.className="ensModalLink";newModalLink.innerHTML=currentOpenModalLink.innerHTML;newModalLink.onclick=onClickEv;currentOpenModalLink.parentNode.insertBefore(newModalLink,currentOpenModalLink);currentOpenModalLink.parentNode.removeChild(currentOpenModalLink)}}var bg=document.createElement("div");bg.classList.add("ensModalBackdrop");document.body.appendChild(bg);toggleWrapperHeight()})};
var activeEnvironment=Bootstrapper.gateway.getActiveEnvironment();if(activeEnvironment)document.getElementsByTagName("html")[0].classList.add("privacy-"+activeEnvironment.languageCode);cookies.remove("AUDI_ENSIGHTEN_PRIVACY_DO_NOT_TRACK");var dntEnabled=navigator.doNotTrack==="1"?true:false,dntCookie="Do Not Track",consentCookies=gateway.consentCookies.getCookieTypes(),cookieObj={};var environment=gateway.environmentManager.getActiveEnvironment();if(environment&&environment.whitelist)for(var i in environment.whitelist)if(environment.whitelist.hasOwnProperty(i)&&
i!=="Do Not Track"&&environment.whitelist[i].length===0)consentCookies.splice(consentCookies.indexOf(i),1);if(dntEnabled){Bootstrapper.bindDOMParsed(function(){document.getElementsByTagName("body")[0].classList.add("privacy-dnt")});for(var i=0;i<consentCookies.length;i++){var cookieName=consentCookies[i];cookieObj[cookieName]="0"}Bootstrapper.gateway.setCookies(cookieObj);Bootstrapper.gateway.updatePreferences()}else if(Bootstrapper.gateway.getCookie(dntCookie)==="0"&&!dntEnabled){for(var i=0;i<consentCookies.length;i++){var cookieName=
consentCookies[i];cookieObj[cookieName]=""}cookieObj.BANNER_VIEWED="";cookieObj.MODAL_VIEWED="";Bootstrapper.gateway.setCookies(cookieObj);Bootstrapper.gateway.updatePreferences()}var getOptIns=function(){var optIns=[];for(var i=0;i<consentCookies.length;i++){var currentCookieType=consentCookies[i],currentCookieVal=gateway.consentCookies.getCookie(currentCookieType);if(currentCookieVal==="1")optIns.push(currentCookieType)}return optIns};var isAnalyticsEnabled=function(){var optIns=getOptIns();if(~optIns.indexOf("Performance"))return true;
return false};var tryToEnableAnalytics=function(e){setTimeout(function(){if(isAnalyticsEnabled()){Bootstrapper.nanoAPI=Bootstrapper.nanoAPI||{};Bootstrapper.nanoAPI.addOnReadyCallback=Bootstrapper.nanoAPI.addOnReadyCallback||function(){};Bootstrapper.nanoAPI.addOnReadyCallback(function(){window.digitalData=window.digitalData||{};digitalData.event=digitalData.event||[];digitalData.event.push({"eventInfo":{"eventAction":"opt-in","eventName":"generic"},"attributes":{"componentName":"","label":"","currentURL":location.href,
"targetURL":"","clickID":"","elementName":"","value":"click on accept ("+(e.textContent||e.innerText)+")","pos":""}})});Bootstrapper.ensEvent.trigger("enable-analytics")}},250)};var removeCustomCookies=function(){if(!isAnalyticsEnabled()){var cookiesToRemove=["s_cc","s_ecid","s_fid","s_vi","_ens_perf","_ens_prev","_ens_sid","AMCV_097B467352782F130A490D45%40AdobeOrg","AMCVS_097B467352782F130A490D45%40AdobeOrg"],prefixCookiesToRemove=["perf","sid","prev","lc","vn"],prefix=Bootstrapper.analyticsStorage&&
Bootstrapper.analyticsStorage.getPrefix?Bootstrapper.analyticsStorage.getPrefix():"";for(var i=0;i<prefixCookiesToRemove.length;i++)cookiesToRemove.push(prefix+prefixCookiesToRemove[i]);for(var j=0;j<cookiesToRemove.length;j++)cookies.remove(cookiesToRemove[j])}};var toggleBannerClass=function(showHide){Bootstrapper.bindDOMParsed(function(){var body=document.getElementsByTagName("body")[0],className="nm-ensBanner-isVisible";if(showHide)body.classList.add(className);else body.classList.remove(className)})};
var toggleWrapperHeight=function(){var modal=document.querySelectorAll("#ensModalWrapper .ensModal")[0],browserHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,browserWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,topAmt=50,btnAmt=40,btnHeight=document.querySelectorAll("#ensModalWrapper .ensButtons")[0].offsetHeight,toggleWrapperHeight=browserHeight-topAmt-btnAmt-btnHeight;if(browserWidth<=650)toggleWrapperHeight-=
24;modal.style.maxHeight=toggleWrapperHeight+"px"};Bootstrapper.bindDOMParsed(function(){if(ensClientConfig.featureToggles.enablePrivacyNotice)var waitForBanner=setInterval(function(){var banner=document.getElementById("ensNotifyBanner");if(banner){if(!dntEnabled){var bannerOverlay=document.createElement("div");bannerOverlay.className="ensModalBackdrop banner";banner.parentNode.appendChild(bannerOverlay);banner.parentNode.classList.add("ensNotifyBannerWrapper");var btn2=document.getElementById("ens-priv-manage-preferences");
if(btn2){btn2.className="ens-priv-btn-secondary";document.querySelectorAll("#ensNotifyBanner .ensButtons")[0].appendChild(btn2);btn2.onclick=function(){var banner=document.getElementById("ensNotifyBanner");banner.style.display="none";Bootstrapper.gateway.openModal()}}var btnOptOut=document.getElementById("ens-priv-opt-out");if(btnOptOut){btnOptOut.className="ens-priv-btn-secondary";document.querySelectorAll("#ensNotifyBanner .ensButtons")[0].appendChild(btnOptOut)}if(gateway.consentCookies.getCookie("BANNER_VIEWED")!==
"1")toggleBannerClass(true)}clearInterval(waitForBanner)}},100);if(ensClientConfig.featureToggles.enableConsentModal)var waitForModal=setInterval(function(){var modal=document.getElementById("ensModalWrapper");if(modal){updateToggleRows(dntEnabled);window.onresize=function(){toggleWrapperHeight()};clearInterval(waitForModal)}},250);var openBanner=gateway.banner.openEnsBanner,closeBanner=gateway.banner.closeEnsBanner,openModal=gateway.cookieModal.openModal,closeModal=gateway.cookieModal.closeModal;
gateway.banner.openEnsBanner=function(){toggleBannerClass(true);openBanner.apply(this,arguments);document.getElementById("ensNotifyBanner").scrollTo(0,0)};gateway.banner.closeEnsBanner=function(){toggleBannerClass(false);closeBanner.apply(this,arguments)};gateway.cookieModal.openModal=function(){toggleBannerClass(true);openModal.apply(this,arguments);document.querySelectorAll("#ensModalWrapper .ensModal")[0].scrollTo(0,0);setTimeout(function(){toggleWrapperHeight()},250)};gateway.cookieModal.closeModal=
function(){toggleBannerClass(false);closeModal.apply(this,arguments)};var blockedRequests=[],handleRequest=function(request){switch(request.type){case "script":Bootstrapper.insertScript(request.destination);break;case "image":case "img":(new Image).src=request.destination;break;case "xhr":var xhr=new XMLHttpRequest,requestHeaders={};xhr.open(request.requestType,request.destination);for(var key in requestHeaders)if(requestHeaders.hasOwnProperty(key))xhr.setRequestHeader(key,requestHeaders[key]);xhr.send();
break;case "fetch":fetch(request.destination)}},requestInBlockedQueue=function(request){for(var i=0;i<blockedRequests.length;i++){var currentBlockedRequest=blockedRequests[i];if(currentBlockedRequest.destination===request.destination&&currentBlockedRequest.type===request.type)return i}return false},executeBlockedRequests=function(){var completedRequests=gateway.history.complete;for(var i in completedRequests)if(completedRequests.hasOwnProperty(i)&&completedRequests[i]&&completedRequests[i].request){var currentRequest=
completedRequests[i].request,requestIsInBlockedQueue=requestInBlockedQueue(currentRequest);if(currentRequest.status.toLowerCase()==="blocked"&&requestIsInBlockedQueue===false)blockedRequests.push({"destination":currentRequest.destination,"type":currentRequest.type});if(currentRequest.status.toLowerCase()!=="blocked"&&requestIsInBlockedQueue!==false)blockedRequests.splice(requestIsInBlockedQueue,1)}for(var i=0;i<blockedRequests.length;i++)handleRequest(blockedRequests[i])};var updatePreferences=gateway.updatePreferences;
Bootstrapper.gateway.updatePreferences=function(){updatePreferences.apply(this,arguments);setTimeout(function(){executeBlockedRequests()},250)};gateway.updatePreferences=function(){updatePreferences.apply(this,arguments);setTimeout(function(){executeBlockedRequests()},250)}});var optInOut=function(value,closeBanner,el){closeBanner=closeBanner||false;var cookieObj={};for(var i=0;i<consentCookies.length;i++){var cookieName=consentCookies[i],cookieValue=cookieName===dntCookie?"1":value;cookieObj[cookieName]=
cookieValue}if(closeBanner)Bootstrapper.gateway.closeBanner();Bootstrapper.gateway.setCookies(cookieObj);Bootstrapper.gateway.updatePreferences();toggleBannerClass(false);tryToEnableAnalytics(el)};Bootstrapper.on("click","#ensNotifyBanner #ensCloseBanner",function(){optInOut("1",false,this)});Bootstrapper.on("click","#ens-priv-opt-out",function(){optInOut("0",true,this)});Bootstrapper.bindDOMLoaded(function(){removeCustomCookies()});Bootstrapper.on("click","#ensSave",function(){setTimeout(function(){removeCustomCookies();
Bootstrapper.gateway.closeBanner()},250)});Bootstrapper.on("mouseup","#ensSave",function(){toggleBannerClass(false);tryToEnableAnalytics(this);Bootstrapper.gateway.updatePreferences()});Bootstrapper.on("mouseup","#ensCancel",function(){if(!dntEnabled){if(Bootstrapper.gateway.getCookie("BANNER_VIEWED")!=="1")Bootstrapper.gateway.openBanner();for(var i=0;i<consentCookies.length;i++){var currentCookieType=consentCookies[i],cookieValue=Bootstrapper.gateway.getCookie(currentCookieType),checkbox=document.querySelectorAll('#ensModalWrapper input[name\x3d"'+
currentCookieType+"Slide")[0];if(checkbox)checkbox.checked=cookieValue==="1"?true:false}}})};var waitForGateway=setInterval(function(){if(window.gateway){if(gateway.isInitialized&&ensClientConfig.featureToggles.enableConsentModal)init();clearInterval(waitForGateway)}},100)},3434527,576309);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;try{var isFirstPage=Bootstrapper.analyticsStorage.getPrefixedCookie("sid")==="";var bounceInfo={isFirstPage:isFirstPage,preConsent:Bootstrapper.nanoAPI.checkConsent("Performance"),timeAtLoad:(new Date).getTime()};Bootstrapper.notify("Bounce Evaluation:",bounceInfo);Bootstrapper.setVariable("bounceInfo",bounceInfo)}catch(e){Bootstrapper.notify("006 bounce timer check error: "+
e)}},3300153,[3451528,3451787],589384,[538643,538648]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.Cookies=function(){return{domain:""||location.hostname,get:function(a,c){for(var b=document.cookie.split(";"),d=0;d<b.length;d++){var e=b[d].replace(/^\s+/,"").split("\x3d");if(e[0]==a)return c?e[1]:decodeURIComponent(e[1])}return""},set:function(a,c,b){document.cookie=a+"\x3d"+encodeURIComponent(c)+(b?";expires\x3d"+b:"")+";path\x3d/;domain\x3d"+Bootstrapper.Cookies.domain+
(/https:/.test(location.protocol)===true?";secure":";");return Bootstrapper.Cookies.get(a)==c},test:function(a){return this.get(a)?!0:!1}}}();var debugKey="ens_debug";Bootstrapper.setDebug=function(isDebug){localStorage.setItem(debugKey,isDebug.toString())};Bootstrapper.isDebug=function(){return localStorage.getItem(debugKey)==="true"};Bootstrapper.notify=function(){};try{if(window.localStorage&&Bootstrapper.isDebug())if(window.console&&console.debug)Bootstrapper.notify=Function.prototype.bind.apply(console.debug,
[console,"[ANALYTICS] -"])}catch(e){if(window.console&&console.log)console.log("[ANALYTICS] - "+e)}Bootstrapper.notify("Bootstrapper Init",Bootstrapper.ensightenOptions);Bootstrapper.analyticsError=function(){var errorList=[];var delim="|";var self={report:function(e,identifier){identifier=identifier||"none";errorList.push(identifier);try{e=e||{};e.fileName=[Bootstrapper.ensightenOptions.publishPath||"unknown_publish_path",Bootstrapper.ensightenOptions.nexus||"unknown_nexus"].join(delim);e.message=
[identifier,e.name||"none",e.message||"none",e.fileName].join(delim);Bootstrapper.reportException(e);Bootstrapper.notify("ERROR: ",e.message,"\nBugList:",errorList)}catch(internalError){Bootstrapper.notify("exception handling internal error: ",e,"\nencountered:",internalError,"\nBugList:",errorList)}},buildErrorProp:function(){var s=errorList.join("|");errorList.length=0;return s}};return self}();Bootstrapper.analyticsStorage={getPrefix:function(){return"_ens_"},getDomain:function(){try{var hostName=
document.location.hostname;var domain=hostName;if(hostName!==null){var parts=hostName.split(".").reverse();if(parts!==null&&parts.length>1){domain=parts[1]+"."+parts[0];if(hostName.toLowerCase().indexOf(".co.")>-1||hostName.toLowerCase().indexOf(".com.")>-1&&parts.length>2)domain=parts[2]+"."+domain}}domain="."+domain;return domain}catch(e){Bootstrapper.analyticsError.report(e,"000-getDomain")}},setCookie:function(name,value,expire){try{var topLevelDomain=this.getDomain();var date=new Date;date.setTime(date.getTime()+
expire);var expires="; expires\x3d"+date.toGMTString();var value64=Bootstrapper.analyticsStorage.Base64.encode(value);document.cookie=name+"\x3d"+value64+expires+";domain\x3d"+topLevelDomain+"; path\x3d/"}catch(e){Bootstrapper.analyticsError.report(e,"000-setCookie")}},setPrefixedCookie:function(name,value,expire){try{var prefix=this.getPrefix();this.setCookie(prefix+name,value,expire)}catch(e){Bootstrapper.analyticsError.report(e,"000-setPrefixedCookie")}},getCookie:function(name){try{var b=document.cookie.match("(^|;)\\s*"+
name+"\\s*\x3d\\s*([^;]+)");return b?Bootstrapper.analyticsStorage.Base64.decode(b.pop()):""}catch(e){Bootstrapper.analyticsError.report(e,"000-getCookie")}},getPrefixedCookie:function(name){try{var prefix=this.getPrefix();return this.getCookie(prefix+name)}catch(e){Bootstrapper.analyticsError.report(e,"000-getPrefixedCookie")}},removeCookie:function(name){try{var topLevelDomain=this.getDomain();document.cookie=name+"\x3d;expires\x3dThu, 01 Jan 1970 00:00:01 GMT;domain\x3d"+topLevelDomain+" ;path\x3d/"}catch(e){Bootstrapper.analyticsError.report(e,
"000-removeCookie")}},removePrefixedCookie:function(name){try{var prefix=this.getPrefix();this.removeCookie(prefix+name)}catch(e){Bootstrapper.analyticsError.report(e,"000-removePrefixedCookie")}},extendCookie:function(name,expire){try{var value=this.getCookie(name);this.setCookie(name,value,expire)}catch(e){Bootstrapper.analyticsError.report(e,"000-extendCookie")}},extendPrefixedCookie:function(name,expire){try{var value=this.getPrefixedCookie(name);this.setPrefixedCookie(name,value,expire)}catch(e){Bootstrapper.analyticsError.report(e,
"000-extendPrefixedCookie")}},setSessionItem:function(name,value){var prefix=this.getPrefix();try{sessionStorage.setItem(prefix+name,value)}catch(e){this.setCookie(prefix+name,value,18E5)}},getSessionItem:function(name){var prefix=this.getPrefix();try{return sessionStorage.getItem(prefix+name)}catch(e){return this.getCookie(prefix+name)}},removeSessionItem:function(name){var prefix=this.getPrefix();try{sessionStorage.removeItem(prefix+name);this.removeCookie(prefix+name)}catch(e){Bootstrapper.analyticsError.report(e,
"000-removeSessionItem")}},setVisitorItem:function(name,value){var prefix=this.getPrefix();try{localStorage.setItem(prefix+name,value)}catch(e){this.setCookie(prefix+name,value,31536E6)}},getVisitorItem:function(name){var prefix=this.getPrefix();try{return localStorage.getItem(prefix+name)}catch(e){return this.getCookie(prefix+name)}},removeVisitorItem:function(name){var prefix=this.getPrefix();try{localStorage.removeItem(prefix+name);this.removeCookie(prefix+name)}catch(e){Bootstrapper.analyticsError.report(e,
"000-removeVisitorItem")}}};Bootstrapper.analyticsStorage.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(input){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=Bootstrapper.analyticsStorage.Base64._utf8_encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=(chr1&3)<<4|chr2>>4;enc3=(chr2&15)<<2|chr3>>6;enc4=chr3&63;if(isNaN(chr2))enc3=enc4=64;else if(isNaN(chr3))enc4=
64;output=output+this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4)}return output},decode:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/=]/g,"");while(i<input.length){enc1=this._keyStr.indexOf(input.charAt(i++));enc2=this._keyStr.indexOf(input.charAt(i++));enc3=this._keyStr.indexOf(input.charAt(i++));enc4=this._keyStr.indexOf(input.charAt(i++));chr1=enc1<<2|enc2>>4;chr2=(enc2&
15)<<4|enc3>>2;chr3=(enc3&3)<<6|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64)output=output+String.fromCharCode(chr2);if(enc4!=64)output=output+String.fromCharCode(chr3)}output=Bootstrapper.analyticsStorage.Base64._utf8_decode(output);return output},_utf8_encode:function(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128)utftext+=String.fromCharCode(c);else if(c>127&&c<2048){utftext+=String.fromCharCode(c>>6|192);
utftext+=String.fromCharCode(c&63|128)}else{utftext+=String.fromCharCode(c>>12|224);utftext+=String.fromCharCode(c>>6&63|128);utftext+=String.fromCharCode(c&63|128)}}return utftext},_utf8_decode:function(utftext){var string="";var i=0;var c=c1=c2=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++}else if(c>191&&c<224){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode((c&31)<<6|c2&63);i+=2}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=
String.fromCharCode((c&15)<<12|(c2&63)<<6|c3&63);i+=3}}return string}};Bootstrapper.analyticsHelper={regex:{mail:new RegExp(/([a-zA-Z0-9_\-\.]+)(@|%40)([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})(\.[a-zA-Z]{2,5})?/g),phone:new RegExp(/(?!.+\s+\([0-9]{1,5}\)$)(\+[0-9]{1,3})?[0-9\(\)\s\-]{6,16}[0-9]/g),phoneOnly:new RegExp(/^(\+[0-9]{1,3})?[0-9\(\)\s\-]{6,16}[0-9]$/),localFile:new RegExp(/^(\/[A-Za-z]:\/|file:\/\/\/)/)},cleanUrlString:function(url){try{url=url.replace(/(https?:\/\/)?/i,"");if(url.indexOf("?")==
-1)return url;else if(url.indexOf("#")==-1)return url.split("?")[0];else return url.split("?")[0]+"#"+url.split("?")[1].split("#")[1]}catch(e){Bootstrapper.analyticsError.report(e,"000-cleanUrlString")}},cleanText:function(str){return typeof str==="string"?str.replace(/[\u21b5|\s]+/g," ").trim():str},getPrevValue:function(){try{var sessionPrev=Bootstrapper.analyticsStorage.getSessionItem("prev");var cookiePrev=Bootstrapper.analyticsStorage.getPrefixedCookie("prev");if(sessionPrev!==null&&sessionPrev!==
"")return JSON.parse(sessionPrev);else if(cookiePrev!==null&&cookiePrev!=="")return JSON.parse(cookiePrev);return""}catch(e){Bootstrapper.analyticsError.report(e,"000-getPrevValue");return""}},getNavigationEvent:function(){var navType=0;try{navType=window.performance.navigation.type}catch(e){try{var map={navigate:0,reload:1,back_forward:2,prerender:255};var key=performance.getEntriesByType("navigation")[0].type;if(map[key]!==undefined)navType=map[key]}catch(e){}}try{var pageHasPageViewRequest=Bootstrapper.getVariable("pageHasPageViewRequest");
var jsvariable=Bootstrapper.getVariable("lc")||"";var ItemSession=Bootstrapper.analyticsStorage.getSessionItem("lc")||"";var ItemCookie=Bootstrapper.analyticsStorage.getPrefixedCookie("lc")||"";if((navType===1||navType===2)&&pageHasPageViewRequest!==true)return navType===1?"Reload":"Browser Back/Forward";else{if(Bootstrapper.data.resolve("Manage.Event.eventAction")!=="opt-in")if(jsvariable)return jsvariable;else if(ItemSession)return JSON.parse(ItemSession);else if(ItemCookie)return JSON.parse(ItemCookie);
if(pageHasPageViewRequest!==true)if(document.referrer=="")return"Direct";else if(Bootstrapper.analyticsHelper.getSubdomainOfString(document.referrer)!==Bootstrapper.analyticsHelper.getSubdomainOfString(window.location.href))return"External Referrer";else return"Internal Referrer";else return"Internal Referrer"}}catch(e){return""}},getSubdomainOfString:function(url){try{url=url.replace(/(https?:\/\/)?(www.)?/i,"");if(url.indexOf(".")==-1)return"";url=url.split("?")[0];url=url.split("#")[0];if(url.indexOf("/")!==
-1)return url.split("/")[0];return url}catch(e){Bootstrapper.analyticsError.report(e,"000-getSubdomainOfString")}},anonymizeURL:function(url){var queryParameters=["username","mail","email","birthday","userName","validationCode","id","phone","tel","sex","telephone","address","firstname","name","location","gender","vin","fin","code"];try{trimmedUrl=url.toLowerCase().trim();if(trimmedUrl.indexOf("callto:")==0)return"callto:anonymized";if(trimmedUrl.indexOf("tel:")==0)return"tel:anonymized";if(trimmedUrl.match(Bootstrapper.analyticsHelper.regex.phoneOnly))return"tel:anonymized";
if(trimmedUrl.indexOf("mailto:")==0)return"mailto:anonymized";if(Bootstrapper.analyticsHelper.regex.localFile.test(trimmedUrl))return"file:anonymized";var params=url||"";params=params.split(/(\/|&|\?|#|%2F|%26|%3F|%23)(?=.*)/);var regex=Bootstrapper.analyticsHelper.regex.mail;for(var i=0;i<params.length;i++)if(params[i].length>2){for(var j=0;j<queryParameters.length;j++)if(params[i].indexOf(queryParameters[j]+"\x3d")==0)params[i]=params[i].substr(0,params[i].indexOf("\x3d")+1)+"anonymized";params[i]=
params[i].match(regex)?"mail:anonymized":params[i]}var cleanedURL=params.join("");return cleanedURL}catch(e){Bootstrapper.analyticsError.report(e,"000-anonymizeURL")}},anonymizeString:function(string){try{var mailRegEx=Bootstrapper.analyticsHelper.regex.mail;string=string.replace(mailRegEx,"mail:anonymized");var phoneRegEx=Bootstrapper.analyticsHelper.regex.phone;string=string.replace(phoneRegEx,"phone:anonymized");return string}catch(e){Bootstrapper.analyticsError.report(e,"000-anonymizeString")}},
getHierarchy:function(hierarchy){try{var maxHierarchy=4;var breadcrumbs=undefined;if(typeof hierarchy==="string"){if(hierarchy.indexOf("/")===0)hierarchy=hierarchy.substring(1,hierarchy.length);breadcrumbs=hierarchy.replace(".html","").split("/")}else if(Array.isArray(hierarchy))breadcrumbs=hierarchy.slice();else return"INVALID HIERARCHY TYPE - "+typeof hierarchy;if(breadcrumbs.length>maxHierarchy)breadcrumbs.length=maxHierarchy;for(var i=0,l=breadcrumbs.length;i<l;i++)if(breadcrumbs[i]===""||breadcrumbs[i]===
"/"){breadcrumbs.length=i;break}else if(typeof breadcrumbs[i]!=="string")breadcrumbs[i]="ERROR:"+typeof breadcrumbs[i];var result=[],previous="";for(var i=0,l=breadcrumbs.length;i<l;i++){var combined=previous+breadcrumbs[i];result.push(combined);previous=combined+"/"}breadcrumbs=result;if(breadcrumbs.length===0)breadcrumbs.push("homepage");for(var i=breadcrumbs.length;i<maxHierarchy;i++)breadcrumbs.push("no level");return breadcrumbs.join("|")}catch(e){Bootstrapper.analyticsError.report(e,"000-getHierarchy");
return"HIERARCHY ERROR"}},isFeatureAppEvent:function(){try{var attr={};if(window._audiDataLayer&&window._audiDataLayer.event[0]&&window._audiDataLayer.event[0].attributes)attr=window._audiDataLayer.event[0].attributes;else return false;if(attr.featureAppId!==undefined||attr.featureAppID!==undefined)return true;if(attr.relatedComponent&&(attr.relatedComponent.featureAppId!==undefined||attr.relatedComponent.featureAppID!==undefined))return true;return false}catch(e){Bootstrapper.analyticsError.report(e,
"000-isFeatureApp");return false}},getPreviousURL:function(){try{var navigationElement=Bootstrapper.analyticsHelper.getNavigationEvent();var dlReferrer=window._audiDataLayer&&window._audiDataLayer.page&&window._audiDataLayer.page.pageInfo?window._audiDataLayer.page.pageInfo.referringURL:"";if(typeof navigationElement=="string")var navEvent=navigationElement;else if(typeof navigationElement=="object")var navEvent=navigationElement.eventInfo.eventAction;else var navEvent="no eventAction available";
var prevValue=Bootstrapper.analyticsHelper.getPrevValue();var previousURL=prevValue.pageURL?prevValue.pageURL:"no referrer available ("+navEvent+")";if(navEvent==="External Referrer")return dlReferrer||"";else if(navEvent==="Reload")return Bootstrapper.data.resolve("Manage.Page.destinationURL");else if(navEvent==="Browser Back/Forward"&&Bootstrapper.data.resolve("Manage.Page.destinationURL")===previousURL)return"no referrer available ("+navEvent+")";else if(Bootstrapper.getVariable("pageHasPageViewRequest")!==
true&&navEvent==="Internal Referrer")return dlReferrer||"";else if(prevValue!=="")return previousURL;else return"no referrer available ("+navEvent+")"}catch(e){Bootstrapper.analyticsError.report(e,"000-getPreviousURL");return"no referrer available"}},getInvalidDataElements:function(){try{var invalid_entries=[];function isStringButNotEmpty(s){return typeof s==="string"&&s!==""}if(Bootstrapper.getVariable("pageHasPageViewRequest")&&Bootstrapper.data.resolve("Manage.Event.eventAction")==="page_load")invalid_entries.push("mutliplePageLoads");
var applicationName=Bootstrapper.data.resolve("Manage.Page.applicationName");if(!isStringButNotEmpty(applicationName))invalid_entries.push("applicationName");var language=Bootstrapper.data.resolve("Manage.Page.language");if(!(isStringButNotEmpty(language)&&/^[a-z]{2}$/.test(language)))invalid_entries.push("language");var market=Bootstrapper.data.resolve("Manage.Page.market");if(!(isStringButNotEmpty(market)&&/^([A-Z]{2}|AOLA|COM)(-[A-Z]{2})?$/.test(market)))invalid_entries.push("market");if(invalid_entries.length===
0)return"";else{var r=invalid_entries.join("|");Bootstrapper.notify("Found",invalid_entries.length,"invalid DataElements:",r);return r}}catch(e){Bootstrapper.analyticsError.report(e,"000-getInvalidDataElements");return"function error"}},getQueryParam:function(key,checkHash){try{var query=Bootstrapper.data.resolve("Manage.URL.URL parameter").replace("?","\x26").split("\x26"+key+"\x3d").pop().split("\x26").shift();if(query)return query;if(checkHash===true&&Bootstrapper.data.resolve("Manage.URL.URL anchors")!==
""){var hash=Bootstrapper.data.resolve("Manage.URL.URL anchors").replace("?","\x26").split("\x26"+key+"\x3d").pop().split("\x26").shift();if(hash)return hash}return""}catch(e){Bootstrapper.analyticsError.report(e,"000-getQueryParam");return""}},getBlockedGatewayRequests:function(){if(window.gateway&&window.gateway.history&&window.gateway.history.complete)for(var k in gateway.history.complete){var e=gateway.history.complete[k];if(e.request.status==="blocked")Bootstrapper.notify("Gateway Request Status",
e.request.status,e.request,e.nodeRef)}else Bootstrapper.notify("no gateway or no completed requests")},executeTracking:function(pageOrLink){try{if(window.__s)window.__s.clearVars();if(Bootstrapper.AF){if(pageOrLink==="page"){Bootstrapper.AF.push(["call","SiteCatalyst","execPageView"]);Bootstrapper.AF.push(["call","SiteCatalyst","clearVariables"]);Bootstrapper.AF.push(["call","SiteCatalyst","storeVariables"]);Bootstrapper.AF.push(["call","__s","execPageView"]);Bootstrapper.AF.push(["call","__s","storeVariables",
["eVar5","eVar37","eVar89","pageURL"]]);Bootstrapper.AF.push(["call","__s","clearVariables"])}else if(pageOrLink==="view_change"){Bootstrapper.AF.push(["call","SiteCatalyst","execLinkTracking"]);Bootstrapper.AF.push(["call","SiteCatalyst","clearVariables"]);Bootstrapper.AF.push(["call","SiteCatalyst","storeVariables"]);Bootstrapper.AF.push(["call","__s","execLinkTracking",Bootstrapper.data.resolve("Manage.Event.eventAction")]);Bootstrapper.AF.push(["call","__s","storeVariables",["eVar5","eVar37",
"eVar89","pageURL"]]);Bootstrapper.AF.push(["call","__s","clearVariables"]);Bootstrapper.analyticsStorage.extendCookie("_ens_prev")}else{Bootstrapper.AF.push(["call","SiteCatalyst","execLinkTracking"]);Bootstrapper.AF.push(["call","SiteCatalyst","clearVariables"]);Bootstrapper.AF.push(["call","SiteCatalyst","storeVariables"]);Bootstrapper.AF.push(["call","__s","execLinkTracking",Bootstrapper.data.resolve("Manage.Event.eventAction")]);Bootstrapper.AF.push(["call","__s","clearVariables"]);Bootstrapper.analyticsStorage.extendCookie("_ens_prev")}Bootstrapper.analyticsStorage.removeSessionItem("lc");
Bootstrapper.analyticsStorage.removePrefixedCookie("lc");Bootstrapper.analyticsHelper.featureAppTracking.clearList();Bootstrapper.setVariable("lc","");if(window.__s)window.__s.clearVars()}}catch(e){Bootstrapper.analyticsError.report(e,"000-executeTracking")}},hashCode:function(value,length){var str=value;var hash=0;if(str.length==0)return hash;for(i=0;i<str.length;i++){char=str.charCodeAt(i);hash=(hash<<8)-hash+char;hash=hash&hash}hash=Math.abs(hash).toString();hash_str="";for(i=0;i<hash.length;i++)hash_str=
hash_str+String.fromCharCode(parseInt(hash[i])+97);return hash_str.slice(0,length)}};Bootstrapper.IMQR=function(dataLayerString){var q=[];var awake=false;var process_lock=false;function args_to_array(){var args=new Array(arguments.length);for(var i=0,l=args.length;i<l;i++)args[i]=arguments[i];return args}function format(msg){msg.event.eventInfo.iframeID=msg.iframeID;return msg}function validate_msg(msg){var r=msg.receiver==="IMQR"&&msg.event&&msg.event.attributes&&msg.event.eventInfo&&msg.iframeID;
if(!r&&msg!=="awaken")Bootstrapper.notify("[IMQR] invalid msg: ",msg);return r}q.push=function(){var args=args_to_array.apply(this,arguments);var valid_args=args.filter(validate_msg).map(format);if(valid_args.length>0)if(!process_lock){Array.prototype.push.apply(this,valid_args);if(awake)process();else Bootstrapper.notify("[IMQR] queuing",valid_args)}else{Bootstrapper.notify("[IMQR] process lock prevented catastrophic event loop on push",arguments);return}if(!awake&&args.indexOf("awaken")>=0){Bootstrapper.notify("[IMQR] awakened");
awake=true;process()}};function process(){if(process_lock){Bootstrapper.notify("[IMQR] process lock prevented catastrophic event loop on process",[q]);return}else process_lock=true;try{var dl=window[dataLayerString];q.forEach(function(msg){if(validate_msg(msg)){Bootstrapper.notify("[IMQR] pushed:",msg);if(msg.iframe)dl.iframe=msg.iframe;dl.event.push(msg.event)}else if(msg==="awaken")Bootstrapper.notify("[IMQR] ignored duplicate awaken");else Bootstrapper.notify("[IMQR] processing invalid message: ",
msg)});q.length=0}catch(e){Bootstrapper.notify("[IMQR] processing error: ",msg,e)}process_lock=false}function receive(msg){try{if(typeof msg.data==="string"&&msg.data!==""&&msg.data.indexOf("IMQR")!==-1)q.push(JSON.parse(msg.data))}catch(e){Bootstrapper.notify("[IMQR] cannot decode message",msg,"\n",e)}}window.addEventListener("message",receive,false);return q}("digitalData");Bootstrapper.logSObject=function(){try{var cookieName="AUDI_ENSIGHTEN_LOG_SOBJECT";var active=document.cookie.indexOf(cookieName)>
-1;var collapsed=document.cookie.indexOf(cookieName+"\x3d1")>-1;if(!active)return function(){};var evarKeys=[];for(var i=0;i<=250;i++)evarKeys.push("eVar"+i);var propKeys=[];for(var i=0;i<=75;i++)propKeys.push("prop"+i);var listKeys=[];for(var i=1;i<=3;i++)listKeys.push("list"+i);var hierKeys=[];for(var i=1;i<=5;i++)hierKeys.push("hier"+i);function output(k,v){if(v===undefined||v===null||v==="")return;var kc=k.length;var kmaxLen=20;console.log([k,Array(kmaxLen-kc).join(" "),":",v].join(" "))}function iterateVars(s,
arr){for(var i=0,l=arr.length;i<l;i++){var k=arr[i];var v=s[k];output(k,v)}}function formatProducts(s){if(typeof s.products!=="string"||s.products==="")return;var products=s.products.split(",");output("Total Products","#"+products.length);var types=["category","product","quantity","price","event_incrementer","evars"];for(var i=0,li=products.length;i<li;i++){output("  Product","#"+(i+1));var values=products[i].split(";");for(var j=0,lj=products.length;j<lj;j++)output("   "+types[j],values[j])}}function experienceCloud(s){if(s.visitor){output("AEC Org ID",
s.visitor.marketingCloudOrgID);if(s.visitor.getMarketingCloudVisitorID)output("AEC VisitorID",s.visitor.getMarketingCloudVisitorID());else output("Analytics VisitorID",s.visitor.getAnalyticsVisitorID())}}function begin(){var h="Adobe Analytics Request";if(console.group)if(collapsed)console.groupCollapsed(h);else console.group(h);else console.log(h)}function end(){if(console.groupEnd)console.groupEnd()}return function(AdobeAnalyticsSObject){try{var s=AdobeAnalyticsSObject;begin();output("ReportSuite",
s.account);output("Server",s.server);output("PageName",s.pageName);output("Current URL",s.pageURL);output("Referrer",s.referrer);output("Campaign",s.campaign);output("Site Sections",s.channel);output("Events",s.events);output("PurchaseID",s.purchaseID);formatProducts(s);iterateVars(s,evarKeys);iterateVars(s,propKeys);iterateVars(s,listKeys);iterateVars(s,hierKeys);experienceCloud(s);end()}catch(e){Bootstrapper.analyticsError.report(e,"logSObject")}}}catch(e){Bootstrapper.notify(e);return function(){}}}();
Bootstrapper.analyticsHelper.featureAppTracking=function(){try{var featureAppList={};var helperFunction={validateKey:function(key){var reg=new RegExp("(eVar([0-9]|[1-9][0-9]|[1-2][0-4][0-9]|250)$|events|hier([0-5])|list[0-3]|pageName|pageURL|pev[1-3]|products|prop([0-9]|[1-6][0-9]|[1-7][0-5])$|purchaseID|transactionID|referrer|channel|campaign)");if(typeof key!=="string"||!reg.test(key))Bootstrapper.notify("given Key "+key+" didn't pass the validation process of Adobe Variables");return reg.test(key)},
isPrimitive:function(val){return typeof val==="string"||typeof val==="boolean"||typeof val==="number"}};return{getList:function(){return featureAppList},setVariable:function(key,value,overwrite_sObject,separator_sObject){overwrite=overwrite_sObject===false?false:true;separator=typeof separator_sObject==="string"?separator_sObject:",";if(typeof overwrite!=="boolean"){Bootstrapper.notify("FeatureAppTracking setVariable - third argument no boolean! Set to true");overwrite=true}if(helperFunction.validateKey(key)&&
helperFunction.isPrimitive(value)&&value){featureAppList[key]={"value":value.toString(),"overwrite":overwrite,"separator":separator};return{"value":value,"overwrite":overwrite,"separator":separator}}else{Bootstrapper.notify("setVariable - wrong key "+key+" or value "+value+" is not valid value.");return""}},getVariable:function(key){if(helperFunction.validateKey(key))return featureAppList[key]?featureAppList[key]:"";else{Bootstrapper.notify("FA - getVariable - key couldn't be found");return""}},getVariableValue:function(key){if(helperFunction.validateKey(key))return featureAppList[key]?
featureAppList[key].value:"";else{Bootstrapper.notify("getVariableValue - key couldn't be found");return""}},getVariableOverwriteStatus:function(key){if(helperFunction.validateKey(key))return featureAppList[key]?featureAppList[key].overwrite:"";else{Bootstrapper.notify("getVariableOverwriteStatus - key couldn't be found");return""}},getVariableSeparator:function(key){if(helperFunction.validateKey(key))return featureAppList[key]?featureAppList[key].separator:"";else{Bootstrapper.notify(" getVariableSeparator - key couldn't be found");
return""}},clearList:function(){featureAppList={};return""}}}catch(e){Bootstrapper.analyticsError.report(e,"000-Initialize FeatureAppTrackingFramework")}}()},3451528,538643);Bootstrapper.getServerComponent(Bootstrapper.getExtraParams ? Bootstrapper.getExtraParams() : undefined);}})();